<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker study: What is a docker? | Jeha00 DevLog</title><meta name=keywords content="docker"><meta name=description content="첫 번째, PaaS란 무엇인지, 컨테이너 가상화란 무엇인지를 통해서 docker가 무엇인지 알아본다. 두 번째, docker의 build, pull, run은 무엇을 하는 건지 알아본다."><meta name=author content><link rel=canonical href=http://jeha00.github.io/post/docker/02_what-is-docker/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.1e44d58192cbf6d7a4eb649bc43dbc3d4cc432677e5d8adc69b08c34cbe461ac.css integrity="sha256-HkTVgZLL9tek62SbxD28PUzEMmd+XYrcabCMNMvkYaw=" rel="preload stylesheet" as=style><link rel=icon href=http://jeha00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://jeha00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://jeha00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://jeha00.github.io/apple-touch-icon.png><link rel=mask-icon href=http://jeha00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Docker study: What is a docker?"><meta property="og:description" content="첫 번째, PaaS란 무엇인지, 컨테이너 가상화란 무엇인지를 통해서 docker가 무엇인지 알아본다. 두 번째, docker의 build, pull, run은 무엇을 하는 건지 알아본다."><meta property="og:type" content="article"><meta property="og:url" content="http://jeha00.github.io/post/docker/02_what-is-docker/"><meta property="og:image" content="http://jeha00.github.io/47"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-12-02T21:52:35+09:00"><meta property="article:modified_time" content="2022-12-02T21:52:35+09:00"><meta property="og:site_name" content="JeHa00 DevLog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://jeha00.github.io/47"><meta name=twitter:title content="Docker study: What is a docker?"><meta name=twitter:description content="첫 번째, PaaS란 무엇인지, 컨테이너 가상화란 무엇인지를 통해서 docker가 무엇인지 알아본다. 두 번째, docker의 build, pull, run은 무엇을 하는 건지 알아본다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://jeha00.github.io/post/"},{"@type":"ListItem","position":2,"name":"Docker study: What is a docker?","item":"http://jeha00.github.io/post/docker/02_what-is-docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker study: What is a docker?","name":"Docker study: What is a docker?","description":"첫 번째, PaaS란 무엇인지, 컨테이너 가상화란 무엇인지를 통해서 docker가 무엇인지 알아본다. 두 번째, docker의 build, pull, run은 무엇을 하는 건지 알아본다.","keywords":["docker"],"articleBody":"0. Introduction 해당 강의는 러닝스푼즈 - 나노디그리 Python \u0026 Django backed course의 장철원 강사님의 docker 강의를 학습한 내용입니다.\ndocker의 기본 개념에 대해 학습해보겠습니다.\n1. Docker란? container(컨테이너) 라고 부르는 패키지 형태 OS-level 가상화 기술을 사용한 PaaS(Platform as a service) 제품 컨테이너를 관리하는 소프트웨어를 도커 엔진(Docker Engine) 이라 한다. 2. laaS, PaaS, SaaS의 개념 On premises 사용자가 전부 다 관리해야하는 서비스 다나와에서 서버를 하나 사서, 처음부터 끝까지 사용자가 다 하는 것 Iaas (Infrastructure as a service) 인프라를 서비스로 제공한다는 의미로서, Networking부터 가상화까지만 업체에서 제공하고, 나머지만 사용자가 관리하는 서비스 Ex) AWS, Google Cloud, Microsoft Azure HW 고장을 신경쓰지 않는다. Paas (Platform as a service) applications과 data 제외한 모든 부분을 업체에서 제공하는 서비스 Ex) Docker, github, Kubernetes 배포할 수 있는 플랫폼을 제공하는 서비스 Saas (Software as a service) 전부 다 업체가 관리하는 서비스 소프트웨어만 사용자가 신경쓴다. ex) Gmail, Google Docs, Office 365 그렇다면 개인 프로젝트들은 IaaS, PaaS, SaaS 중 무엇일까? 정답: SaaS 사용자가 아닌 제공자의 관점에서 위 이미지 기준으로 어느 단계까지 제공하는 지가 분류 기준이다. IaaS X: EC2를 사용할 뿐, EC2를 제공하지 않는다. PaaS X: Docker를 사용할 뿐, Docker service를 제공하지 않는다. 3. 가상화, 가상화의 종류 그리고 docker 가상화(virtualization)이란? 물리적 자원(H/W)을 논리적 자원으로 변환해서 사용하는 것\n예를 들어 하드 디스크 하나지만, C 드라이브와 D 드라이브로 쪼개서 사용하는 것이 가상화의 개념이다.\n가상화의 종류 첫 번째 : 호스트 가상화(Host virtualization)\n두 번째 : 하이퍼 바이저 가상화(Hypervisor virtualization)\n세 번째 : OS level 가상화, 컨테이너 가상화\n출처: https://transferhwang.tistory.com/31\n첫 번째, Host virtualization(호스트 가상화) Host OS(기존에 깔려 있는 OS) 위에 Guest OS(설치할려는 OS)를 얹어서 사용하는 방식\nlayer 구성\nHW \u003e Host OS(ex: Window) \u003e Hypervisor (ex: VMware) \u003e 가상 서버 #1, #2…#N 가상서버는 다음과 같이 밑에서부터 구성된다.\n가상 서버 #1: guest OS(ex: linux) \u003e Bins/libs \u003e application A 가상 서버 #2: guest OS \u003e Bins/libs \u003e application B 장점: Host OS가 무엇이든지 상관없이 제약이 없다.\n단점: OS 위에 OS를 얹기 때문에 무거워서 느리다.\n두 번째, Hypervisor virtualization(하이퍼바이저 가상화) Host OS 없이 하드웨어 위에 바로 하이퍼바이저 설치\nlayer 구성\nHW \u003e Hypervisor \u003e 가상 서버 #1, #2, .., #N 가상 서버: guest OS \u003e Bins/libs \u003e application A 장점: Host OS가 존재하지 않으므로 가벼움\n단점: 머신 전체를 관리하기 위한 또 다른 PC 필요\n그래서 많이 사용하지 않는다.\n세 번째, Container virtualization(컨테이너 가상화): Docker Host OS 위에 컨테이너 관리 프로그램 설치\nlayer 구성\nHW \u003e Host OS \u003e Docker \u003e Container #1, #2, … , # N Container #1: Bins/libs \u003e Application A application만 관리\n장점: 가볍고 빠르다.\n컨테이너가 없이 사용할 경우 문제점\nOS 위에 바로 장고를 설치하여 app을 배포한다면 OS에 따라서 달라지는 문제가 생긴다. 컨테이너 없이 배포를 한다면 계속해서 서비스를 유지해야 하기 때문에 다른 걸 하기 어렵다. 하나의 서버에 여러 서비스를 돌리면 위험한 이유\n서로 다른 서비스에게 반드시 영향을 줄 수 밖에 없다. 이 서비스를 삭제한다고 해도 흔적이 남기 때문이다. 하지만 도커를 사용해서 다음 것들이 가능해졌다.\n1번 컨테이너에 문제가 생겼으면 해당 컨테이너를 끄기만 하면 된다.(격리 isolation) 다른 container에 있는 것에 영향을 줄 수 없다. 옛날에는 하나의 EC2 마다 하나의 서비스를 배포했지만, 지금은 docker를 사용하면 하나의 EC2에서도 여러 개의 서비스를 배포할 수 있다. Docker는 Linux 환경에서만 동작한다. 4. docker의 구조 docker engine의 구조 Persistent storage, Containerd, Networking\n도커의 구조는 매우 복잡하지만 크게 보면 3가지로 구분된다.\nPersistent Storage: 데이터 저장 공간\nContainerd: 만든 프로그램을 컨테이너 안에 담는 역할로, 도커 엔진 밖에 존재한다.\nNetworking: 컨테이너끼리의 통신 또는 컨테이너와 외부 간 통신하는 역할\ndocker의 구조 Client, Registry client: 사용하는 노트북 Registry: 도커 이미지 저장소 https://hub.docker.com/ 기본적으로 도커 허브에 있는 이미지를 찾도록 설정되어 있다. Docker hosts docker가 설치된 서버로서, 나는 ec2를 사용할 것이므로 EC2가 된다.\nDocker engine : 클라이언트-서버 역할을 수행\ndockered와 같은 DAEMON process가 실행되는 서버 dockerd에서 d는 daemon을 말한다. 도커 데몬과 의사소통하기 위한 API 역할 CLI client docker 도커 명령어를 dockered가 받아서 실행하는데, 이는 API를 호출하는 것이다. docker daemon : host에서 메모리에 상주(프로세스)하며 백그라운드에서 클라이언트의 요청에 따라 컨테이너를 관리하는 프로세스\n메모리에 상주하면서 클라이언트의 요청이 오면 즉시 대응할 수 있도록 대기 중인 프로세스 docker 사용자는 이 daemon과 통신하는 것 docker image : 도커 컨테이너를 실행하기 위해 필요한 모든 걸 모아놓은 패키지\n어떻게 인스턴스화되어야 하는지에 대한 내용 포함 실행 중인 도커 컨테이너의 특정 시점을 나타내는 가상 환경의 스냅샷 특정 시점: 나의 tool들을 설치한 시점 docker container : 실행 가능한 도커 이미지의 인스턴스\n다른 프로세스들과 완전히 부리된 하나의 프로세스 가상화된 런타임 환경 build, pull, run build : client로부터 직접 dockerfile를 image로 만드는 과정\n사람이란 개념(클래스)과 철수라는 구체적인 예시(인스턴스) image는 클래스 인스턴스의 개념에서 클래스 Container는 instance 하지만 build는 image까지만 만들어낼 수 있다. pull : Image를 만드는데, 내 컴퓨터에서 만드는 게 아닌 registry로부터 image를 만드는 과정\nrun : image로부터 container를 만드는 과정\nDocker host에 image가 없다면 자동적으로 pull을 실행한다. 실행한 컨테이너는 IP 주소를 가지는 하나의 독립된 서버처럼 동작한다. 각 컨테이너는 고유의 IP 주소와 포트 번호를 가진다. 컨테이너는 실행할 때마다 새로운 IP 주소를 가진다. 5. 컨테이너는 운영체제일까? 컨테이너는 해당 image를 실행하기 위한 최소 파일들이지, 운영체제가 아니다.\n위의 컨테이너 가상화 이미지를 보자.\nhost OS는 있지만, 컨테이너 안에는 OS가 없다.\n그러면 운영체제가 아닌데, 어떻게 우분투를 실행할 수 있을까?\n컨테이너의 최하단은 Bins/libs다.\n해당 image를 실행하기 위한 최소 파일들을 말한다.\n그래서 운영체제와 헷갈릴 수 있지만, 엄밀히 얘기하면 운영체제가 아니다.\nReference 러닝스푼즈 - 나노디그리 Python \u0026 Django backed course ","wordCount":"826","inLanguage":"en","datePublished":"2022-12-02T21:52:35+09:00","dateModified":"2022-12-02T21:52:35+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://jeha00.github.io/post/docker/02_what-is-docker/"},"publisher":{"@type":"Organization","name":"Jeha00 DevLog","logo":{"@type":"ImageObject","url":"http://jeha00.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://jeha00.github.io/ accesskey=h title="Jeha00 (Alt + H)">Jeha00</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://jeha00.github.io/me/ title=About><span>About</span></a></li><li><a href=http://jeha00.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=http://jeha00.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://jeha00.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://jeha00.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://jeha00.github.io/post/>Posts</a></div><h1 class=post-title>Docker study: What is a docker?</h1><div class=post-meta><span title='2022-12-02 21:52:35 +0900 KST'>December 2, 2022</span>&nbsp;|&nbsp;<a href=https://github.com/JeHa00/blog/content/post/Docker/02_what-is-docker.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#0-introduction aria-label="0. Introduction">0. Introduction</a></li><li><a href=#1-docker%eb%9e%80 aria-label="1. Docker란?">1. Docker란?</a></li><li><a href=#2-laas-paas-saas%ec%9d%98-%ea%b0%9c%eb%85%90 aria-label="2. laaS, PaaS, SaaS의 개념">2. laaS, PaaS, SaaS의 개념</a><ul><ul><li><a href=#on-premises aria-label="On premises">On premises</a></li><li><a href=#iaas-infrastructure-as-a-service aria-label="Iaas (Infrastructure as a service)">Iaas (Infrastructure as a service)</a></li><li><a href=#paas-platform-as-a-service aria-label="Paas (Platform as a service)">Paas (Platform as a service)</a></li><li><a href=#saas-software-as-a-service aria-label="Saas (Software as a service)">Saas (Software as a service)</a></li><li><a href=#%ea%b7%b8%eb%a0%87%eb%8b%a4%eb%a9%b4-%ea%b0%9c%ec%9d%b8-%ed%94%84%eb%a1%9c%ec%a0%9d%ed%8a%b8%eb%93%a4%ec%9d%80-iaas-paas-saas-%ec%a4%91-%eb%ac%b4%ec%97%87%ec%9d%bc%ea%b9%8c aria-label="그렇다면 개인 프로젝트들은 IaaS, PaaS, SaaS 중 무엇일까?">그렇다면 개인 프로젝트들은 IaaS, PaaS, SaaS 중 무엇일까?</a></li></ul></ul></li><li><a href=#3-%ea%b0%80%ec%83%81%ed%99%94-%ea%b0%80%ec%83%81%ed%99%94%ec%9d%98-%ec%a2%85%eb%a5%98-%ea%b7%b8%eb%a6%ac%ea%b3%a0-docker aria-label="3. 가상화, 가상화의 종류 그리고 docker">3. 가상화, 가상화의 종류 그리고 docker</a><ul><li><a href=#%ea%b0%80%ec%83%81%ed%99%94virtualization%ec%9d%b4%eb%9e%80 aria-label=가상화(virtualization)이란?>가상화(virtualization)이란?</a></li><li><a href=#%ea%b0%80%ec%83%81%ed%99%94%ec%9d%98-%ec%a2%85%eb%a5%98 aria-label="가상화의 종류">가상화의 종류</a><ul><li><a href=#%ec%b2%ab-%eb%b2%88%ec%a7%b8-host-virtualization%ed%98%b8%ec%8a%a4%ed%8a%b8-%ea%b0%80%ec%83%81%ed%99%94 aria-label="첫 번째, Host virtualization(호스트 가상화)">첫 번째, Host virtualization(호스트 가상화)</a></li><li><a href=#%eb%91%90-%eb%b2%88%ec%a7%b8-hypervisor-virtualization%ed%95%98%ec%9d%b4%ed%8d%bc%eb%b0%94%ec%9d%b4%ec%a0%80-%ea%b0%80%ec%83%81%ed%99%94 aria-label="두 번째, Hypervisor virtualization(하이퍼바이저 가상화)">두 번째, Hypervisor virtualization(하이퍼바이저 가상화)</a></li><li><a href=#%ec%84%b8-%eb%b2%88%ec%a7%b8-container-virtualization%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%ea%b0%80%ec%83%81%ed%99%94-docker aria-label="세 번째, Container virtualization(컨테이너 가상화): Docker">세 번째, Container virtualization(컨테이너 가상화): Docker</a></li></ul></li><li><a href=#docker%eb%8a%94-linux-%ed%99%98%ea%b2%bd%ec%97%90%ec%84%9c%eb%a7%8c-%eb%8f%99%ec%9e%91%ed%95%9c%eb%8b%a4 aria-label="Docker는 Linux 환경에서만 동작한다.">Docker는 Linux 환경에서만 동작한다.</a></li></ul></li><li><a href=#4-docker%ec%9d%98-%ea%b5%ac%ec%a1%b0 aria-label="4. docker의 구조">4. docker의 구조</a><ul><li><a href=#docker-engine%ec%9d%98-%ea%b5%ac%ec%a1%b0 aria-label="docker engine의 구조">docker engine의 구조</a></li><li><a href=#docker%ec%9d%98-%ea%b5%ac%ec%a1%b0 aria-label="docker의 구조">docker의 구조</a><ul><li><a href=#client-registry aria-label="Client, Registry">Client, Registry</a></li><li><a href=#docker-hosts aria-label="Docker hosts">Docker hosts</a></li><li><a href=#build-pull-run aria-label="build, pull, run">build, pull, run</a></li></ul></li></ul></li><li><a href=#5-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88%eb%8a%94-%ec%9a%b4%ec%98%81%ec%b2%b4%ec%a0%9c%ec%9d%bc%ea%b9%8c aria-label="5. 컨테이너는 운영체제일까?">5. 컨테이너는 운영체제일까?</a></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h1 id=0-introduction>0. Introduction<a hidden class=anchor aria-hidden=true href=#0-introduction>#</a></h1><ul><li><p>해당 강의는 <a href=https://learningspoons.com/course/detail/django-backend/>러닝스푼즈 - 나노디그리 Python & Django backed course</a>의 장철원 강사님의 docker 강의를 학습한 내용입니다.</p></li><li><p>docker의 기본 개념에 대해 학습해보겠습니다.</p></li></ul><p> </p><hr><h1 id=1-docker란>1. Docker란?<a hidden class=anchor aria-hidden=true href=#1-docker란>#</a></h1><ul><li><strong>container(컨테이너)</strong> 라고 부르는 패키지 형태</li><li><strong>OS-level 가상화</strong> 기술을 사용한 <strong>PaaS(Platform as a service)</strong> 제품</li><li>컨테이너를 관리하는 소프트웨어를 <strong>도커 엔진(Docker Engine)</strong> 이라 한다.</li></ul><p> </p><hr><h1 id=2-laas-paas-saas의-개념>2. laaS, PaaS, SaaS의 개념<a hidden class=anchor aria-hidden=true href=#2-laas-paas-saas의-개념>#</a></h1><p><img loading=lazy src=https://user-images.githubusercontent.com/78094972/205043637-222e4ee6-971a-4f55-b4b2-68a20e1aebb5.png alt=image></p><h3 id=on-premises>On premises<a hidden class=anchor aria-hidden=true href=#on-premises>#</a></h3><ul><li>사용자가 전부 다 관리해야하는 서비스</li><li>다나와에서 서버를 하나 사서, 처음부터 끝까지 사용자가 다 하는 것</li></ul><h3 id=iaas-infrastructure-as-a-service>Iaas (Infrastructure as a service)<a hidden class=anchor aria-hidden=true href=#iaas-infrastructure-as-a-service>#</a></h3><ul><li>인프라를 서비스로 제공한다는 의미로서, Networking부터 가상화까지만 업체에서 제공하고, 나머지만 사용자가 관리하는 서비스</li><li>Ex) AWS, Google Cloud, Microsoft Azure<ul><li>HW 고장을 신경쓰지 않는다.</li></ul></li></ul><h3 id=paas-platform-as-a-service>Paas (Platform as a service)<a hidden class=anchor aria-hidden=true href=#paas-platform-as-a-service>#</a></h3><ul><li>applications과 data 제외한 모든 부분을 업체에서 제공하는 서비스<ul><li>Ex) Docker, github, Kubernetes</li></ul></li><li>배포할 수 있는 플랫폼을 제공하는 서비스</li></ul><h3 id=saas-software-as-a-service>Saas (Software as a service)<a hidden class=anchor aria-hidden=true href=#saas-software-as-a-service>#</a></h3><ul><li>전부 다 업체가 관리하는 서비스</li><li>소프트웨어만 사용자가 신경쓴다.</li><li>ex) Gmail, Google Docs, Office 365</li></ul><h3 id=그렇다면-개인-프로젝트들은-iaas-paas-saas-중-무엇일까>그렇다면 개인 프로젝트들은 IaaS, PaaS, SaaS 중 무엇일까?<a hidden class=anchor aria-hidden=true href=#그렇다면-개인-프로젝트들은-iaas-paas-saas-중-무엇일까>#</a></h3><ul><li>정답: <strong>SaaS</strong></li><li><strong>사용자가 아닌 제공자의 관점에서 위 이미지 기준으로 어느 단계까지 제공하는 지가 분류 기준이다.</strong><ul><li>IaaS X: EC2를 사용할 뿐, EC2를 제공하지 않는다.</li><li>PaaS X: Docker를 사용할 뿐, Docker service를 제공하지 않는다.</li></ul></li></ul><p> </p><hr><h1 id=3-가상화-가상화의-종류-그리고-docker>3. 가상화, 가상화의 종류 그리고 docker<a hidden class=anchor aria-hidden=true href=#3-가상화-가상화의-종류-그리고-docker>#</a></h1><h2 id=가상화virtualization이란>가상화(virtualization)이란?<a hidden class=anchor aria-hidden=true href=#가상화virtualization이란>#</a></h2><blockquote><p><strong><em>물리적 자원(H/W)을 논리적 자원으로 변환해서 사용하는 것</em></strong></p></blockquote><p>예를 들어 하드 디스크 하나지만, C 드라이브와 D 드라이브로 쪼개서 사용하는 것이 가상화의 개념이다.</p><p> </p><h2 id=가상화의-종류>가상화의 종류<a hidden class=anchor aria-hidden=true href=#가상화의-종류>#</a></h2><blockquote><p><strong><em>첫 번째 : 호스트 가상화(Host virtualization)</em></strong><br><strong><em>두 번째 : 하이퍼 바이저 가상화(Hypervisor virtualization)</em></strong><br><strong><em>세 번째 : OS level 가상화, 컨테이너 가상화</em></strong></p></blockquote><p><img loading=lazy src=https://user-images.githubusercontent.com/78094972/205431374-9e4f18cf-3b98-40a2-9e9a-a7d6ca7fa0a8.png alt=image></p><p>출처: <a href=https://transferhwang.tistory.com/31>https://transferhwang.tistory.com/31</a></p><p> </p><h3 id=첫-번째-host-virtualization호스트-가상화>첫 번째, Host virtualization(호스트 가상화)<a hidden class=anchor aria-hidden=true href=#첫-번째-host-virtualization호스트-가상화>#</a></h3><blockquote><p><strong><em>Host OS(기존에 깔려 있는 OS) 위에 Guest OS(설치할려는 OS)를 얹어서 사용하는 방식</em></strong></p></blockquote><ul><li><p><strong>layer 구성</strong></p><ul><li>HW > <strong>Host OS(ex: Window)</strong> > Hypervisor (ex: VMware) > 가상 서버 #1, #2&mldr;#N</li></ul></li><li><p>가상서버는 다음과 같이 밑에서부터 구성된다.</p><ul><li>가상 서버 #1: <strong>guest OS(ex: linux)</strong> > Bins/libs > application A</li><li>가상 서버 #2: <strong>guest OS</strong> > Bins/libs > application B</li></ul></li><li><p>장점: Host OS가 무엇이든지 상관없이 제약이 없다.</p></li><li><p>단점: OS 위에 OS를 얹기 때문에 무거워서 느리다.</p></li></ul><p> </p><h3 id=두-번째-hypervisor-virtualization하이퍼바이저-가상화>두 번째, Hypervisor virtualization(하이퍼바이저 가상화)<a hidden class=anchor aria-hidden=true href=#두-번째-hypervisor-virtualization하이퍼바이저-가상화>#</a></h3><blockquote><p><strong><em>Host OS 없이 하드웨어 위에 바로 하이퍼바이저 설치</em></strong></p></blockquote><ul><li><p>layer 구성</p><ul><li>HW > Hypervisor > 가상 서버 #1, #2, .., #N</li><li>가상 서버: guest OS > Bins/libs > application A</li></ul></li><li><p>장점: Host OS가 존재하지 않으므로 가벼움</p></li><li><p>단점: 머신 전체를 관리하기 위한 또 다른 PC 필요</p></li><li><p>그래서 많이 사용하지 않는다.</p></li></ul><p> </p><h3 id=세-번째-container-virtualization컨테이너-가상화-docker>세 번째, Container virtualization(컨테이너 가상화): Docker<a hidden class=anchor aria-hidden=true href=#세-번째-container-virtualization컨테이너-가상화-docker>#</a></h3><blockquote><p><strong><em>Host OS 위에 컨테이너 관리 프로그램 설치</em></strong></p></blockquote><ul><li><p>layer 구성</p><ul><li>HW > <strong>Host OS</strong> > Docker > Container #1, #2, &mldr; , # N</li><li>Container #1: Bins/libs > Application A</li></ul></li><li><p>application만 관리</p></li><li><p>장점: 가볍고 빠르다.</p></li><li><p>컨테이너가 없이 사용할 경우 문제점</p><ul><li>OS 위에 바로 장고를 설치하여 app을 배포한다면 OS에 따라서 달라지는 문제가 생긴다.</li><li>컨테이너 없이 배포를 한다면 계속해서 서비스를 유지해야 하기 때문에 다른 걸 하기 어렵다.</li></ul></li><li><p>하나의 서버에 여러 서비스를 돌리면 위험한 이유</p><ul><li>서로 다른 서비스에게 반드시 영향을 줄 수 밖에 없다.</li><li>이 서비스를 삭제한다고 해도 흔적이 남기 때문이다.</li></ul></li><li><p>하지만 도커를 사용해서 다음 것들이 가능해졌다.</p><ul><li>1번 컨테이너에 문제가 생겼으면 해당 컨테이너를 끄기만 하면 된다.(격리 isolation)</li><li>다른 container에 있는 것에 영향을 줄 수 없다.</li><li>옛날에는 하나의 EC2 마다 하나의 서비스를 배포했지만, 지금은 docker를 사용하면 하나의 EC2에서도 여러 개의 서비스를 배포할 수 있다.</li></ul></li></ul><p> </p><h2 id=docker는-linux-환경에서만-동작한다>Docker는 Linux 환경에서만 동작한다.<a hidden class=anchor aria-hidden=true href=#docker는-linux-환경에서만-동작한다>#</a></h2><p><img loading=lazy src=https://user-images.githubusercontent.com/78094972/205053860-488bd4ef-e191-4603-bd84-4dc6d611a987.png alt=image></p><hr><h1 id=4-docker의-구조>4. docker의 구조<a hidden class=anchor aria-hidden=true href=#4-docker의-구조>#</a></h1><h2 id=docker-engine의-구조>docker engine의 구조<a hidden class=anchor aria-hidden=true href=#docker-engine의-구조>#</a></h2><blockquote><p><strong><em>Persistent storage, Containerd, Networking</em></strong></p></blockquote><p>도커의 구조는 매우 복잡하지만 크게 보면 3가지로 구분된다.</p><ul><li><p>Persistent Storage: 데이터 저장 공간</p></li><li><p>Containerd: 만든 프로그램을 컨테이너 안에 담는 역할로, 도커 엔진 밖에 존재한다.</p></li><li><p>Networking: 컨테이너끼리의 통신 또는 컨테이너와 외부 간 통신하는 역할</p></li></ul><h2 id=docker의-구조>docker의 구조<a hidden class=anchor aria-hidden=true href=#docker의-구조>#</a></h2><p><img loading=lazy src=https://user-images.githubusercontent.com/78094972/205061439-69520c12-90bf-49d4-9fa2-f4108bff919b.png alt=image></p><p> </p><h3 id=client-registry>Client, Registry<a hidden class=anchor aria-hidden=true href=#client-registry>#</a></h3><ul><li>client: 사용하는 노트북</li><li>Registry: 도커 이미지 저장소<ul><li><a href=https://hub.docker.com/>https://hub.docker.com/</a></li><li>기본적으로 도커 허브에 있는 이미지를 찾도록 설정되어 있다.</li></ul></li></ul><p> </p><h3 id=docker-hosts>Docker hosts<a hidden class=anchor aria-hidden=true href=#docker-hosts>#</a></h3><p>docker가 설치된 서버로서, 나는 ec2를 사용할 것이므로 EC2가 된다.</p><ul><li><p><strong>Docker engine</strong> : 클라이언트-서버 역할을 수행</p><ul><li>dockered와 같은 DAEMON process가 실행되는 서버<ul><li>dockerd에서 d는 daemon을 말한다.</li></ul></li><li>도커 데몬과 의사소통하기 위한 API 역할</li><li>CLI client docker</li><li>도커 명령어를 dockered가 받아서 실행하는데, 이는 API를 호출하는 것이다.</li></ul></li><li><p><strong>docker daemon</strong> : host에서 메모리에 상주(프로세스)하며 백그라운드에서 클라이언트의 요청에 따라 컨테이너를 관리하는 프로세스</p><ul><li>메모리에 상주하면서 클라이언트의 요청이 오면 즉시 대응할 수 있도록 대기 중인 프로세스</li><li><strong>docker 사용자는 이 daemon과 통신하는 것</strong></li></ul></li><li><p><strong>docker image</strong> : 도커 컨테이너를 실행하기 위해 필요한 모든 걸 모아놓은 패키지</p><ul><li>어떻게 인스턴스화되어야 하는지에 대한 내용 포함</li><li><strong>실행 중인 도커 컨테이너의 특정 시점을 나타내는 가상 환경의 스냅샷</strong><ul><li>특정 시점: 나의 tool들을 설치한 시점</li></ul></li></ul></li><li><p><strong>docker container</strong> : 실행 가능한 도커 이미지의 인스턴스</p><ul><li>다른 프로세스들과 완전히 부리된 하나의 프로세스</li><li>가상화된 런타임 환경</li></ul></li></ul><p> </p><h3 id=build-pull-run>build, pull, run<a hidden class=anchor aria-hidden=true href=#build-pull-run>#</a></h3><ul><li><p><strong>build</strong> : client로부터 직접 dockerfile를 image로 만드는 과정</p><ul><li>사람이란 개념(클래스)과 철수라는 구체적인 예시(인스턴스)</li><li>image는 클래스 인스턴스의 개념에서 클래스</li><li>Container는 instance</li><li>하지만 build는 image까지만 만들어낼 수 있다.</li></ul></li><li><p><strong>pull</strong> : Image를 만드는데, 내 컴퓨터에서 만드는 게 아닌 registry로부터 image를 만드는 과정</p></li><li><p><strong>run</strong> : image로부터 container를 만드는 과정</p><ul><li>Docker host에 image가 없다면 자동적으로 pull을 실행한다.</li><li><strong>실행한 컨테이너는 IP 주소를 가지는 하나의 독립된 서버처럼 동작한다.</strong></li><li><strong>각 컨테이너는 고유의 IP 주소와 포트 번호를 가진다.</strong></li><li><strong>컨테이너는 실행할 때마다 새로운 IP 주소를 가진다.</strong></li></ul></li></ul><p> </p><hr><h1 id=5-컨테이너는-운영체제일까>5. 컨테이너는 운영체제일까?<a hidden class=anchor aria-hidden=true href=#5-컨테이너는-운영체제일까>#</a></h1><blockquote><p><strong><em>컨테이너는 해당 image를 실행하기 위한 최소 파일들이지, 운영체제가 아니다.</em></strong></p></blockquote><p>위의 컨테이너 가상화 이미지를 보자.</p><p>host OS는 있지만, 컨테이너 안에는 OS가 없다.</p><p>그러면 운영체제가 아닌데, 어떻게 우분투를 실행할 수 있을까?</p><p>컨테이너의 최하단은 <code>Bins/libs</code>다.</p><p>해당 image를 실행하기 위한 최소 파일들을 말한다.</p><p>그래서 운영체제와 헷갈릴 수 있지만, 엄밀히 얘기하면 운영체제가 아니다.</p><p> </p><hr><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><a href=https://learningspoons.com/course/detail/django-backend/>러닝스푼즈 - 나노디그리 Python & Django backed course</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://jeha00.github.io/tags/docker/>docker</a></li></ul><nav class=paginav><a class=prev href=http://jeha00.github.io/post/docker/03_make-custom-image/><span class=title>« Prev Page</span><br><span>Docker study: 기본 image 활용하여 나만의 custom image 만들기</span></a>
<a class=next href=http://jeha00.github.io/post/bookstudy/pythoncleancode/chapter04_naming/><span class=title>Next Page »</span><br><span>Book Study - 클린 코드, 이제는 파이썬이다: naming</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Docker study: What is a docker? on twitter" href="https://twitter.com/intent/tweet/?text=Docker%20study%3a%20What%20is%20a%20docker%3f&url=http%3a%2f%2fjeha00.github.io%2fpost%2fdocker%2f02_what-is-docker%2f&hashtags=docker"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker study: What is a docker? on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fjeha00.github.io%2fpost%2fdocker%2f02_what-is-docker%2f&title=Docker%20study%3a%20What%20is%20a%20docker%3f&summary=Docker%20study%3a%20What%20is%20a%20docker%3f&source=http%3a%2f%2fjeha00.github.io%2fpost%2fdocker%2f02_what-is-docker%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker study: What is a docker? on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fjeha00.github.io%2fpost%2fdocker%2f02_what-is-docker%2f&title=Docker%20study%3a%20What%20is%20a%20docker%3f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker study: What is a docker? on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fjeha00.github.io%2fpost%2fdocker%2f02_what-is-docker%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker study: What is a docker? on whatsapp" href="https://api.whatsapp.com/send?text=Docker%20study%3a%20What%20is%20a%20docker%3f%20-%20http%3a%2f%2fjeha00.github.io%2fpost%2fdocker%2f02_what-is-docker%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker study: What is a docker? on telegram" href="https://telegram.me/share/url?text=Docker%20study%3a%20What%20is%20a%20docker%3f&url=http%3a%2f%2fjeha00.github.io%2fpost%2fdocker%2f02_what-is-docker%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://jeha00.github.io/>Jeha00 DevLog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>