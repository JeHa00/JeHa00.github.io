<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[TIL] Git study: Lecture Chapter 02 - reset vs revert | Jeha00 DevLog</title><meta name=keywords content="TIL,git"><meta name=description content="git add 와  git commit 으로 변경사항을 stage에 올리고, 저장해본다. 이 과정에서 vim의 몇 가지 명령어를 알아본다.  git reset &ndash;hard / git revert 를 학습하여 과거 시점으로 돌아가는 걸 학습한다."><meta name=author content><link rel=canonical href=http://jeha00.github.io/post/git/lec_chapter02/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.1e44d58192cbf6d7a4eb649bc43dbc3d4cc432677e5d8adc69b08c34cbe461ac.css integrity="sha256-HkTVgZLL9tek62SbxD28PUzEMmd+XYrcabCMNMvkYaw=" rel="preload stylesheet" as=style><link rel=icon href=http://jeha00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://jeha00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://jeha00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://jeha00.github.io/apple-touch-icon.png><link rel=mask-icon href=http://jeha00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="[TIL] Git study: Lecture Chapter 02 - reset vs revert"><meta property="og:description" content="git add 와  git commit 으로 변경사항을 stage에 올리고, 저장해본다. 이 과정에서 vim의 몇 가지 명령어를 알아본다.  git reset &ndash;hard / git revert 를 학습하여 과거 시점으로 돌아가는 걸 학습한다."><meta property="og:type" content="article"><meta property="og:url" content="http://jeha00.github.io/post/git/lec_chapter02/"><meta property="og:image" content="http://jeha00.github.io/47"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-06-23T11:33:57+09:00"><meta property="article:modified_time" content="2022-06-23T11:33:57+09:00"><meta property="og:site_name" content="JeHa00 DevLog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://jeha00.github.io/47"><meta name=twitter:title content="[TIL] Git study: Lecture Chapter 02 - reset vs revert"><meta name=twitter:description content="git add 와  git commit 으로 변경사항을 stage에 올리고, 저장해본다. 이 과정에서 vim의 몇 가지 명령어를 알아본다.  git reset &ndash;hard / git revert 를 학습하여 과거 시점으로 돌아가는 걸 학습한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://jeha00.github.io/post/"},{"@type":"ListItem","position":2,"name":"[TIL] Git study: Lecture Chapter 02 - reset vs revert","item":"http://jeha00.github.io/post/git/lec_chapter02/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[TIL] Git study: Lecture Chapter 02 - reset vs revert","name":"[TIL] Git study: Lecture Chapter 02 - reset vs revert","description":"git add 와  git commit 으로 변경사항을 stage에 올리고, 저장해본다. 이 과정에서 vim의 몇 가지 명령어를 알아본다.  git reset \u0026ndash;hard / git revert 를 학습하여 과거 시점으로 돌아가는 걸 학습한다.","keywords":["TIL","git"],"articleBody":"0. Introduction 해당 내용은 제대로 파는 Git \u0026 GitHub - by 얄코 를 중심으로 Pro git : Second editions을 참고하여 공부한 내용입니다. 1. 프로젝트의 변경사항을 타임캡슐(버전)에 담고, 묻기 파일을 저장해야 git이 변경사항을 인식할 수 있다.\n1.1 git add untracked state -\u003e tracked state git add 개별 파일 추가와 전체 파일 추가 git status로 확인하면 Untracked files가 뜬다.\n1 2 3 4 5 6 7 8 9 On branch master No commits yet Untracked files: (use \"git add ...\" to include in what will be committed) .gitignore lions.yaml tigers.yaml 이 Untracted files란 **Git의 관리에 들어간 적 없는 파일**을 의미한다.\ntigers.yaml 파일을 수정한다.\ngit add tigers.yaml 로, tigers.yaml의 변경사항을 stage 상태로 올린다.\n1 2 3 4 5 6 7 8 9 10 11 12 On branch master No commits yet Changes to be committed: (use \"git rm --cached ...\" to unstage) new file: tigers.yaml Untracked files: (use \"git add ...\" to include in what will be committed) .gitignore lions.yaml 이렇게 git add로 개별 파일을 tracked 상태로 바꾼다.\n또한, 모든 파일이 git 관리에 들어가기 위해서는 git add .를 입력한다.\n그러면 아래와 같은 의문이 들 수 있다.\n‘처음부터 git add . 으로 모든 file을 tracked 상태로 만들면 되지 않느냐?\n여러 file 중 A file만 A project에 필요하고, B file은 B project에 필요하다면 한꺼번에 하는 것이 아닌 개별적으로 해야 한다.\n위와 같은 경우를 제외하고는 통상적으로 한 프로젝트에 관련된 모든 것을 git add .로 추가한다.\n1.2 git commit 다음으로 아래 명령어를 사용하여 타임캡슐을 묻어보자.\n1 git commit 이 명령어를 입력하면 밑에 이미지와 같은 Vim 입력모드로 진입한다.\nVim mode에서 명령어는 다음과 같다.\n작업 Vi 명령어 상세 입력시작 i 명령어 입력 모드에서 텍스트 입력 모드로 전환 입력 종료 ESC 텍스트 입력 모드에서 명령어 입력 모드로 전환 저장 없이 종료 :q 저장 없이 강제 종료 :q! 입력한 것이 있을 때 사용 저장하고 종료 :wq 입력한 것이 있을 때 사용 위로 스크롤 k git log 등에서 내역이 길 때 사용 아래로 스크롤 j git log 등에서 내역이 길 때 사용 출처: 제대로 파는 Git \u0026 GitHub - by 얄코 FIRST COMMIT 을 입력한 뒤, 저장하고 종료한다.\nFIRST COMMIT은 보통 통상적으로 프로젝트의 첫 버전이 만들어질 때 쓰는 메세지다.\nCOMMIT와 Message를 같이 입력하고 싶으면 아래와 같이 입력한다.\n1 git commit -m 'FIRST COMMIT' 아래 명령어와 소스트리로 확인한다.\n종료는 :q를 사용한다. git log 2. 변경사항 만들기 다음 소단원에서 과거로 돌아가는 실습을 수행하기 위해 몇 가지 변경사항을 만들어보자.\n그 결과, 소스트리의 히스토리에 다음과 같이 결과가 뜰 것이다.\n위로 올라갈수록 최근 commit message다.\n2.1 첫 번째 변경사항 변경사항\nlions.yaml 파일 삭제 tigers.yaml의 manager를 Donald 로 변경 leopards.yaml 파일 추가 git status로 확인\n1 2 3 4 5 6 7 8 9 10 11 12 On branch master Changes not staged for commit: (use \"git add/rm ...\" to update what will be committed) (use \"git restore ...\" to discard changes in working directory) deleted: lions.yaml modified: tigers.yaml Untracked files: (use \"git add ...\" to include in what will be committed) leopards.yaml no changes added to commit (use \"git add\" and/or \"git commit -a\") 그리고 message와 함께 commit 한다. 1 git commit -m \"Replace Lions with Leopards\" commit과 함께 add를 한 번에 하는 방법도 있다. 하지만 이 경우, 새로 추가된(untracked) 파일이 없을 때만 가능하다. 1 git commit -am \"(메세지)\" 2.2 두 번째 변경사항 변경사항\nTigers의 members에 George 추가 커밋 메세지: Add George to Tigers add 및 commit\n1 2 # commit message를 구분한다. git commit -am 'add George to tigers' 2.3 세 번째 변경사항 변경사항 cheetas.yaml 추가 1 2 3 4 git add . # commit message를 구분한다. git commit -m 'Add team Cheetas' 2.4 네 번째 변경사항 변경사항 cheetas.yaml 삭제 Leopards의 manager를 Nora로 수정 panthers.yaml 추가 1 2 3 4 git add . # commit message를 구분한다. git commit -m 'Replace Cheetas with Panthers' 3. 과거로 돌아가는 두 가지 방법 커밋을 묻어놓은 타임캡슐을 버전이라고 생각하면 다음과 같은 순서로 버전이 만들어진다.\n그리고, 안에 무엇이 있는지를 알기 위해서 캡슐마다 작업한 것을 적어서 꼬리표를 달아놓은 것이다.\nGit에서 과거로 돌아가는 방법은 2가지 방법이 있다.\nReset vs Revert\n- reset: 원하는 시점으로 돌아간 뒤 이후 내역들을 지운다.\n- revert: 되돌리기 원하는 시점의 커밋을 거꾸로 실행한다.\nrevert 에 대해 더 설명하자면\n해당 과거 이후의 행적을 삭제하는 것이 아니라, 이 행적을 거꾸로 수행하는 commit을 하나 넣음으로서, 결과적으로 reset과 동일한 결과를 갖는 것이다. 하나 하나를 기록으로 남길 때 사용한다.\n우리가 한 남긴 commit message를 기준으로 Add team Cheetas로 돌아간다고 하자.\nreset은 다음과 같이 움직인다.\n하지만 revert는 이와 다르게 움직인다.\nReplace Cheetas with Panthers, Add team cheetas, Add Georage to Tigers는 그대로 두고, Replace Lions with Leopards만 삭제할려는 상황에서 revert를 사용한다.\n만약 협업 시에 reset으로 특정 history를 삭제하면 이 history를 기반으로 작업한 다른 개발자와 심각한 충돌을 일으킨다. 그래서 한 번 공유된 commit들은 revert를 이용해서 되돌려야 한다.\n4. 과거로 돌아가기 실습 먼저 .git을 백업 후, 원래 폴더에 있던 .git을 삭제한다.\n그러면 VSC에서 git status를 하면 fatal: not a git repository라는 오류가 발생하겠고, Sourcetree에서도 저장소 없음 이라는 에러가 발생한다.\n다시 원래 폴더에 .git 을 복사 붙여넣기하면 위 에러들은 다 사라진다.\n위 이미지들에서 commit message를 순서대로 확인할 수 있듯이, git log를 통해서도 순서대로 볼 수 있다. git log에서 나가기 위해서는 :q를 입력한다.\n그러면 Add team Cheetas message를 남긴 시점의 과거로 돌아가보자.\n돌아가기 위해서는 위 message를 남긴 시점의 hash 번호가 필요하다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 $ git log commit 1589712e4324d8a017a8bbc5945e8f98a8085aad (HEAD -\u003e master) Author: Jeha00 Date: Wed Jun 22 18:30:06 2022 +0900 commit 1589712e4324d8a017a8bbc5945e8f98a8085aad (HEAD -\u003e master) Author: Jeha00 Date: Wed Jun 22 18:30:06 2022 +0900 replace cheetas with Panthers commit f86046e7549dde524f3be3729bd9d43281d2a486 Author: Jeha00 Date: Wed Jun 22 18:29:13 2022 +0900 Add team Cheetas hash 번호란 위 log에서 commit 옆에 있는 알파벳과 숫자가 섞인 것을 의미한다.\n4.1 reset 4.1.1 reset으로 돌아가기 git reset –hard (돌아갈 커밋 해시)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 $ git reset --hard f86046e7549dde524f3be3729bd9d43281d2a486 $ git log commit f86046e7549dde524f3be3729bd9d43281d2a486 (HEAD -\u003e master) Author: Jeha00 Date: Wed Jun 22 18:29:13 2022 +0900 Add team Cheetas commit 679d1f1788575666f8b368c67dfbb14f69c6a637 Author: Jeha00 Date: Wed Jun 22 18:28:44 2022 +0900 add George to tigers git log를 통해 원하는 시점으로 돌아간 것을 알 수 있다.\n이번에는 ‘첫 커밋 시점’ 으로 돌아가보자.\n1 2 3 4 5 6 7 8 $ git reset --hard ed807a60e49db810008b8fcb5fd4deddf4f200ec $ git log commit ed807a60e49db810008b8fcb5fd4deddf4f200ec (HEAD -\u003e master) Author: Jeha00 Date: Wed Jun 22 18:22:01 2022 +0900 first commit 위에서 git log로 확인했듯이 첫 커밋 시점으로 돌아간 걸 알 수 있다.\n소스트리에서도 first commit message만 남겨진 걸 확인할 수 있다.\n4.1.2 reset 전 시점으로 복원하기 실무해서 하는 방식은 아니지만, .git 을 이해해보자는 차원으로 공부한다. 실무에서는 .git 폴더를 직접 건드리는 일은 없다.\n백업해둔 .git 폴더를 복원\ngit log와 git status로 상태 확인\n.git을 복원하면서 현재 git은 맨 처음 상태에서 파일에 새롭게 변화가 된 것이라고 인식한다. 그래서 아래 명령어로 초기화하자. git reset --hard로 현 커밋 상태로 초기화\n커밋 해시가 없으면 마지막 커밋을 가리킨다. lions.yaml 삭제\n3번 명령을 실행한 후, git status로 확인해보면 달라진 것을 알 수 있다. lions.yaml은 추가된 것이므로, 삭제해보자. 4.2 revert로 돌아가기 4.2.1 add George to tigers 시점으로 돌아가기 source tree로는 해당 커밋 메세지를 클릭하면 바로 commit hash를 구할 수 있지만, git log를 입력하여 찾아보자.\n1 2 git revert 679d1f1788575666f8b368c67dfbb14f69c6a637 # :wq로 저장 4.2.2 Replace Lions with Leopards의 커밋으로 되돌려보기 이번에는 Replace Lions with Leopards 시점으로 돌아가려고 했으나, 다음과 같이 Error가 발생했다.\n또한, 이 다음 명령 창에는 (master|REVERTING) 로, revert가 진행 중임을 알 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 \u003e rudtl@DESKTOP-R1USJ9D MINGW64 ~/Desktop/Dev/GitHub/Git-practice (master) $ git revert 3183106276f5315380d6722971159db9d72e7fd1 CONFLICT (modify/delete): leopards.yaml deleted in parent of 3183106 (Replace Lions with Leopards) and modified in HEAD. Version HEAD of leopards.yaml left in tree. error: could not revert 3183106... Replace Lions with Leopards hint: After resolving the conflicts, mark them with hint: \"git add/rm \", then run hint: \"git revert --continue\". hint: You can instead skip this commit with \"git revert --skip\". hint: To abort and get back to the state before \"git revert\", hint: run \"git revert --abort\". \u003e rudtl@DESKTOP-R1USJ9D MINGW64 ~/Desktop/Dev/GitHub/Git-practice (master|REVERTING) 이처럼 에러가 뜨는 것은 컴퓨터가 결정할 수 없기 때문에, 내가 결정을 하라고 알려준 것이다. 그래서 어떻게 해결하면 되는지 hint를 알려주고, 그 후에 git revert --continue 를 하라고 안내해준다.\ngit rm 란 에 있는 파일을 삭제하라는 명령어다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 $ git rm leopards.yaml rm 'leopards.yaml' $ git revert --continue :wq $ git log commit e27e462a65904a4f3ea890c6389c988423b40990 (HEAD -\u003e master) Author: Jeha00 Date: Thu Jun 23 11:22:12 2022 +0900 Revert \"Replace Lions with Leopards\" This reverts commit 3183106276f5315380d6722971159db9d72e7fd1. ❗ 만약 git revert --continue 명령어를 수행했늗네, 다음과 같은 Error가 뜬다면 git add/rm 명령어를 수행해야한다.\n1 2 3 4 $ git revert --continue error: Committing is not possible because you have unmerged files. hint: Fix them up in the work tree, and then use 'git add/rm ' hint: as appropriate to mark resolution and make a commit. 4.2.3 commit을 동반하지 않은 revert revert는 기본적으로 commit을 동반한다. commit 없이 하고 싶다면 아래와 같이 명령어를 입력한다.\n1 git revert --no-commit (되돌릴 커밋 해시) 그래서 원하는 다른 작업을 추가한 후, 커밋을 별도로 해야 한다.\n마무리로 reset을 사용해서 revert 전으로 되돌아가보자.\nReference 제대로 파는 Git \u0026 GitHub - by 얄코 Pro git : Second editions ","wordCount":"1510","inLanguage":"en","datePublished":"2022-06-23T11:33:57+09:00","dateModified":"2022-06-23T11:33:57+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://jeha00.github.io/post/git/lec_chapter02/"},"publisher":{"@type":"Organization","name":"Jeha00 DevLog","logo":{"@type":"ImageObject","url":"http://jeha00.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://jeha00.github.io/ accesskey=h title="Jeha00 (Alt + H)">Jeha00</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://jeha00.github.io/about/ title=About><span>About</span></a></li><li><a href=http://jeha00.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=http://jeha00.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://jeha00.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://jeha00.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://jeha00.github.io/post/>Posts</a></div><h1 class=post-title>[TIL] Git study: Lecture Chapter 02 - reset vs revert</h1><div class=post-meta><span title='2022-06-23 11:33:57 +0900 KST'>June 23, 2022</span>&nbsp;|&nbsp;<a href=https://github.com/JeHa00/blog/content/post/Git/Lec_Chapter02.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#0-introduction aria-label="0. Introduction">0. Introduction</a></li><li><a href=#1-%ed%94%84%eb%a1%9c%ec%a0%9d%ed%8a%b8%ec%9d%98-%eb%b3%80%ea%b2%bd%ec%82%ac%ed%95%ad%ec%9d%84-%ed%83%80%ec%9e%84%ec%ba%a1%ec%8a%90%eb%b2%84%ec%a0%84%ec%97%90-%eb%8b%b4%ea%b3%a0-%eb%ac%bb%ea%b8%b0 aria-label="1. 프로젝트의 변경사항을 타임캡슐(버전)에 담고, 묻기">1. 프로젝트의 변경사항을 타임캡슐(버전)에 담고, 묻기</a><ul><li><a href=#11-git-add aria-label="1.1 git add">1.1 git add</a></li><li><a href=#12-git-commit aria-label="1.2 git commit">1.2 git commit</a></li></ul></li><li><a href=#2-%eb%b3%80%ea%b2%bd%ec%82%ac%ed%95%ad-%eb%a7%8c%eb%93%a4%ea%b8%b0 aria-label="2. 변경사항 만들기">2. 변경사항 만들기</a><ul><li><a href=#21-%ec%b2%ab-%eb%b2%88%ec%a7%b8-%eb%b3%80%ea%b2%bd%ec%82%ac%ed%95%ad aria-label="2.1 첫 번째 변경사항">2.1 첫 번째 변경사항</a></li><li><a href=#22-%eb%91%90-%eb%b2%88%ec%a7%b8-%eb%b3%80%ea%b2%bd%ec%82%ac%ed%95%ad aria-label="2.2 두 번째 변경사항">2.2 두 번째 변경사항</a></li><li><a href=#23-%ec%84%b8-%eb%b2%88%ec%a7%b8-%eb%b3%80%ea%b2%bd%ec%82%ac%ed%95%ad aria-label="2.3 세 번째 변경사항">2.3 세 번째 변경사항</a></li><li><a href=#24-%eb%84%a4-%eb%b2%88%ec%a7%b8-%eb%b3%80%ea%b2%bd%ec%82%ac%ed%95%ad aria-label="2.4 네 번째 변경사항">2.4 네 번째 변경사항</a></li></ul></li><li><a href=#3-%ea%b3%bc%ea%b1%b0%eb%a1%9c-%eb%8f%8c%ec%95%84%ea%b0%80%eb%8a%94-%eb%91%90-%ea%b0%80%ec%a7%80-%eb%b0%a9%eb%b2%95 aria-label="3. 과거로 돌아가는 두 가지 방법">3. 과거로 돌아가는 두 가지 방법</a></li><li><a href=#4-%ea%b3%bc%ea%b1%b0%eb%a1%9c-%eb%8f%8c%ec%95%84%ea%b0%80%ea%b8%b0-%ec%8b%a4%ec%8a%b5 aria-label="4. 과거로 돌아가기 실습">4. 과거로 돌아가기 실습</a><ul><li><a href=#41-reset aria-label="4.1 reset">4.1 reset</a><ul><li><a href=#411-reset%ec%9c%bc%eb%a1%9c-%eb%8f%8c%ec%95%84%ea%b0%80%ea%b8%b0 aria-label="4.1.1 reset으로 돌아가기">4.1.1 reset으로 돌아가기</a></li><li><a href=#412-reset-%ec%a0%84-%ec%8b%9c%ec%a0%90%ec%9c%bc%eb%a1%9c-%eb%b3%b5%ec%9b%90%ed%95%98%ea%b8%b0 aria-label="4.1.2 reset 전 시점으로 복원하기">4.1.2 reset 전 시점으로 복원하기</a></li></ul></li><li><a href=#42-revert%eb%a1%9c-%eb%8f%8c%ec%95%84%ea%b0%80%ea%b8%b0 aria-label="4.2 revert로 돌아가기">4.2 revert로 돌아가기</a><ul><li><a href=#421-add-george-to-tigers-%ec%8b%9c%ec%a0%90%ec%9c%bc%eb%a1%9c-%eb%8f%8c%ec%95%84%ea%b0%80%ea%b8%b0 aria-label="4.2.1 add George to tigers 시점으로 돌아가기">4.2.1 add George to tigers 시점으로 돌아가기</a></li><li><a href=#422-replace-lions-with-leopards%ec%9d%98-%ec%bb%a4%eb%b0%8b%ec%9c%bc%eb%a1%9c-%eb%90%98%eb%8f%8c%eb%a0%a4%eb%b3%b4%ea%b8%b0 aria-label="4.2.2 Replace Lions with Leopards의 커밋으로 되돌려보기">4.2.2 Replace Lions with Leopards의 커밋으로 되돌려보기</a></li><li><a href=#423-commit%ec%9d%84-%eb%8f%99%eb%b0%98%ed%95%98%ec%a7%80-%ec%95%8a%ec%9d%80-revert aria-label="4.2.3 commit을 동반하지 않은 revert">4.2.3 commit을 동반하지 않은 revert</a></li></ul></li></ul></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h1 id=0-introduction>0. Introduction<a hidden class=anchor aria-hidden=true href=#0-introduction>#</a></h1><ul><li>해당 내용은 <a href=https://www.inflearn.com/course/%EC%A0%9C%EB%8C%80%EB%A1%9C-%ED%8C%8C%EB%8A%94-%EA%B9%83/dashboard>제대로 파는 Git & GitHub - by 얄코 </a>를 중심으로 <a href="https://book.naver.com/bookdb/book_detail.nhn?bid=7187291">Pro git : Second editions</a>을 참고하여 공부한 내용입니다.</li></ul><hr><h1 id=1-프로젝트의-변경사항을-타임캡슐버전에-담고-묻기>1. 프로젝트의 변경사항을 타임캡슐(버전)에 담고, 묻기<a hidden class=anchor aria-hidden=true href=#1-프로젝트의-변경사항을-타임캡슐버전에-담고-묻기>#</a></h1><p>파일을 저장해야 git이 변경사항을 인식할 수 있다.</p><h2 id=11-git-add>1.1 git add<a hidden class=anchor aria-hidden=true href=#11-git-add>#</a></h2><blockquote><ul><li><strong><em>untracked state -> tracked state</em></strong></li><li><strong><em>git add 개별 파일 추가와 전체 파일 추가</em></strong></li></ul></blockquote><p><code>git status</code>로 확인하면 <code>Untracked files</code>가 뜬다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>On</span> branch master
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>No</span> commits yet
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>Untracked files</span>:
</span></span><span style=display:flex><span>  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)
</span></span><span style=display:flex><span>        .gitignore
</span></span><span style=display:flex><span>        lions.yaml
</span></span><span style=display:flex><span>        tigers.yaml
</span></span></code></pre></td></tr></table></div></div><p>이 <code>Untracted files</code>란 **<em>Git의 관리에 들어간 적 없는 파일</em>**을 의미한다.</p><p>tigers.yaml 파일을 수정한다.</p><p><code>git add tigers.yaml</code> 로, <code>tigers.yaml</code>의 변경사항을 stage 상태로 올린다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>On</span> branch master
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>No</span> commits yet
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>Changes to be committed</span>:
</span></span><span style=display:flex><span>  (use &#34;git rm --cached &lt;file&gt;...&#34; to unstage)
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>new file</span>:   tigers.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>Untracked files</span>:
</span></span><span style=display:flex><span>  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)
</span></span><span style=display:flex><span>        .gitignore
</span></span><span style=display:flex><span>        lions.yaml
</span></span></code></pre></td></tr></table></div></div><p>이렇게 <code>git add</code>로 개별 파일을 <code>tracked</code> 상태로 바꾼다.</p><p>또한, 모든 파일이 git 관리에 들어가기 위해서는 <code>git add .</code>를 입력한다.</p><p>그러면 아래와 같은 의문이 들 수 있다.</p><p><em>&lsquo;처음부터 <code>git add .</code> 으로 모든 file을 tracked 상태로 만들면 되지 않느냐?</em></p><p>여러 file 중 A file만 A project에 필요하고, B file은 B project에 필요하다면 한꺼번에 하는 것이 아닌 개별적으로 해야 한다.</p><p>위와 같은 경우를 제외하고는 통상적으로 한 프로젝트에 관련된 모든 것을 <code>git add .</code>로 추가한다.</p><h2 id=12-git-commit>1.2 git commit<a hidden class=anchor aria-hidden=true href=#12-git-commit>#</a></h2><p>다음으로 아래 명령어를 사용하여 타임캡슐을 묻어보자.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git commit
</span></span></code></pre></td></tr></table></div></div><p>이 명령어를 입력하면 밑에 이미지와 같은 Vim 입력모드로 진입한다.</p><p>Vim mode에서 명령어는 다음과 같다.</p><table><thead><tr><th>작업</th><th>Vi 명령어</th><th>상세</th></tr></thead><tbody><tr><td>입력시작</td><td>i</td><td>명령어 입력 모드에서 텍스트 입력 모드로 전환</td></tr><tr><td>입력 종료</td><td><code>ESC</code></td><td>텍스트 입력 모드에서 명령어 입력 모드로 전환</td></tr><tr><td>저장 없이 종료</td><td>:q</td><td></td></tr><tr><td>저장 없이 강제 종료</td><td>:q!</td><td>입력한 것이 있을 때 사용</td></tr><tr><td>저장하고 종료</td><td>:wq</td><td>입력한 것이 있을 때 사용</td></tr><tr><td>위로 스크롤</td><td>k</td><td><code>git log</code> 등에서 내역이 길 때 사용</td></tr><tr><td>아래로 스크롤</td><td>j</td><td><code>git log</code> 등에서 내역이 길 때 사용</td></tr></tbody></table><p>출처: <a href=https://www.yalco.kr/@git-github/2-1/>제대로 파는 Git & GitHub - by 얄코</a></p><p><code>FIRST COMMIT</code> 을 입력한 뒤, 저장하고 종료한다.</p><p><code>FIRST COMMIT</code>은 보통 통상적으로 프로젝트의 첫 버전이 만들어질 때 쓰는 메세지다.</p><p>COMMIT와 Message를 같이 입력하고 싶으면 아래와 같이 입력한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git commit -m &#39;FIRST COMMIT&#39;
</span></span></code></pre></td></tr></table></div></div><p>아래 명령어와 소스트리로 확인한다.</p><ul><li>종료는 <code>:q</code>를 사용한다.</li></ul><pre tabindex=0><code class=language-YML data-lang=YML>git log
</code></pre><hr><h1 id=2-변경사항-만들기>2. 변경사항 만들기<a hidden class=anchor aria-hidden=true href=#2-변경사항-만들기>#</a></h1><p>다음 소단원에서 과거로 돌아가는 실습을 수행하기 위해 몇 가지 변경사항을 만들어보자.</p><p>그 결과, 소스트리의 히스토리에 다음과 같이 결과가 뜰 것이다.</p><p>위로 올라갈수록 최근 commit message다.</p><p><img loading=lazy src=https://www.yalco.kr/images/lectures/git-github/2-1/logs.png alt=image></p><h2 id=21-첫-번째-변경사항>2.1 첫 번째 변경사항<a hidden class=anchor aria-hidden=true href=#21-첫-번째-변경사항>#</a></h2><ul><li><p>변경사항</p><ul><li><code>lions.yaml</code> 파일 삭제</li><li><code>tigers.yaml</code>의 manager를 <code>Donald</code> 로 변경</li><li><code>leopards.yaml</code> 파일 추가</li></ul></li><li><p><code>git status</code>로 확인</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>On</span> branch master
</span></span><span style=display:flex><span><span style=color:#ff79c6>Changes not staged for commit</span>:
</span></span><span style=display:flex><span>  (use &#34;git add/rm &lt;file&gt;...&#34; to update what will be committed)
</span></span><span style=display:flex><span>  (use &#34;git restore &lt;file&gt;...&#34; to discard changes in working directory)
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>deleted</span>:    lions.yaml
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>modified</span>:   tigers.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>Untracked files</span>:
</span></span><span style=display:flex><span>  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)
</span></span><span style=display:flex><span>        leopards.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>no</span> changes added to commit (use &#34;git add&#34; and/or &#34;git commit -a&#34;)
</span></span></code></pre></td></tr></table></div></div><ul><li>그리고 message와 함께 commit 한다.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git commit -m &#34;Replace Lions with Leopards&#34;
</span></span></code></pre></td></tr></table></div></div><ul><li>commit과 함께 add를 한 번에 하는 방법도 있다.<ul><li>하지만 이 경우, 새로 추가된(untracked) 파일이 없을 때만 가능하다.</li></ul></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git commit -am &#34;(메세지)&#34;
</span></span></code></pre></td></tr></table></div></div><h2 id=22-두-번째-변경사항>2.2 두 번째 변경사항<a hidden class=anchor aria-hidden=true href=#22-두-번째-변경사항>#</a></h2><ul><li><p>변경사항</p><ul><li>Tigers의 <code>members</code>에 <code>George</code> 추가</li><li>커밋 메세지: <code>Add George to Tigers</code></li></ul></li><li><p>add 및 commit</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># commit message를 구분한다.</span>
</span></span><span style=display:flex><span>git commit -am &#39;add George to tigers&#39;
</span></span></code></pre></td></tr></table></div></div><h2 id=23-세-번째-변경사항>2.3 세 번째 변경사항<a hidden class=anchor aria-hidden=true href=#23-세-번째-변경사항>#</a></h2><ul><li>변경사항<ul><li><code>cheetas.yaml</code> 추가</li></ul></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># commit message를 구분한다.</span>
</span></span><span style=display:flex><span>git commit -m &#39;Add team Cheetas&#39;
</span></span></code></pre></td></tr></table></div></div><h2 id=24-네-번째-변경사항>2.4 네 번째 변경사항<a hidden class=anchor aria-hidden=true href=#24-네-번째-변경사항>#</a></h2><ul><li>변경사항<ul><li><code>cheetas.yaml</code> 삭제</li><li>Leopards의 <code>manager</code>를 <code>Nora</code>로 수정</li><li><code>panthers.yaml</code> 추가</li></ul></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># commit message를 구분한다.</span>
</span></span><span style=display:flex><span>git commit -m &#39;Replace Cheetas with Panthers&#39;
</span></span></code></pre></td></tr></table></div></div><hr><h1 id=3-과거로-돌아가는-두-가지-방법>3. 과거로 돌아가는 두 가지 방법<a hidden class=anchor aria-hidden=true href=#3-과거로-돌아가는-두-가지-방법>#</a></h1><p>커밋을 묻어놓은 타임캡슐을 버전이라고 생각하면 다음과 같은 순서로 버전이 만들어진다.</p><p>그리고, 안에 무엇이 있는지를 알기 위해서 캡슐마다 작업한 것을 적어서 꼬리표를 달아놓은 것이다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/78094972/175048317-a442d609-e629-4ba3-8959-8231df0d80d8.PNG alt=image></p><p>Git에서 과거로 돌아가는 방법은 2가지 방법이 있다.</p><blockquote><p><strong><em>Reset vs Revert</em></strong><br><strong><em>- reset: 원하는 시점으로 돌아간 뒤 이후 내역들을 지운다.</em></strong><br><strong><em>- revert: 되돌리기 원하는 시점의 커밋을 거꾸로 실행한다.</em></strong></p></blockquote><p><strong><em>revert</em></strong> 에 대해 더 설명하자면</p><p>해당 과거 이후의 행적을 삭제하는 것이 아니라, 이 행적을 거꾸로 수행하는 commit을 하나 넣음으로서, 결과적으로 reset과 동일한 결과를 갖는 것이다. 하나 하나를 기록으로 남길 때 사용한다.</p><p>우리가 한 남긴 commit message를 기준으로 <code>Add team Cheetas</code>로 돌아간다고 하자.</p><p><code>reset</code>은 다음과 같이 움직인다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/78094972/175049821-87b83f1d-940d-4d92-baf2-751d35775c96.PNG alt=image></p><p>하지만 <code>revert</code>는 이와 다르게 움직인다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/78094972/175049840-9bdad453-d62c-426e-a15f-4a9505143d3c.PNG alt=image></p><p>Replace Cheetas with Panthers, Add team cheetas, Add Georage to Tigers는 그대로 두고, Replace Lions with Leopards만 삭제할려는 상황에서 revert를 사용한다.</p><p>만약 협업 시에 reset으로 특정 history를 삭제하면 이 history를 기반으로 작업한 다른 개발자와 심각한 충돌을 일으킨다. 그래서 한 번 공유된 commit들은 revert를 이용해서 되돌려야 한다.</p><hr><h1 id=4-과거로-돌아가기-실습>4. 과거로 돌아가기 실습<a hidden class=anchor aria-hidden=true href=#4-과거로-돌아가기-실습>#</a></h1><p>먼저 <code>.git</code>을 백업 후, 원래 폴더에 있던 <code>.git</code>을 삭제한다.</p><p>그러면 VSC에서 <code>git status</code>를 하면 <code>fatal: not a git repository</code>라는 오류가 발생하겠고, Sourcetree에서도 <code>저장소 없음</code> 이라는 에러가 발생한다.</p><p>다시 원래 폴더에 <code>.git</code> 을 복사 붙여넣기하면 위 에러들은 다 사라진다.</p><p>위 이미지들에서 commit message를 순서대로 확인할 수 있듯이, <code>git log</code>를 통해서도 순서대로 볼 수 있다. <code>git log</code>에서 나가기 위해서는 <code>:q</code>를 입력한다.</p><p>그러면 <code>Add team Cheetas</code> message를 남긴 시점의 과거로 돌아가보자.</p><p><strong><em>돌아가기 위해서는 위 message를 남긴 시점의 hash 번호가 필요하다.</em></strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>$ git log
</span></span><span style=display:flex><span>commit 1589712e4324d8a017a8bbc5945e8f98a8085aad (HEAD -&gt; master)
</span></span><span style=display:flex><span><span style=color:#ff79c6>Author</span>: Jeha00 &lt;rudtls0611@naver.com&gt;
</span></span><span style=display:flex><span><span style=color:#ff79c6>Date</span>:   Wed Jun 22 18:30:06 2022 +0900
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 1589712e4324d8a017a8bbc5945e8f98a8085aad (HEAD -&gt; master)
</span></span><span style=display:flex><span><span style=color:#ff79c6>Author</span>: Jeha00 &lt;rudtls0611@naver.com&gt;
</span></span><span style=display:flex><span><span style=color:#ff79c6>Date</span>:   Wed Jun 22 18:30:06 2022 +0900
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    replace cheetas with Panthers
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit f86046e7549dde524f3be3729bd9d43281d2a486
</span></span><span style=display:flex><span><span style=color:#ff79c6>Author</span>: Jeha00 &lt;rudtls0611@naver.com&gt;
</span></span><span style=display:flex><span><span style=color:#ff79c6>Date</span>:   Wed Jun 22 18:29:13 2022 +0900
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Add team Cheetas
</span></span></code></pre></td></tr></table></div></div><p>hash 번호란 위 log에서 commit 옆에 있는 알파벳과 숫자가 섞인 것을 의미한다.</p><h2 id=41-reset>4.1 reset<a hidden class=anchor aria-hidden=true href=#41-reset>#</a></h2><h3 id=411-reset으로-돌아가기>4.1.1 reset으로 돌아가기<a hidden class=anchor aria-hidden=true href=#411-reset으로-돌아가기>#</a></h3><blockquote><p><strong><em>git reset &ndash;hard (돌아갈 커밋 해시)</em></strong></p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>$ git reset --hard f86046e7549dde524f3be3729bd9d43281d2a486
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ git log
</span></span><span style=display:flex><span>commit f86046e7549dde524f3be3729bd9d43281d2a486 (HEAD -&gt; master)
</span></span><span style=display:flex><span><span style=color:#ff79c6>Author</span>: Jeha00 &lt;rudtls0611@naver.com&gt;
</span></span><span style=display:flex><span><span style=color:#ff79c6>Date</span>:   Wed Jun 22 18:29:13 2022 +0900
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Add team Cheetas
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 679d1f1788575666f8b368c67dfbb14f69c6a637
</span></span><span style=display:flex><span><span style=color:#ff79c6>Author</span>: Jeha00 &lt;rudtls0611@naver.com&gt;
</span></span><span style=display:flex><span><span style=color:#ff79c6>Date</span>:   Wed Jun 22 18:28:44 2022 +0900
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    add George to tigers
</span></span></code></pre></td></tr></table></div></div><p><code>git log</code>를 통해 원하는 시점으로 돌아간 것을 알 수 있다.</p><p>이번에는 &lsquo;첫 커밋 시점&rsquo; 으로 돌아가보자.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>$ git reset --hard ed807a60e49db810008b8fcb5fd4deddf4f200ec
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ git log
</span></span><span style=display:flex><span>commit ed807a60e49db810008b8fcb5fd4deddf4f200ec (HEAD -&gt; master)
</span></span><span style=display:flex><span><span style=color:#ff79c6>Author</span>: Jeha00 &lt;rudtls0611@naver.com&gt;
</span></span><span style=display:flex><span><span style=color:#ff79c6>Date</span>:   Wed Jun 22 18:22:01 2022 +0900
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    first commit
</span></span></code></pre></td></tr></table></div></div><p>위에서 <code>git log</code>로 확인했듯이 첫 커밋 시점으로 돌아간 걸 알 수 있다.</p><p>소스트리에서도 <code>first commit</code> message만 남겨진 걸 확인할 수 있다.</p><h3 id=412-reset-전-시점으로-복원하기>4.1.2 reset 전 시점으로 복원하기<a hidden class=anchor aria-hidden=true href=#412-reset-전-시점으로-복원하기>#</a></h3><p>실무해서 하는 방식은 아니지만, <code>.git</code> 을 이해해보자는 차원으로 공부한다. 실무에서는 <code>.git</code> 폴더를 직접 건드리는 일은 없다.</p><ol><li><p>백업해둔 <code>.git</code> 폴더를 복원</p></li><li><p><code>git log</code>와 <code>git status</code>로 상태 확인</p><ul><li><code>.git</code>을 복원하면서 현재 git은 맨 처음 상태에서 파일에 새롭게 변화가 된 것이라고 인식한다.</li><li>그래서 아래 명령어로 초기화하자.</li></ul></li><li><p><code>git reset --hard</code>로 현 커밋 상태로 초기화</p><ul><li>커밋 해시가 없으면 마지막 커밋을 가리킨다.</li></ul></li><li><p><code>lions.yaml</code> 삭제</p><ul><li>3번 명령을 실행한 후, <code>git status</code>로 확인해보면 달라진 것을 알 수 있다.</li><li><code>lions.yaml</code>은 추가된 것이므로, 삭제해보자.</li></ul></li></ol><h2 id=42-revert로-돌아가기>4.2 revert로 돌아가기<a hidden class=anchor aria-hidden=true href=#42-revert로-돌아가기>#</a></h2><h3 id=421-add-george-to-tigers-시점으로-돌아가기>4.2.1 add George to tigers 시점으로 돌아가기<a hidden class=anchor aria-hidden=true href=#421-add-george-to-tigers-시점으로-돌아가기>#</a></h3><p>source tree로는 해당 커밋 메세지를 클릭하면 바로 commit hash를 구할 수 있지만, <code>git log</code>를 입력하여 찾아보자.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git revert 679d1f1788575666f8b368c67dfbb14f69c6a637
</span></span><span style=display:flex><span><span style=color:#6272a4># :wq로 저장</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=422-replace-lions-with-leopards의-커밋으로-되돌려보기>4.2.2 Replace Lions with Leopards의 커밋으로 되돌려보기<a hidden class=anchor aria-hidden=true href=#422-replace-lions-with-leopards의-커밋으로-되돌려보기>#</a></h3><p>이번에는 <code>Replace Lions with Leopards</code> 시점으로 돌아가려고 했으나, 다음과 같이 Error가 발생했다.</p><p>또한, 이 다음 명령 창에는 <code>(master|REVERTING)</code> 로, revert가 진행 중임을 알 수 있다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; rudtl@DESKTOP-R1USJ9D MINGW64 ~/Desktop/Dev/GitHub/Git-practice (master)
</span></span><span style=display:flex><span>$ git revert  3183106276f5315380d6722971159db9d72e7fd1
</span></span><span style=display:flex><span><span style=color:#ff79c6>CONFLICT (modify/delete)</span>: leopards.yaml deleted in parent of 3183106 (Replace Lions with Leopards) and modified in HEAD.  Version HEAD of leopards.yaml left in tree.
</span></span><span style=display:flex><span><span style=color:#ff79c6>error</span>: could not revert 3183106... Replace Lions with Leopards
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: After resolving the conflicts, mark them with
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: <span style=color:#f1fa8c>&#34;git add/rm &lt;pathspec&gt;&#34;</span>, then run
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: <span style=color:#f1fa8c>&#34;git revert --continue&#34;</span>.
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: You can instead skip this commit with &#34;git revert --skip&#34;.
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: To abort and get back to the state before &#34;git revert&#34;,
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: run &#34;git revert --abort&#34;.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; rudtl@DESKTOP-R1USJ9D MINGW64 ~/Desktop/Dev/GitHub/Git-practice (master|REVERTING)
</span></span></code></pre></td></tr></table></div></div><p>이처럼 에러가 뜨는 것은 컴퓨터가 결정할 수 없기 때문에, 내가 결정을 하라고 알려준 것이다. 그래서 어떻게 해결하면 되는지 hint를 알려주고, 그 후에 <code>git revert --continue</code> 를 하라고 안내해준다.</p><p><code>git rm &lt;pathspec></code> 란 <code>&lt;pathspec></code>에 있는 파일을 삭제하라는 명령어다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>$ git rm leopards.yaml
</span></span><span style=display:flex><span>rm &#39;leopards.yaml&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ git revert --continue
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:wq
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ git log
</span></span><span style=display:flex><span>commit e27e462a65904a4f3ea890c6389c988423b40990 (HEAD -&gt; master)
</span></span><span style=display:flex><span><span style=color:#ff79c6>Author</span>: Jeha00 &lt;rudtls0611@naver.com&gt;
</span></span><span style=display:flex><span><span style=color:#ff79c6>Date</span>:   Thu Jun 23 11:22:12 2022 +0900
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Revert &#34;Replace Lions with Leopards&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    This reverts commit 3183106276f5315380d6722971159db9d72e7fd1.
</span></span></code></pre></td></tr></table></div></div><p>❗ 만약 <code>git revert --continue</code> 명령어를 수행했늗네, 다음과 같은 Error가 뜬다면 <code>git add/rm &lt;pathspec></code> 명령어를 수행해야한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>$ git revert --continue
</span></span><span style=display:flex><span><span style=color:#ff79c6>error</span>: Committing is not possible because you have unmerged files.
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: Fix them up in the work tree, and then use &#39;git add/rm &lt;file&gt;&#39;
</span></span><span style=display:flex><span><span style=color:#ff79c6>hint</span>: as appropriate to mark resolution and make a commit.
</span></span></code></pre></td></tr></table></div></div><h3 id=423-commit을-동반하지-않은-revert>4.2.3 commit을 동반하지 않은 revert<a hidden class=anchor aria-hidden=true href=#423-commit을-동반하지-않은-revert>#</a></h3><p>revert는 기본적으로 commit을 동반한다. commit 없이 하고 싶다면 아래와 같이 명령어를 입력한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>git revert --no-commit (되돌릴  커밋 해시)
</span></span></code></pre></td></tr></table></div></div><p>그래서 원하는 다른 작업을 추가한 후, 커밋을 별도로 해야 한다.</p><p>마무리로 reset을 사용해서 revert 전으로 되돌아가보자.</p><hr><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><a href=https://www.inflearn.com/course/%EC%A0%9C%EB%8C%80%EB%A1%9C-%ED%8C%8C%EB%8A%94-%EA%B9%83/dashboard>제대로 파는 Git & GitHub - by 얄코</a></li><li><a href="https://book.naver.com/bookdb/book_detail.nhn?bid=7187291">Pro git : Second editions</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://jeha00.github.io/tags/til/>TIL</a></li><li><a href=http://jeha00.github.io/tags/git/>git</a></li></ul><nav class=paginav><a class=prev href=http://jeha00.github.io/post/git/lec_chapter03/><span class=title>« Prev Page</span><br><span>[TIL] Git study: Lecture Chapter 03 - branch</span></a>
<a class=next href=http://jeha00.github.io/post/git/lec_chapter01/><span class=title>Next Page »</span><br><span>[TIL] Git study: Lecture Chapter 01</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Git study: Lecture Chapter 02 - reset vs revert on twitter" href="https://twitter.com/intent/tweet/?text=%5bTIL%5d%20Git%20study%3a%20Lecture%20Chapter%2002%20-%20reset%20vs%20revert&url=http%3a%2f%2fjeha00.github.io%2fpost%2fgit%2flec_chapter02%2f&hashtags=TIL%2cgit"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Git study: Lecture Chapter 02 - reset vs revert on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fjeha00.github.io%2fpost%2fgit%2flec_chapter02%2f&title=%5bTIL%5d%20Git%20study%3a%20Lecture%20Chapter%2002%20-%20reset%20vs%20revert&summary=%5bTIL%5d%20Git%20study%3a%20Lecture%20Chapter%2002%20-%20reset%20vs%20revert&source=http%3a%2f%2fjeha00.github.io%2fpost%2fgit%2flec_chapter02%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Git study: Lecture Chapter 02 - reset vs revert on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fjeha00.github.io%2fpost%2fgit%2flec_chapter02%2f&title=%5bTIL%5d%20Git%20study%3a%20Lecture%20Chapter%2002%20-%20reset%20vs%20revert"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Git study: Lecture Chapter 02 - reset vs revert on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fjeha00.github.io%2fpost%2fgit%2flec_chapter02%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Git study: Lecture Chapter 02 - reset vs revert on whatsapp" href="https://api.whatsapp.com/send?text=%5bTIL%5d%20Git%20study%3a%20Lecture%20Chapter%2002%20-%20reset%20vs%20revert%20-%20http%3a%2f%2fjeha00.github.io%2fpost%2fgit%2flec_chapter02%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Git study: Lecture Chapter 02 - reset vs revert on telegram" href="https://telegram.me/share/url?text=%5bTIL%5d%20Git%20study%3a%20Lecture%20Chapter%2002%20-%20reset%20vs%20revert&url=http%3a%2f%2fjeha00.github.io%2fpost%2fgit%2flec_chapter02%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://jeha00.github.io/>Jeha00 DevLog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>