<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>[TIL] Python basic 37: Coroutine | Jeha00 DevLog</title>
<meta name=keywords content="TIL,python">
<meta name=description content="첫 번째, Thread, Multi-thread 그리고 Coroutine이 무엇인지 알아보면서, coroutine이 왜 중요한지를 이해한다. 두 번째, Coroutine을 구현해보면서 Generator와의 차이를 통해 Coroutine을 이해한다.">
<meta name=author content="Jeha00">
<link rel=canonical href=http://jeha00.github.io/post/python_basic/python_basic_37_coroutine/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.1e44d58192cbf6d7a4eb649bc43dbc3d4cc432677e5d8adc69b08c34cbe461ac.css integrity="sha256-HkTVgZLL9tek62SbxD28PUzEMmd+XYrcabCMNMvkYaw=" rel="preload stylesheet" as=style>
<link rel=icon href=http://jeha00.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://jeha00.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://jeha00.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=http://jeha00.github.io/apple-touch-icon.png>
<link rel=mask-icon href=http://jeha00.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.92.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="[TIL] Python basic 37: Coroutine">
<meta property="og:description" content="첫 번째, Thread, Multi-thread 그리고 Coroutine이 무엇인지 알아보면서, coroutine이 왜 중요한지를 이해한다. 두 번째, Coroutine을 구현해보면서 Generator와의 차이를 통해 Coroutine을 이해한다.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://jeha00.github.io/post/python_basic/python_basic_37_coroutine/"><meta property="og:image" content="http://jeha00.github.io/47"><meta property="article:section" content="post">
<meta property="article:published_time" content="2022-04-02T21:15:33+09:00">
<meta property="article:modified_time" content="2022-04-02T21:15:33+09:00"><meta property="og:site_name" content="JeHa00 DevLog">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="http://jeha00.github.io/47">
<meta name=twitter:title content="[TIL] Python basic 37: Coroutine">
<meta name=twitter:description content="첫 번째, Thread, Multi-thread 그리고 Coroutine이 무엇인지 알아보면서, coroutine이 왜 중요한지를 이해한다. 두 번째, Coroutine을 구현해보면서 Generator와의 차이를 통해 Coroutine을 이해한다.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://jeha00.github.io/post/"},{"@type":"ListItem","position":2,"name":"[TIL] Python basic 37: Coroutine","item":"http://jeha00.github.io/post/python_basic/python_basic_37_coroutine/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[TIL] Python basic 37: Coroutine","name":"[TIL] Python basic 37: Coroutine","description":"첫 번째, Thread, Multi-thread 그리고 Coroutine이 무엇인지 알아보면서, coroutine이 왜 중요한지를 이해한다. 두 번째, Coroutine을 구현해보면서 Generator와의 차이를 통해 Coroutine을 이해한다.","keywords":["TIL","python"],"articleBody":"Intro   Thread, Multi-thread 그리고 Coroutine이 무엇인지를 통해 코루틴의 중요성을 이해한다.\n  Coroutine을 구현해보면서 Generator와의 차이를 통해 Coroutine을 이해한다.\n  코루틴이 왜 필요한지 이해하기 위해서 먼저 Thread, Multi-thread 를 이해해보자.\n  그리고, 이들을 이해하기 위해서는 process가 뭔지 알아야 한다.\n  그러면 이 개념들에 대해 알아보자.    1. Thread, Multi - thread란?? Process 와 Thread란??  process는 코드로 구현된 파일인 program이 실행된 것을 의미한다. Thread(쓰레드)는 ‘한’ process 내에서 나뉘어진 하나 이상의 실행 단위를 말한다.  Single thread(단일 스레드) 와 Multi-thread란??  thread가 프로세스 내에 하나만 존재하면 단일 스레드 상태로 실행 단위는 프로세스 자체가 된다. 하지만, 한 프로세스 내에서 분리하여 여러 thread로 나뉘어 실행 단위가 나눠지고 많아지면 이를 Multi-thread라 한다. 한 process 내부의 각 thread가 한 applicaiton이 여러 가지 일을 처리해야하는 상황에서 각 작업들을 담당하는 거다.  multi-thread 장점  한 process 내에 thread끼리는 긴밀히 연결되어 있다. 한 process 내에 있으므로, 공유된 자원으로 통신 비용을 절감할 수 있다. 공유된 자원으로 메모리가 효율적이다. multi-process보다 Context switching 비용이 적다.  multi-thread 단점   하나의 thread에 문제가 생기면 다른 여러 thread에도 영향을 준다.\n  Single thread(단일 thread)를 하다가 속도를 높이기 위해 multi-thread를 사용하기 시작하면, thread 끼리 공유되는 자원 때문에 교착 상태(Dead Lock)가 발생할 수 있다.\n  single thread에 비해 ‘context switching’ cost가 크다.\n  자원 소비 가능성이 증가한다.\n  이런 이유로 Single thread가 더 빠른 이유가 switching cost 때문이다.\n   2. 코루틴(Coroutine)이란??   Cooperative routine의 약어로, 서로 협력하는 routine을 의미한다. Generator의 특별한 형태로, yield와 send를 통해서 main routine과 sub routine의 데이터 상호 교환 방식     코루틴은 위의 의미를 가지고 있지만, thread의 관점에서 보자면\n single thread환경에서 yieldkeyword를 통해 stack 기반으로 동작하는 비동기 작업    함수에서 single thread에서도 동시성이 가능하도록 언어가 발전하고 있는데,바로 코루틴이 이런 발전의 한 예이다.\n  coroutine은 routine 실행 중지 후, 다시 이어서 실행 가능한 동시성 프로그래밍 방법.\n 그래서 coroutine은 thread에 비해서 overhead가 감소된다.  overhead: 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간 · 메모리      흐름 제어: 메인 루틴에서 서브 루틴을 호출하면 서브루틴에서 수행한다.\n    이어지는 예제들을 통해서 아래 3가지를 유심히 보자.\n Coroutine을 어떻게 제어하는지 상태 저장 양방향 전송     3. 코루틴 기본예제 1: 코루틴 이해하기   앞으로 def를 보면 단지 function이라 생각하지 말자.\n def로 function, generator, coroutine을 구현할 수 있기 때문이다.    for문에서는 예외가 잡히기 때문에, StopIterator가 발생되지 않는다.\n  ## Generator ## sub routine  def corountine1():  print(' coroutine started') # yield는 외부 main routine에서 주는 값을 받아오고, 이 yield가 i로 할당된다.  i = yield  print(' coroutine received: {}'.format(i)) ## main routine: 함수를 호출하기 때문에  cr1 = coroutine1()  print(cr1, type(cr1)) generator'  next(cr1)  coroutine started.  next(cr1)  coroutine received : None StopIteration   위 코드에서는 sub routine이 main routine에 주는 것 밖에 하지 못 했다.\n  그러면 어떻게 main과 sub가 상호작용 할 수 있을까??\n  send를 통해서 main routine과 sub routine이 상호작용할 수 있다.\n  send를 사용해야 yield keyword가 값을 받을 수 있다.\n  이것이 바로 coroutine이다.\n Generator의 특별한 형태로, yield와 send를 통해서 main routine과 sub routine의 데이터를 상호 교환할 수 있다.\n    cr1 = coroutine1() # yield 지점까지 sub routine 실행  next(cr1)  coroutine started. ## 값 전송  cr1.send(100)  coroutine received : 100 StopIteration  send와 next 비교  위 code를 통해서 send도 next 기능이 포함된 걸 알 수 있다. 하지만, next는 값을 sub routine에 보낼 수 없고, send만 보낼 수 있다.   send() 에 100을 입력하니, ‘coroutine received: 100’이 출력되었다. main routine에서 보낸 100이 sub routine인 coroutine1의 yield가 받았고, 이를 i에 할당한 걸 알 수 있다.   그러면 send를 잘못 사용한 경우를 알아보자.   cr1 = coroutine1() # next(cr1)을 생략하고, 바로 send한다. # 시작되지 않고 보내는 상황이다. ## 값 전송  cr1.send(100) TypeError: can't send non-None value to a just-started generator  Error를 통해 알 수 있는 건 sub-routine의 yield 지점에서 context가 멈춰야, send로 보냈을 때 받을 수 있다는 걸 알 수 있다. 즉, next를 먼저 실행하여, coroutine을 실행한 후 yield keyword를 실행해야 한다.   4. 코루틴 기본예제 2: 상태값 확인하기   GEN_CREATED: 처음 대기 상태를 의미 GEN_RUNNING: 실행 상태를 의미 GEN_SUSPENDED: yield 대기 상태를 의미 GEN_CLOSED: 실행 완료 상태를 의미   # 이번에는 매개변수가 존재  def coroutine2(x):  print('coroutine started : {}'.format(x)) # main과 sub routine의 양방향 통신 - 동시성 개발 # 좌변 = 우변 # 좌변은 main routine에서 sub routine으로 입력을 받는 것 # 우변은 sub routine에서 나한테 준 것  y = yield x  print('coroutine y received : {}'.format(y))  z = yield x + y  print('coroutine z received : {}'.format(z))  cr3 = coroutine2(10)  print(next(cr3)) coroutine started : 10 10  print(cr3.send(100)) coroutine y received : 100 110  print(cr3.send(100)) coroutine z received : 100 Stop Iteration  상태값 확인을 해보겠다. 상태값 확인은 getgeneratestate를 import하는 것부터 시작한다.   from inspect import getgeneratorstate  cr3 = coroutine2(10)  print(getgeneratorstate(cr3)) GEN_CREATED  next(cr3) coroutine started : 10  print(getgeneratorstate(cr3)) GEN_SUSPENDED  cr3.send(100) coroutine y received : 100  print(getgeneratorstate(cr3)) GEN_SUSPENDED  cr3.send(20) coroutine z received : 20 StopIteration  5. 코루틴 기본예제 3: 중첩 코루틴 처리  def generator1():  for x in 'AB':  yield x  for y in range(1,4):  yield y  t1 = generator1()  print(next(t1)) A  print(next(t1)) B # 이어서 출력되는 걸 알 수 있다.  print(next(t1)) 1  print(next(t1)) 2  print(next(t1)) 3  print(next(t1)) StopIteration  t2 = generator1()  print(list(t2)) ['A', 'B', 1, 2, 3]  yield from을 사용해서 위 code를 구현해보자. 그냥 yield보다 더 직관적으로 이해가 가능하다.   def generator2(): # from 뒤에 iterator가 다 소진될 때까지 반환하겠다.  yield from 'AB'  yield from range(1,4)  t3 = generator2()  print(next(t3)) A  print(next(t3)) B  print(next(t3)) 1  print(next(t3)) 2  print(next(t3)) 3  6. Summary   coroutine은 generator에서 시작되며, 동시성이 무엇인지 이해했다.\n  coroutine은 함수가 종료되지 않은 상태에서 main routine의 code를 실행한 뒤, 다시 돌아와서 coroutine의 code를 실행한다.\n  coroutine이 종료되지 않았으므로, coroutine의 내용도 계속 유지된다.\n  즉, 일반함수는 호출하면 코드를 한 번만 실행할 수 있지만, coroutine은 여러 번 실행이 가능하다\n  coroutie이 generator에서 시작되었다면, 둘의 구체적인 차이는 무엇일까???\n generator는 yield로 값을 발생시켰지만, coroutine은 yield로 값을 받아올 수 있다. 호출하는 과점에서 보면 제네레이터는 next 함수(__next__ method)를 반복 호출하여 값을 얻어내는 방식 코루틴은 next 함수(__next__ method)를 한 번만 호출한 뒤, send method를 사용하여 값을 주고, 받는 방식     Reference  인프런 파이썬 중급 코다의 Process vs. Thread 파이썬 강의 UNIT 41.1 코루틴에 값 보내기  ","wordCount":"978","inLanguage":"en","datePublished":"2022-04-02T21:15:33+09:00","dateModified":"2022-04-02T21:15:33+09:00","author":{"@type":"Person","name":"Jeha00"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://jeha00.github.io/post/python_basic/python_basic_37_coroutine/"},"publisher":{"@type":"Organization","name":"Jeha00 DevLog","logo":{"@type":"ImageObject","url":"http://jeha00.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://jeha00.github.io/ accesskey=h title="Jeha00 (Alt + H)">Jeha00</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=http://jeha00.github.io/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=http://jeha00.github.io/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=http://jeha00.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=http://jeha00.github.io/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=http://jeha00.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://jeha00.github.io/post/>Posts</a></div>
<h1 class=post-title>
[TIL] Python basic 37: Coroutine
</h1>
<div class=post-meta><span title="2022-04-02 21:15:33 +0900 KST">April 2, 2022</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Jeha00&nbsp;|&nbsp;<a href=https://github.com/JeHa00/blog/content/post/Python_basic/Python_basic_37_Coroutine.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><ul>
<li>
<a href=#intro aria-label=Intro>Intro</a></li>
<li>
<a href=#1-thread-multi---thread%eb%9e%80 aria-label="1. Thread, Multi - thread란??">1. Thread, Multi - thread란??</a><ul>
<ul>
<li>
<a href=#process-%ec%99%80-thread%eb%9e%80 aria-label="Process 와 Thread란??">Process 와 Thread란??</a></li>
<li>
<a href=#single-thread%eb%8b%a8%ec%9d%bc-%ec%8a%a4%eb%a0%88%eb%93%9c-%ec%99%80-multi-thread%eb%9e%80 aria-label="Single thread(단일 스레드) 와 Multi-thread란??">Single thread(단일 스레드) 와 Multi-thread란??</a></li>
<li>
<a href=#multi-thread-%ec%9e%a5%ec%a0%90 aria-label="multi-thread 장점">multi-thread 장점</a></li>
<li>
<a href=#multi-thread-%eb%8b%a8%ec%a0%90 aria-label="multi-thread 단점">multi-thread 단점</a></li></ul>
</ul>
</li>
<li>
<a href=#2-%ec%bd%94%eb%a3%a8%ed%8b%b4coroutine%ec%9d%b4%eb%9e%80 aria-label="2. 코루틴(Coroutine)이란??">2. 코루틴(Coroutine)이란??</a></li>
<li>
<a href=#3-%ec%bd%94%eb%a3%a8%ed%8b%b4-%ea%b8%b0%eb%b3%b8%ec%98%88%ec%a0%9c-1-%ec%bd%94%eb%a3%a8%ed%8b%b4-%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0 aria-label="3. 코루틴 기본예제 1: 코루틴 이해하기">3. 코루틴 기본예제 1: 코루틴 이해하기</a></li>
<li>
<a href=#4-%ec%bd%94%eb%a3%a8%ed%8b%b4-%ea%b8%b0%eb%b3%b8%ec%98%88%ec%a0%9c-2-%ec%83%81%ed%83%9c%ea%b0%92-%ed%99%95%ec%9d%b8%ed%95%98%ea%b8%b0 aria-label="4. 코루틴 기본예제 2: 상태값 확인하기">4. 코루틴 기본예제 2: 상태값 확인하기</a></li>
<li>
<a href=#5-%ec%bd%94%eb%a3%a8%ed%8b%b4-%ea%b8%b0%eb%b3%b8%ec%98%88%ec%a0%9c-3-%ec%a4%91%ec%b2%a9-%ec%bd%94%eb%a3%a8%ed%8b%b4-%ec%b2%98%eb%a6%ac aria-label="5. 코루틴 기본예제 3: 중첩 코루틴 처리">5. 코루틴 기본예제 3: 중첩 코루틴 처리</a></li>
<li>
<a href=#6-summary aria-label="6. Summary">6. Summary</a></li>
<li>
<a href=#reference aria-label=Reference>Reference</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><h1 id=intro>Intro<a hidden class=anchor aria-hidden=true href=#intro>#</a></h1>
<ul>
<li>
<p>Thread, Multi-thread 그리고 Coroutine이 무엇인지를 통해 코루틴의 중요성을 이해한다.</p>
</li>
<li>
<p>Coroutine을 구현해보면서 Generator와의 차이를 통해 Coroutine을 이해한다.</p>
</li>
<li>
<p>코루틴이 왜 필요한지 이해하기 위해서 먼저 <code>Thread</code>, <code>Multi-thread</code> 를 이해해보자.</p>
</li>
<li>
<p>그리고, 이들을 이해하기 위해서는 <code>process</code>가 뭔지 알아야 한다.</p>
</li>
<li>
<p>그러면 이 개념들에 대해 알아보자.
</p>
</li>
</ul>
<hr>
<h1 id=1-thread-multi---thread란>1. Thread, Multi - thread란??<a hidden class=anchor aria-hidden=true href=#1-thread-multi---thread란>#</a></h1>
<h3 id=process-와-thread란>Process 와 Thread란??<a hidden class=anchor aria-hidden=true href=#process-와-thread란>#</a></h3>
<ul>
<li><code>process</code>는 코드로 구현된 파일인 <code>program</code>이 실행된 것을 의미한다.</li>
<li><code>Thread(쓰레드)</code>는 &lsquo;한&rsquo; process 내에서 나뉘어진 하나 이상의 실행 단위를 말한다.</li>
</ul>
<h3 id=single-thread단일-스레드-와-multi-thread란>Single thread(단일 스레드) 와 Multi-thread란??<a hidden class=anchor aria-hidden=true href=#single-thread단일-스레드-와-multi-thread란>#</a></h3>
<ul>
<li>thread가 프로세스 내에 하나만 존재하면 <code>단일 스레드</code> 상태로 <strong><em>실행 단위는 프로세스 자체가 된다.</em></strong></li>
<li>하지만, 한 프로세스 내에서 분리하여 여러 thread로 나뉘어 실행 단위가 나눠지고 많아지면 이를 <code>Multi-thread</code>라 한다.</li>
<li>한 process 내부의 각 thread가 한 applicaiton이 여러 가지 일을 처리해야하는 상황에서 각 작업들을 담당하는 거다.</li>
</ul>
<h3 id=multi-thread-장점>multi-thread 장점<a hidden class=anchor aria-hidden=true href=#multi-thread-장점>#</a></h3>
<ul>
<li>한 process 내에 thread끼리는 긴밀히 연결되어 있다.</li>
<li>한 process 내에 있으므로, 공유된 자원으로 통신 비용을 절감할 수 있다.</li>
<li>공유된 자원으로 메모리가 효율적이다.</li>
<li><strong>multi-process보다 <em>Context switching</em> 비용이 적다.</strong></li>
</ul>
<h3 id=multi-thread-단점>multi-thread 단점<a hidden class=anchor aria-hidden=true href=#multi-thread-단점>#</a></h3>
<ul>
<li>
<p>하나의 thread에 문제가 생기면 다른 여러 thread에도 영향을 준다.</p>
</li>
<li>
<p><code>Single thread</code>(단일 thread)를 하다가 속도를 높이기 위해 <code>multi-thread</code>를 사용하기 시작하면, thread 끼리 공유되는 자원 때문에 교착 상태(Dead Lock)가 발생할 수 있다.</p>
</li>
<li>
<p><strong><em>single thread에 비해 &lsquo;context switching&rsquo; cost가 크다.</em></strong></p>
</li>
<li>
<p>자원 소비 가능성이 증가한다.</p>
</li>
<li>
<p>이런 이유로 Single thread가 더 빠른 이유가 switching cost 때문이다.</p>
</li>
</ul>
<hr>
<h1 id=2-코루틴coroutine이란>2. 코루틴(Coroutine)이란??<a hidden class=anchor aria-hidden=true href=#2-코루틴coroutine이란>#</a></h1>
<blockquote>
<ul>
<li>Cooperative routine의 약어로, 서로 협력하는 routine을 의미한다.</li>
<li>Generator의 특별한 형태로, yield와 send를 통해서 main routine과 sub routine의 데이터 상호 교환 방식</li>
</ul>
</blockquote>
<ul>
<li>
<p>코루틴은 위의 의미를 가지고 있지만, <code>thread</code>의 관점에서 보자면</p>
<ul>
<li><code>single thread</code>환경에서 <code>yield</code>keyword를 통해 stack 기반으로 동작하는 비동기 작업</li>
</ul>
</li>
<li>
<p>함수에서 <code>single thread</code>에서도 동시성이 가능하도록 언어가 발전하고 있는데,바로 코루틴이 이런 발전의 한 예이다.</p>
</li>
<li>
<p>coroutine은 routine 실행 중지 후, 다시 이어서 실행 가능한 <code>동시성</code> 프로그래밍 방법.</p>
<ul>
<li>그래서 coroutine은 thread에 비해서 overhead가 감소된다.
<ul>
<li>overhead: 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간 · 메모리</li>
</ul>
</li>
</ul>
</li>
<li>
<p>흐름 제어: 메인 루틴에서 서브 루틴을 호출하면 서브루틴에서 수행한다.</p>
</li>
</ul>
<ul>
<li>
<p>이어지는 예제들을 통해서 아래 3가지를 유심히 보자.</p>
<ul>
<li>Coroutine을 어떻게 제어하는지</li>
<li>상태 저장</li>
<li>양방향 전송</li>
</ul>
</li>
</ul>
<hr>
<h1 id=3-코루틴-기본예제-1-코루틴-이해하기>3. 코루틴 기본예제 1: 코루틴 이해하기<a hidden class=anchor aria-hidden=true href=#3-코루틴-기본예제-1-코루틴-이해하기>#</a></h1>
<ul>
<li>
<p>앞으로 <code>def</code>를 보면 단지 function이라 생각하지 말자.</p>
<ul>
<li><code>def</code>로 function, generator, coroutine을 구현할 수 있기 때문이다.</li>
</ul>
</li>
<li>
<p>for문에서는 예외가 잡히기 때문에, <code>StopIterator</code>가 발생되지 않는다.</p>
</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#6272a4>## Generator</span>

<span style=color:#6272a4>## sub routine</span>
<span style=color:#ff79c6>&gt; def corountine1()</span>:
&gt;   print(&#39;&gt;&gt;&gt; coroutine started&#39;)

<span style=color:#6272a4># yield는 외부 main routine에서 주는 값을 받아오고, 이 yield가 i로 할당된다.</span>
&gt;   i = yield
<span style=color:#ff79c6>&gt;   print(&#39;&gt;&gt;&gt; coroutine received</span>: {}<span style=color:#f1fa8c>&#39;.format(i))
</span><span style=color:#f1fa8c>
</span><span style=color:#f1fa8c>## main routine: 함수를 호출하기 때문에
</span><span style=color:#f1fa8c>
</span><span style=color:#f1fa8c>&gt; cr1 = coroutine1()
</span><span style=color:#f1fa8c>
</span><span style=color:#f1fa8c>&gt; print(cr1, type(cr1))
</span><span style=color:#f1fa8c>&lt;generator object coroutine1 at 0x00000158B4A1EB30&gt; &lt;class &#39;</span>generator&#39;&gt;

&gt; next(cr1)
 &gt;&gt;&gt; coroutine started.

&gt; next(cr1)
 <span style=color:#ff79c6>&gt;&gt;&gt; coroutine received </span>: None
 StopIteration
</code></pre></div><ul>
<li>
<p>위 코드에서는 sub routine이 main routine에 주는 것 밖에 하지 못 했다.</p>
</li>
<li>
<p>그러면 어떻게 main과 sub가 상호작용 할 수 있을까??</p>
</li>
<li>
<p><code>send</code>를 통해서 main routine과 sub routine이 상호작용할 수 있다.</p>
</li>
<li>
<p><code>send</code>를 사용해야 yield keyword가 값을 받을 수 있다.</p>
</li>
<li>
<p>이것이 바로 <code>coroutine</code>이다.</p>
<blockquote>
<p>Generator의 특별한 형태로, yield와 send를 통해서 main routine과 sub routine의 데이터를 상호 교환할 수 있다.</p>
</blockquote>
</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml>&gt; cr1 = coroutine1()

<span style=color:#6272a4># yield 지점까지 sub routine 실행</span>
&gt; next(cr1)
 &gt;&gt;&gt; coroutine started.

<span style=color:#6272a4>## 값 전송</span>
&gt; cr1.send(100)
 <span style=color:#ff79c6>&gt;&gt;&gt; coroutine received </span>: <span style=color:#bd93f9>100</span>
 StopIteration
</code></pre></div>
<ul>
<li><strong>send와 next 비교</strong>
<ul>
<li>위 code를 통해서 <code>send</code>도 <code>next</code> 기능이 포함된 걸 알 수 있다.</li>
<li>하지만, <code>next</code>는 값을 sub routine에 보낼 수 없고, <code>send</code>만 보낼 수 있다.</li>
</ul>
</li>
<li>send() 에 100을 입력하니, &lsquo;coroutine received: 100&rsquo;이 출력되었다.</li>
<li>main routine에서 보낸 100이 sub routine인 <code>coroutine1</code>의 <code>yield</code>가 받았고, 이를 i에 할당한 걸 알 수 있다.</li>
</ul>
<ul>
<li>그러면 <code>send</code>를 잘못 사용한 경우를 알아보자.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml>&gt; cr1 = coroutine1()

<span style=color:#6272a4># next(cr1)을 생략하고, 바로 send한다.</span>

<span style=color:#6272a4># 시작되지 않고 보내는 상황이다.</span>

<span style=color:#6272a4>## 값 전송</span>
&gt; cr1.send(100)
<span style=color:#ff79c6>TypeError</span>: can&#39;t send non-None value to a just-started generator
</code></pre></div>
<ul>
<li>Error를 통해 알 수 있는 건 sub-routine의 yield 지점에서 context가 멈춰야, send로 보냈을 때 받을 수 있다는 걸 알 수 있다.</li>
<li>즉, <code>next</code>를 먼저 실행하여, <code>coroutine</code>을 실행한 후 <code>yield</code> keyword를 실행해야 한다.</li>
</ul>
<hr>
<h1 id=4-코루틴-기본예제-2-상태값-확인하기>4. 코루틴 기본예제 2: 상태값 확인하기<a hidden class=anchor aria-hidden=true href=#4-코루틴-기본예제-2-상태값-확인하기>#</a></h1>
<blockquote>
<ul>
<li>GEN_CREATED: 처음 대기 상태를 의미</li>
<li>GEN_RUNNING: 실행 상태를 의미</li>
<li><strong>GEN_SUSPENDED: yield 대기 상태</strong>를 의미</li>
<li>GEN_CLOSED: 실행 완료 상태를 의미</li>
</ul>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#6272a4># 이번에는 매개변수가 존재</span>
<span style=color:#ff79c6>&gt; def coroutine2(x)</span>:
<span style=color:#ff79c6>&gt;   print(&#39;coroutine started </span>: {}<span style=color:#f1fa8c>&#39;.format(x))
</span><span style=color:#f1fa8c>
</span><span style=color:#f1fa8c># main과 sub routine의 양방향 통신 -&gt; 동시성 개발
</span><span style=color:#f1fa8c># 좌변 = 우변
</span><span style=color:#f1fa8c># 좌변은 main routine에서 sub routine으로 입력을 받는 것
</span><span style=color:#f1fa8c># 우변은 sub routine에서 나한테 준 것
</span><span style=color:#f1fa8c>
</span><span style=color:#f1fa8c>&gt;   y = yield x
</span><span style=color:#f1fa8c>&gt;   print(&#39;</span><span style=color:#ff79c6>coroutine y received </span>: {}<span style=color:#f1fa8c>&#39;.format(y))
</span><span style=color:#f1fa8c>&gt;   z = yield x + y
</span><span style=color:#f1fa8c>&gt;   print(&#39;</span><span style=color:#ff79c6>coroutine z received </span>: {}&#39;.format(z))

&gt; cr3 = coroutine2(10)

&gt; print(next(cr3))
<span style=color:#ff79c6>coroutine started </span>: <span style=color:#bd93f9>10</span>
<span style=color:#bd93f9>10</span>

&gt; print(cr3.send(100))
<span style=color:#ff79c6>coroutine y received </span>: <span style=color:#bd93f9>100</span>
<span style=color:#bd93f9>110</span>

&gt; print(cr3.send(100))
<span style=color:#ff79c6>coroutine z received </span>: <span style=color:#bd93f9>100</span>
Stop Iteration
</code></pre></div>
<ul>
<li>상태값 확인을 해보겠다.</li>
<li>상태값 확인은 <code>getgeneratestate</code>를 import하는 것부터 시작한다.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml>&gt; from inspect import getgeneratorstate

&gt; cr3 = coroutine2(10)

&gt; print(getgeneratorstate(cr3))
GEN_CREATED

&gt; next(cr3)
<span style=color:#ff79c6>coroutine started </span>: <span style=color:#bd93f9>10</span>

&gt; print(getgeneratorstate(cr3))
GEN_SUSPENDED

&gt; cr3.send(100)
<span style=color:#ff79c6>coroutine y received </span>: <span style=color:#bd93f9>100</span>

&gt; print(getgeneratorstate(cr3))
GEN_SUSPENDED

&gt; cr3.send(20)
<span style=color:#ff79c6>coroutine z received </span>: <span style=color:#bd93f9>20</span>
StopIteration
</code></pre></div>
<hr>
<h1 id=5-코루틴-기본예제-3-중첩-코루틴-처리>5. 코루틴 기본예제 3: 중첩 코루틴 처리<a hidden class=anchor aria-hidden=true href=#5-코루틴-기본예제-3-중첩-코루틴-처리>#</a></h1>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#ff79c6>&gt; def generator1()</span>:
<span style=color:#ff79c6>&gt;   for x in &#39;AB&#39;</span>:
&gt;       yield x
<span style=color:#ff79c6>&gt;   for y in range(1,4)</span>:
&gt;       yield y

&gt; t1 = generator1()

&gt; print(next(t1))
A

&gt; print(next(t1))
B

<span style=color:#6272a4># 이어서 출력되는 걸 알 수 있다.</span>
&gt; print(next(t1))
<span style=color:#bd93f9>1</span>

&gt; print(next(t1))
<span style=color:#bd93f9>2</span>

&gt; print(next(t1))
<span style=color:#bd93f9>3</span>

&gt; print(next(t1))
StopIteration

&gt; t2 = generator1()

&gt; print(list(t2))
[<span style=color:#f1fa8c>&#39;A&#39;</span>, <span style=color:#f1fa8c>&#39;B&#39;</span>, <span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>]
</code></pre></div>
<ul>
<li><code>yield from</code>을 사용해서 위 code를 구현해보자.</li>
<li>그냥 <code>yield</code>보다 더 직관적으로 이해가 가능하다.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#ff79c6>&gt; def generator2()</span>:

<span style=color:#6272a4># from 뒤에 iterator가 다 소진될 때까지 반환하겠다.</span>
&gt;     yield from &#39;AB&#39;
&gt;     yield from range(1,4)


&gt; t3 = generator2()

&gt; print(next(t3))
A

&gt; print(next(t3))
B

&gt; print(next(t3))
<span style=color:#bd93f9>1</span>

&gt; print(next(t3))
<span style=color:#bd93f9>2</span>

&gt; print(next(t3))
<span style=color:#bd93f9>3</span>
</code></pre></div>
<hr>
<h1 id=6-summary>6. Summary<a hidden class=anchor aria-hidden=true href=#6-summary>#</a></h1>
<ul>
<li>
<p><code>coroutine</code>은 <code>generator</code>에서 시작되며, 동시성이 무엇인지 이해했다.</p>
</li>
<li>
<p><code>coroutine</code>은 함수가 종료되지 않은 상태에서 main routine의 code를 실행한 뒤, 다시 돌아와서 coroutine의 code를 실행한다.</p>
</li>
<li>
<p><code>coroutine</code>이 종료되지 않았으므로, coroutine의 내용도 계속 유지된다.</p>
</li>
<li>
<p>즉, <strong>일반함수는 호출하면 코드를 한 번만 실행할 수 있지만, <code>coroutine</code>은 여러 번 실행이 가능하다</strong></p>
</li>
<li>
<p><code>coroutie</code>이 <code>generator</code>에서 시작되었다면, 둘의 구체적인 차이는 무엇일까???</p>
<ul>
<li><code>generator</code>는 yield로 값을 발생시켰지만, <code>coroutine</code>은 yield로 값을 받아올 수 있다.</li>
<li>호출하는 과점에서 보면</li>
<li>제네레이터는 next 함수(__next__ method)를 반복 호출하여 값을 얻어내는 방식</li>
<li>코루틴은 next 함수(__next__ method)를 한 번만 호출한 뒤, <code>send</code> method를 사용하여 값을 주고, 받는 방식</li>
</ul>
</li>
</ul>
<hr>
<h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1>
<ul>
<li><a href=https://www.inflearn.com/course/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EC%A4%91%EA%B8%89-%EC%9D%B8%ED%94%84%EB%9F%B0-%EC%98%A4%EB%A6%AC%EC%A7%80%EB%84%90>인프런 파이썬 중급</a></li>
<li><a href="https://www.youtube.com/watch?v=1grtWKqTn50">코다의 Process vs. Thread</a></li>
<li><a href="https://www.youtube.com/watch?v=-ffBU0nj8b0">파이썬 강의 UNIT 41.1 코루틴에 값 보내기</a></li>
</ul>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=http://jeha00.github.io/tags/til/>TIL</a></li>
<li><a href=http://jeha00.github.io/tags/python/>python</a></li>
</ul>
<nav class=paginav>
<a class=prev href=http://jeha00.github.io/post/os/os_chapter_02_%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C_%EA%B0%9C%EC%9A%94/>
<span class=title>« Prev Page</span>
<br>
<span>[TIL] Operating System Chapter 02: 운영체제 개요</span>
</a>
<a class=next href=http://jeha00.github.io/post/python_basic/python_basic_36_generator_2/>
<span class=title>Next Page »</span>
<br>
<span>[TIL] Python basic 36: Generator 2</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 37: Coroutine on twitter" href="https://twitter.com/intent/tweet/?text=%5bTIL%5d%20Python%20basic%2037%3a%20Coroutine&url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython_basic%2fpython_basic_37_coroutine%2f&hashtags=TIL%2cpython"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 37: Coroutine on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython_basic%2fpython_basic_37_coroutine%2f&title=%5bTIL%5d%20Python%20basic%2037%3a%20Coroutine&summary=%5bTIL%5d%20Python%20basic%2037%3a%20Coroutine&source=http%3a%2f%2fjeha00.github.io%2fpost%2fpython_basic%2fpython_basic_37_coroutine%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 37: Coroutine on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython_basic%2fpython_basic_37_coroutine%2f&title=%5bTIL%5d%20Python%20basic%2037%3a%20Coroutine"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 37: Coroutine on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fjeha00.github.io%2fpost%2fpython_basic%2fpython_basic_37_coroutine%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 37: Coroutine on whatsapp" href="https://api.whatsapp.com/send?text=%5bTIL%5d%20Python%20basic%2037%3a%20Coroutine%20-%20http%3a%2f%2fjeha00.github.io%2fpost%2fpython_basic%2fpython_basic_37_coroutine%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 37: Coroutine on telegram" href="https://telegram.me/share/url?text=%5bTIL%5d%20Python%20basic%2037%3a%20Coroutine&url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython_basic%2fpython_basic_37_coroutine%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer><script src=https://utteranc.es/client.js repo=JeHa00/blog-comments issue-term=pathname theme=github-dark crossorigin=anonymous async></script>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=http://jeha00.github.io/>Jeha00 DevLog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>