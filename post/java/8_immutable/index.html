<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트 | Jeha DevLog</title><meta name=keywords content="java"><meta name=description content="불변형 객체를 사용하지 않을 때 어떠한 실수를 할 수 있는지 알아보자."><meta name=author content="Me"><link rel=canonical href=http://jeha00.github.io/post/java/8_immutable/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.8330bf30523628d00ababead16d63a7b5cd7570bd4901cb3c11ec258628d7a67.css integrity="sha256-gzC/MFI2KNAKur6tFtY6e1zXVwvUkByzwR7CWGKNemc=" rel="preload stylesheet" as=style><link rel=icon href=http://jeha00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://jeha00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://jeha00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://jeha00.github.io/apple-touch-icon.png><link rel=mask-icon href=http://jeha00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트"><meta property="og:description" content="불변형 객체를 사용하지 않을 때 어떠한 실수를 할 수 있는지 알아보자."><meta property="og:type" content="article"><meta property="og:url" content="http://jeha00.github.io/post/java/8_immutable/"><meta property="og:image" content="http://jeha00.github.io/47"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-11-01T10:00:23+09:00"><meta property="article:modified_time" content="2024-11-01T10:00:23+09:00"><meta property="og:site_name" content="JeHa00 DevLog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://jeha00.github.io/47"><meta name=twitter:title content="불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트"><meta name=twitter:description content="불변형 객체를 사용하지 않을 때 어떠한 실수를 할 수 있는지 알아보자."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://jeha00.github.io/post/"},{"@type":"ListItem","position":2,"name":"불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트","item":"http://jeha00.github.io/post/java/8_immutable/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트","name":"불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트","description":"불변형 객체를 사용하지 않을 때 어떠한 실수를 할 수 있는지 알아보자.","keywords":["java"],"articleBody":"기본형과 참조형 리뷰 이번 포스팅에서는 불변 객체, String 객체 그리고 StringBuilder 객체를 점진적으로 알아가려 한다.\n여태 학습한 내용을 보면 자바에는 자료형이 기본형과 참조형이 있다는 것을 알 수 있다. 자바는 항상 값을 복사해서 대입한다 는 사실을 다시 떠올려보자. 이 사실에 따라 두 자료형 모두 전달하는 값이 존재한다. 기본형은 해당 타입의 실제 값을 복사해서 전달하고, 참조형은 참조값을 복사해서 전달한다. 코드로 확인해 보자.\n기본형\n1 2 3 4 5 6 int a = 10; int b = a; a = 20; System.out.println(\"a = \" + a); System.out.println(\"b = \" + b); 1 2 3 // 실행 결과 a = 20 b = 10 b에 할당 연산자를 사용해 a를 전달하면 a와 동일한 값이 전달된다. a의 값을 다른 값으로 수정해도 b에는 영향을 미치지 않는다. 위 결과로 기본형은 타입의 실제 값을 복사해서 전달한다는 것을 알 수 있다. 똑같이 10이어도 동일한 메모리 주소를 가지지 않으므로 하나가 수정되어도 다른 값에 영향을 주지 않는다. 다음으로 참조형을 확인해보자.\n참조형\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 public class Address { private String value; public Address(String value) { this.value = value; } public void setAddress(String value) { this.value = value; } public String getAddress() { return value; } @Override public String toString() { return \"Address{\" + \"value='\" + value + '\\'' + '}'; } } 1 2 3 4 5 6 7 8 9 // 실행 main 메서드 Address a = new Address(\"서대문구\"); Address b = a; System.out.println(\"a = \" + a); System.out.println(\"b = \" + b); a.setAddress(\"강남구\"); System.out.println(\"a = \" + a); System.out.println(\"b = \" + b); 실행 결과\n1 2 3 4 a = Address{value='서대문구'} b = Address{value='서대문구'} a = Address{value='강남구'} b = Address{value='강남구'} b에 할당 연산자를 사용해 a를 입력하면 기본형과 달리 Address 객체의 참조값이 복사되어 전달된다.\n참조형은 실제 값이 아닌 참조값(메모리 주소 값)을 복사해서 전달하므로 a의 값을 변경하면 b의 값도 변경되는 것을 확인할 수 있다.\n참조형의 사이드 이펙트와 해결책 참조형의 이런 특성 때문에 의도치 않은 변경이 발생할 수 있다. 이 문제를 해결하려면 제일 쉬운 방법은 다른 객체를 생성하는 방법이다. 그러면 예를 들어 a와 b는 서로 다른 참조값을 가지게 되고, a가 수정되어도 b는 그대로다. 하지만 논리적으로 동일한 값을 가지는데\n보다 근본적으로는 객체 공유를 막으면 되지만, 자바문법 상 참조형 변수의 대입은 아무런 문제가 없어서 불가능하다.\n또 다른 방법은 없을까?\n사이드 이펙트가 발생하는 일차적인 원인은 공유된 값이 변경된 것에 있다. 그렇다면 참조값이 가리키는 객체의 정보를 변경할 때 객체 자체를 변경하기보다는 새로운 객체를 생성해서 반환하면 공유 참조로 인한 문제가 발생하지 않을 것이다. 이처럼 객체의 상태(객체 내부 값)가 변하지 않는 객체를 불변 객체(Immutable Object)라 한다.\n그러면 private String value 로 된 부분을 private final String value로 수정한다. setValue() 메서드를 만들지 않는 방법도 있으나 보다 명확하게 의도를 드러내기 위해서 final을 추가한다.\nAddress 객체를 다음과 같이 수정하면 불변 객체로 바꿀 수 있다.\nfinal 추가 setAddress 삭제 생성자를 통해서만 값을 설정할 수 있고, 이후 값 변경은 불가능하다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 public class Address { private final String value; public Address(String value) { this.value = value; } public String getAddress() { return value; } @Override public String toString() { return \"Address{\" + \"value='\" + value + '\\'' + '}'; } } 불변 객체여도 값을 변경해야 한다면? 불변 객체이지만 값을 변경해야 하는 메서드가 필요하다면 ‘변경된 값을 가지는 새로운 불변 객체’ 를 생성해 반환하면 된다.\n만약 위 Address 객체를 통해서 값을 변경하고 싶다면 아래 메서드를 추가한다.\n1 2 3 public Address setAddress(String value) { return new Address(value); } 1 2 3 4 5 6 7 8 9 // 실행 main 메서드 Address a = new Address(\"서대문구\"); Address b = a; System.out.println(\"a = \" + a); System.out.println(\"b = \" + b); a = a.setAddress(\"강남구\"); System.out.println(\"a = \" + a); System.out.println(\"b = \" + b); 실행 결과 1 2 3 4 a = Address{value='서대문구'} b = Address{value='서대문구'} a = Address{value='강남구'} b = Address{value='서대문구'} b의 값까지 변경되지 않는 것을 알 수 있다. a 변수의 입장에서는 값이 변경된 거지만, 사실 새로운 불변형 객체를 생성한 것이 정확한 표현이다.\n불변형 객체를 언급한 이유 가변형 객체가 모다 일반적이지만, 언급한 이유는 String 클래스가 바로 불변형 객체이기 때문이다. 그리고 문자열이지만 가변형으로 사용하기 위해 존재하는 것이 StringBuilder 클래스다. 이 두 가지에 대해 다음 포스팅에서 알아보자.\n","wordCount":"686","inLanguage":"en","datePublished":"2024-11-01T10:00:23+09:00","dateModified":"2024-11-01T10:00:23+09:00","author":[{"@type":"Person","name":"Me"}],"mainEntityOfPage":{"@type":"WebPage","@id":"http://jeha00.github.io/post/java/8_immutable/"},"publisher":{"@type":"Organization","name":"Jeha DevLog","logo":{"@type":"ImageObject","url":"http://jeha00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://jeha00.github.io/ accesskey=h title="@Jeha00 (Alt + H)">@Jeha00</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://jeha00.github.io/me/ title=About><span>About</span></a></li><li><a href=http://jeha00.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=http://jeha00.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://jeha00.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://jeha00.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://jeha00.github.io/post/>Posts</a></div><h1 class=post-title>불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트</h1><div class=post-meta>java&nbsp;·&nbsp;<span title='2024-11-01 10:00:23 +0900 KST'>November 1, 2024</span>&nbsp;·&nbsp;Me</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%ea%b8%b0%eb%b3%b8%ed%98%95%ea%b3%bc-%ec%b0%b8%ec%a1%b0%ed%98%95-%eb%a6%ac%eb%b7%b0 aria-label="기본형과 참조형 리뷰">기본형과 참조형 리뷰</a></li><li><a href=#%ec%b0%b8%ec%a1%b0%ed%98%95%ec%9d%98-%ec%82%ac%ec%9d%b4%eb%93%9c-%ec%9d%b4%ed%8e%99%ed%8a%b8%ec%99%80-%ed%95%b4%ea%b2%b0%ec%b1%85 aria-label="참조형의 사이드 이펙트와 해결책">참조형의 사이드 이펙트와 해결책</a></li><li><a href=#%eb%b6%88%eb%b3%80-%ea%b0%9d%ec%b2%b4%ec%97%ac%eb%8f%84-%ea%b0%92%ec%9d%84-%eb%b3%80%ea%b2%bd%ed%95%b4%ec%95%bc-%ed%95%9c%eb%8b%a4%eb%a9%b4 aria-label="불변 객체여도 값을 변경해야 한다면?">불변 객체여도 값을 변경해야 한다면?</a></li><li><a href=#%eb%b6%88%eb%b3%80%ed%98%95-%ea%b0%9d%ec%b2%b4%eb%a5%bc-%ec%96%b8%ea%b8%89%ed%95%9c-%ec%9d%b4%ec%9c%a0 aria-label="불변형 객체를 언급한 이유">불변형 객체를 언급한 이유</a></li></ul></div></details></div><div class=post-content><h3 id=기본형과-참조형-리뷰>기본형과 참조형 리뷰<a hidden class=anchor aria-hidden=true href=#기본형과-참조형-리뷰>#</a></h3><p>이번 포스팅에서는 불변 객체, String 객체 그리고 StringBuilder 객체를 점진적으로 알아가려 한다.</p><p>여태 학습한 내용을 보면 자바에는 자료형이 기본형과 참조형이 있다는 것을 알 수 있다. <strong><em>자바는 항상 값을 복사해서 대입한다</em></strong> 는 사실을 다시 떠올려보자. 이 사실에 따라 두 자료형 모두 전달하는 값이 존재한다. 기본형은 해당 타입의 실제 값을 복사해서 전달하고, 참조형은 참조값을 복사해서 전달한다. 코드로 확인해 보자.</p><ul><li><p>기본형</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> 10<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> a<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> 20<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;a = &#34;</span> <span style=color:#f92672>+</span> a<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;b = &#34;</span> <span style=color:#f92672>+</span> b<span style=color:#f92672>);</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>// 실행 결과
</span></span><span style=display:flex><span>a = 20
</span></span><span style=display:flex><span>b = 10
</span></span></code></pre></td></tr></table></div></div><ul><li>b에 할당 연산자를 사용해 a를 전달하면 a와 동일한 값이 전달된다.</li><li>a의 값을 다른 값으로 수정해도 b에는 영향을 미치지 않는다.</li></ul></li></ul><p>위 결과로 기본형은 타입의 실제 값을 복사해서 전달한다는 것을 알 수 있다. 똑같이 10이어도 동일한 메모리 주소를 가지지 않으므로 하나가 수정되어도 다른 값에 영향을 주지 않는다. 다음으로 참조형을 확인해보자.</p><ul><li><p>참조형</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Address</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String value<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Address</span><span style=color:#f92672>(</span>String value<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> value<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setAddress</span><span style=color:#f92672>(</span>String value<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> value<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getAddress</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Address{&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;value=&#39;&#34;</span> <span style=color:#f92672>+</span> value <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;\&#39;&#39;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;}&#39;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// 실행 main 메서드
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Address a <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Address<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;서대문구&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Address b <span style=color:#f92672>=</span> a<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;a = &#34;</span> <span style=color:#f92672>+</span> a<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;b = &#34;</span> <span style=color:#f92672>+</span> b<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>a<span style=color:#f92672>.</span><span style=color:#a6e22e>setAddress</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;강남구&#34;</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;a = &#34;</span> <span style=color:#f92672>+</span> a<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;b = &#34;</span> <span style=color:#f92672>+</span> b<span style=color:#f92672>);</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>실행 결과</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>a = Address{value=&#39;서대문구&#39;}
</span></span><span style=display:flex><span>b = Address{value=&#39;서대문구&#39;}
</span></span><span style=display:flex><span>a = Address{value=&#39;강남구&#39;}
</span></span><span style=display:flex><span>b = Address{value=&#39;강남구&#39;}
</span></span></code></pre></td></tr></table></div></div></li><li><p>b에 할당 연산자를 사용해 a를 입력하면 기본형과 달리 Address 객체의 참조값이 복사되어 전달된다.</p></li><li><p>참조형은 실제 값이 아닌 참조값(메모리 주소 값)을 복사해서 전달하므로 a의 값을 변경하면 b의 값도 변경되는 것을 확인할 수 있다.</p></li></ul></li></ul><h3 id=참조형의-사이드-이펙트와-해결책>참조형의 사이드 이펙트와 해결책<a hidden class=anchor aria-hidden=true href=#참조형의-사이드-이펙트와-해결책>#</a></h3><p>참조형의 이런 특성 때문에 의도치 않은 변경이 발생할 수 있다. 이 문제를 해결하려면 제일 쉬운 방법은 다른 객체를 생성하는 방법이다. 그러면 예를 들어 a와 b는 서로 다른 참조값을 가지게 되고, a가 수정되어도 b는 그대로다. 하지만 논리적으로 동일한 값을 가지는데</p><p>보다 근본적으로는 객체 공유를 막으면 되지만, 자바문법 상 참조형 변수의 대입은 아무런 문제가 없어서 불가능하다.</p><p>또 다른 방법은 없을까?</p><p>사이드 이펙트가 발생하는 일차적인 원인은 공유된 값이 변경된 것에 있다. 그렇다면 참조값이 가리키는 객체의 정보를 변경할 때 객체 자체를 변경하기보다는 새로운 객체를 생성해서 반환하면 공유 참조로 인한 문제가 발생하지 않을 것이다. 이처럼 <strong><em>객체의 상태(객체 내부 값)가 변하지 않는 객체를 불변 객체(Immutable Object)라 한다.</em></strong></p><p>그러면 <code>private String value</code> 로 된 부분을 <code>private final String value</code>로 수정한다. <code>setValue()</code> 메서드를 만들지 않는 방법도 있으나 보다 명확하게 의도를 드러내기 위해서 <code>final</code>을 추가한다.</p><p><code>Address</code> 객체를 다음과 같이 수정하면 불변 객체로 바꿀 수 있다.</p><ul><li><code>final</code> 추가</li><li><code>setAddress</code> 삭제</li><li>생성자를 통해서만 값을 설정할 수 있고, 이후 값 변경은 불가능하다.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Address</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> String value<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Address</span><span style=color:#f92672>(</span>String value<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> value<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getAddress</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Address{&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;value=&#39;&#34;</span> <span style=color:#f92672>+</span> value <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;\&#39;&#39;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;}&#39;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=불변-객체여도-값을-변경해야-한다면>불변 객체여도 값을 변경해야 한다면?<a hidden class=anchor aria-hidden=true href=#불변-객체여도-값을-변경해야-한다면>#</a></h3><p>불변 객체이지만 값을 변경해야 하는 메서드가 필요하다면 <strong><em>&lsquo;변경된 값을 가지는 새로운 불변 객체&rsquo;</em></strong> 를 생성해 반환하면 된다.</p><p>만약 위 <code>Address</code> 객체를 통해서 값을 변경하고 싶다면 아래 메서드를 추가한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> Address <span style=color:#a6e22e>setAddress</span><span style=color:#f92672>(</span>String value<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Address<span style=color:#f92672>(</span>value<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// 실행 main 메서드
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Address a <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Address<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;서대문구&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Address b <span style=color:#f92672>=</span> a<span style=color:#f92672>;</span> 
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;a = &#34;</span> <span style=color:#f92672>+</span> a<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;b = &#34;</span> <span style=color:#f92672>+</span> b<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> a<span style=color:#f92672>.</span><span style=color:#a6e22e>setAddress</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;강남구&#34;</span><span style=color:#f92672>);</span> 
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;a = &#34;</span> <span style=color:#f92672>+</span> a<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;b = &#34;</span> <span style=color:#f92672>+</span> b<span style=color:#f92672>);</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>실행 결과<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>a = Address{value=&#39;서대문구&#39;}
</span></span><span style=display:flex><span>b = Address{value=&#39;서대문구&#39;}
</span></span><span style=display:flex><span>a = Address{value=&#39;강남구&#39;}
</span></span><span style=display:flex><span>b = Address{value=&#39;서대문구&#39;}
</span></span></code></pre></td></tr></table></div></div></li></ul><p>b의 값까지 변경되지 않는 것을 알 수 있다. a 변수의 입장에서는 값이 변경된 거지만, 사실 새로운 불변형 객체를 생성한 것이 정확한 표현이다.</p><h3 id=불변형-객체를-언급한-이유>불변형 객체를 언급한 이유<a hidden class=anchor aria-hidden=true href=#불변형-객체를-언급한-이유>#</a></h3><p>가변형 객체가 모다 일반적이지만, 언급한 이유는 String 클래스가 바로 불변형 객체이기 때문이다. 그리고 문자열이지만 가변형으로 사용하기 위해 존재하는 것이 StringBuilder 클래스다. 이 두 가지에 대해 다음 포스팅에서 알아보자.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://jeha00.github.io/tags/java/>java</a></li></ul><nav class=paginav><a class=prev href=http://jeha00.github.io/post/datastructure/hashset/><span class=title>« Prev Page</span><br><span>[Data structure] HashSet에 대해 설명해 줄게!</span></a>
<a class=next href=http://jeha00.github.io/post/datastructure/hash/><span class=title>Next Page »</span><br><span>[Data structure] Hash에 대해 설명해 줄게!</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트 on twitter" href="https://twitter.com/intent/tweet/?text=%eb%b6%88%eb%b3%80%ed%98%95%20%ea%b0%9d%ec%b2%b4%eb%a5%bc%20%ec%82%ac%ec%9a%a9%ed%95%98%ec%a7%80%20%ec%95%8a%ec%9d%84%20%eb%95%8c%20%eb%b0%9c%ec%83%9d%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8a%94%20%ec%82%ac%ec%9d%b4%eb%93%9c%20%ec%9d%b4%ed%8e%99%ed%8a%b8&url=http%3a%2f%2fjeha00.github.io%2fpost%2fjava%2f8_immutable%2f&hashtags=java"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fjeha00.github.io%2fpost%2fjava%2f8_immutable%2f&title=%eb%b6%88%eb%b3%80%ed%98%95%20%ea%b0%9d%ec%b2%b4%eb%a5%bc%20%ec%82%ac%ec%9a%a9%ed%95%98%ec%a7%80%20%ec%95%8a%ec%9d%84%20%eb%95%8c%20%eb%b0%9c%ec%83%9d%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8a%94%20%ec%82%ac%ec%9d%b4%eb%93%9c%20%ec%9d%b4%ed%8e%99%ed%8a%b8&summary=%eb%b6%88%eb%b3%80%ed%98%95%20%ea%b0%9d%ec%b2%b4%eb%a5%bc%20%ec%82%ac%ec%9a%a9%ed%95%98%ec%a7%80%20%ec%95%8a%ec%9d%84%20%eb%95%8c%20%eb%b0%9c%ec%83%9d%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8a%94%20%ec%82%ac%ec%9d%b4%eb%93%9c%20%ec%9d%b4%ed%8e%99%ed%8a%b8&source=http%3a%2f%2fjeha00.github.io%2fpost%2fjava%2f8_immutable%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fjeha00.github.io%2fpost%2fjava%2f8_immutable%2f&title=%eb%b6%88%eb%b3%80%ed%98%95%20%ea%b0%9d%ec%b2%b4%eb%a5%bc%20%ec%82%ac%ec%9a%a9%ed%95%98%ec%a7%80%20%ec%95%8a%ec%9d%84%20%eb%95%8c%20%eb%b0%9c%ec%83%9d%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8a%94%20%ec%82%ac%ec%9d%b4%eb%93%9c%20%ec%9d%b4%ed%8e%99%ed%8a%b8"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fjeha00.github.io%2fpost%2fjava%2f8_immutable%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트 on whatsapp" href="https://api.whatsapp.com/send?text=%eb%b6%88%eb%b3%80%ed%98%95%20%ea%b0%9d%ec%b2%b4%eb%a5%bc%20%ec%82%ac%ec%9a%a9%ed%95%98%ec%a7%80%20%ec%95%8a%ec%9d%84%20%eb%95%8c%20%eb%b0%9c%ec%83%9d%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8a%94%20%ec%82%ac%ec%9d%b4%eb%93%9c%20%ec%9d%b4%ed%8e%99%ed%8a%b8%20-%20http%3a%2f%2fjeha00.github.io%2fpost%2fjava%2f8_immutable%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 불변형 객체를 사용하지 않을 때 발생할 수 있는 사이드 이펙트 on telegram" href="https://telegram.me/share/url?text=%eb%b6%88%eb%b3%80%ed%98%95%20%ea%b0%9d%ec%b2%b4%eb%a5%bc%20%ec%82%ac%ec%9a%a9%ed%95%98%ec%a7%80%20%ec%95%8a%ec%9d%84%20%eb%95%8c%20%eb%b0%9c%ec%83%9d%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8a%94%20%ec%82%ac%ec%9d%b4%eb%93%9c%20%ec%9d%b4%ed%8e%99%ed%8a%b8&url=http%3a%2f%2fjeha00.github.io%2fpost%2fjava%2f8_immutable%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://jeha00.github.io/>Jeha DevLog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>