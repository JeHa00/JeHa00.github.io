<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>CI/CD를 위한 github action study basic | Jeha DevLog</title><meta name=keywords content="ci/cd"><meta name=description content="github actions의 core components인 workflow, jobs, steps에 대해 알아보고 실습을 진행하면서 github action의 내장 keyword도 알아본다."><meta name=author content><link rel=canonical href=http://jeha00.github.io/post/ci_cd/github_action/lecture_01/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.268b216eea772711d318d156ce02a8190962367a0bf469fa9a959114ea6b9ca3.css integrity="sha256-Joshbup3JxHTGNFWzgKoGQliNnoL9Gn6mpWRFOprnKM=" rel="preload stylesheet" as=style><link rel=icon href=http://jeha00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://jeha00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://jeha00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://jeha00.github.io/apple-touch-icon.png><link rel=mask-icon href=http://jeha00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="CI/CD를 위한 github action study basic"><meta property="og:description" content="github actions의 core components인 workflow, jobs, steps에 대해 알아보고 실습을 진행하면서 github action의 내장 keyword도 알아본다."><meta property="og:type" content="article"><meta property="og:url" content="http://jeha00.github.io/post/ci_cd/github_action/lecture_01/"><meta property="og:image" content="http://jeha00.github.io/47"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-08-03T21:18:52+09:00"><meta property="article:modified_time" content="2023-08-03T21:18:52+09:00"><meta property="og:site_name" content="JeHa00 DevLog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://jeha00.github.io/47"><meta name=twitter:title content="CI/CD를 위한 github action study basic"><meta name=twitter:description content="github actions의 core components인 workflow, jobs, steps에 대해 알아보고 실습을 진행하면서 github action의 내장 keyword도 알아본다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://jeha00.github.io/post/"},{"@type":"ListItem","position":2,"name":"CI/CD를 위한 github action study basic","item":"http://jeha00.github.io/post/ci_cd/github_action/lecture_01/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"CI/CD를 위한 github action study basic","name":"CI\/CD를 위한 github action study basic","description":"github actions의 core components인 workflow, jobs, steps에 대해 알아보고 실습을 진행하면서 github action의 내장 keyword도 알아본다.","keywords":["ci/cd"],"articleBody":"0. Introduction 프로젝트를 진행하면서 새로 작성된 또는 수정된 코드를 repository에 push하면 자동적으로 테스트를 실행하고, 통과되면 합쳐지고 아니면 에러를 발생시키는 workflow를 적용하고 싶어서 예전부터 공부하고 싶었던 github action에 대해 study를 시작한다.\n국내에서는 github action에 대한 강의나 서적을 찾지 못하여 멘토링을 찾았지만 시간 대비 너무 비싸서 포기했다. 그래서 udemy를 찾던 중 저렴한 가격에 좋은 퀄리티 강의를 찾게 되어 이 강의를 중심으로 학습을 진행한다.\n해당 강좌에서 사용되는 소스 코드를 사용하는 부분들은 빼고 블로그에 정리한다.\n해당 소스 코드를 사용하는 부분이 있다면 그 부분이 없어도 해당 블로그만 봐도 익힐 수 있도록 정리해놓는다.\n이미 알고 있는 개념들도 있지만, 놓치고 있는 부분을 확인하고자 정리해본다.\n🔆 첨부된 링크는 구글에 github actions {keyword} 로 입력하면 제일 첫 번째로 나온다.\n1. What is Git, Github and Github Action? 1.1 What is Git? 무료로 사용할 수 있는 관리 시스템 도구로서, 소스 코드의 변화들을 관리하는 역할을 한다.\n구체적으로 정리하자면 다음 3가지로 정리할 수 있다.\nGit의 3가지 역할 create a snpshot (commit) branch를 사용하여 다른 코드와 작업이 가능하고, 여러 브랜치와 commit들 사이로 이동할 수 있다. (checkout, switch) 1.2 What is Github? store \u0026 manage git repositories\ngit 으로 관리되고 있는 repositories들의 cloud 저장소이자, 저장된 code들에 대해 여러 서비스를 제공하는 회사다.\nGithub의 3가지 역할 cloud git repository storage(push \u0026 pull) code 관리 \u0026 개발하는데 협력하는 도구 (Issues, PR 등등) github Action을 통한 CI / CD 1.3 What is Github Actions? github에 의해서 제공되는 workflow 자동화 서비스로, repository와 관련하여 자동화된 프로세스들과 action들을 의미한다.\n하지만 이 서비스에서 가장 중요한 부분은 CI / CD 다. 이 용어는 아래 용어의 약어를 의미한다.\nCI: Continuous Integration CD: continuous Delivery CI는 코드 변화을 기존에 존재한 코드와 합쳐져서 build 되고, 테스트를 거치고, 최종적으로 합쳐지는 단계를 말한다.\nCD는 CI 를 거치고 나서, 새로운 앱과 패키지 버전들이 자동적으로 배포되는 걸 말한다.\n예를 들어 코드를 수정하면 자동적으로 새로운 웹 사이트 버전을 자동적으로 업로드하고 publish 하기를 원할 것이다. 이것이 CI/CD다.\n그러면 가장 중요한 부분이 CI/CD라고 했으니 그 외의 부분들에 대해 언급하자면 workflow나 프로세스의 종류만을 자동화하는 것뿐만 아니라, repository 및 코드 관리도 수행한다.\ncode reviews, issue management 2.Github Actions - Basic Building Blocks \u0026 Components 그러면 본격적으로 github action에 대해 학습해보자.\n학습 목표는 다음과 같다.\ngithub action에서 핵심 요소들을 이해하기 Workflows, Jobs \u0026 Steps 로 작업하기 예시 workflow를 직접 구성해보기 2.1 key elements: Workflows, Jobs, Steps Github Action에서는 실행\n위 3가지는 Code repository와 관련 있다.\nworkflow는 몇 개가 되든 추가할 수 있다. 하나의 workflow는 한 개 이상의 Job을 포함한다. 하나의 job은 한 개 이상의 Step을 포함한다. Step은 실질적인 것들을 의미하는데, code 를 다운 받거나, dependency를 설치하거나, 테스트를 진행하는 등의 단계들을 의미한다. Workflows\nGithub repository에 부착된다 한 개 이상의 Job을 가진다 Events를 기반으로 시작된다. .github/workflows Jobs\n하나의 Job마다 하나의 Runner를 정의한다. Runner는 runs-on으로 지정한다. 그래서 job마다 runs-on을 입력해야 한다. 즉 job마다 자신만의 virtual machine을 가져서 다른 machine과 job으로부터 완전히 격리시켜야 한다는 의미다. 1개 이상의 Steps를 포함한다. 병렬적으로 또는 동기적으로 실행된다. 실행 조건을 부여할 수 있다. Steps\n하나의 Action 또는 하나의 shell script를 실행한다. Action은 workflow의 가장 작은 실행 단위 커스텀 또는 third party action을 사용할 수 있다. steps는 순서대로 실행된다. 실행 조건을 부여할 수 있다. 정책\npublic repository에 대해서는 Github Action은 무료다. 하지만 private이면 매달 특정 사용량까지만 무료다. 보다 구체적인 사용 요금 정책은 여기를 확인한다. 만약 repository tab에서 Actions 를 확인하지 못한다면 여기를 클릭하여 설명을 확인하자. 2.2 Practice 1 해당 실습은 gh-firsts-action이라는 public repository를 생성하여 이 repository에서 진행했다.\n그러면 첫 workflow를 생성해보자. 첫 예제인 만큼 Actions tab에 들어가서 간단한 worflow인 Simple workflow 를 선택해서 사용해보자. 해당 workflow의 configure를 선택하자.\nrunners에 대한 상세 설명 여기를 확인하자.\nworkflow yml 파일을 작성해보자. 위에부터 아래 순으로 하나 하나 설명해보겠다.\nname, on, jobs, runs-on, steps, name, run은 github action에 내장된 keyword다. name: workflow의 이름을 말한다. 아래 예시의 이름은 First workflow다. on: 아래 workflow를 실행시킨 이벤트를 정의한다. workflow_dispatch는 Actions tap에서 수동적으로 직접 실행시키는 걸 말한다. jobs: job들을 정의한다. 첫 번째 job의 이름은 first-job 으로 명명한다. ‘firstjob’으로 해도 되고, job의 이름을 짓는 건 자유롭다. runs-on: 해당 job이 실행될 환경을 말한다. 구체적인 환경 확인은 위에 언급된 runners에 대한 설명을 본다. job마다 자신만의 runner를 가지고 있다. 즉 job마다 runs-on을 입력해야 한다. 이 말은 job마다 자신만의 virtual machine을 가져서 다른 machine과 job으로부터 완전히 격리시켜야 한다는 의미다. steps: 이제 여러 step들을 정의한다. 여기부터는 - 를 붙어서 key - value 형식으로 작성한다. 위에 Workflows, Jobs, Steps의 설명에 언급된 것처럼 step은 하나의 shell script를 실행하는데, 아래 step은 총 2개의 script를 실행하도록 정의했다. 1 2 3 4 5 6 7 8 9 10 name: First workflow on: workflow_dispatch jobs: first-job: runs-on: ubuntu-latest steps: - name: Print greeting run: echo \"Hello World!\" - name: Print Goodbye run: echo \"Done - bye!\" 위 스크립트는 여러 step을 통해 shell commands를 실행했다. 하지만 다음과 같이 pipe symbol(|)을 사용하여 하나의 step에서도 실행할 수 있다.\n1 2 3 4 ... run: | echo \"First output\" echo \"Second output\" 그러면 이를 다 작성했으면 오른쪽 상단에 Commit Changes...를 클릭하여 아래 이미지에 보이듯이 팝업창의 Commit changes 를 클릭하여 작성한 workflow를 생성하자.\n그러면 Actions tab을 클릭하면 다음 이미지처럼 화면이 보일 것이고, 오른쪽 위에 Run workflow를 클릭하면 실행할 브랜치와 수동으로 실행시킬 수 있다.\n직접 실행하는 workflow_dispatch로 실행할 경우, workflow의 name이 위 이미지처럼 title로 뜬다. 2.3 workflow를 실행시키는 event의 종류들 다음 실습을 실행하기에 앞서서 workflow를 실행시키는 여러 events들에 대해 알아보자.\ngithub action에서 내장된 event 들 중 많은 것들은 repository와 관련있다.\nrepository와 관련된 events push: pushing a commit pull_request: pull request action (opened, closed,..) create: branch 나 tag 생성 시 fork: repository가 fork 될 때 issues: 하나의 issue가 열리고, 삭제될 때 등등 issue_comment: Issue나 PR에 comment가 달릴 때 discussion: Discussion action과 관련하여 생성되고, 삭제되고, 수정되거나 등등 기타 등등 repository와 관련 없는 events workflow_dispatch: 수동적으로 workflow를 진행시키는 것 repository_dispatch: REST API 요청으로 workflow를 진행시키는 것 schedule: workflow를 특정 시간에 실행시키는 것 workflow_call: 다른 work flow에 의해서 호출될 경우 Github workflow의 이용 가능한 모든 event들을 알고 싶다면 여기 를 클릭하자.\n2.4 What are Actions? command는 작성자에 의해 정의되는 shell command로 대체로 단순한다.\n하지만 Action은 빈번하게 반복되는 일을 수행하는 애플리케이션으로 대체로 복잡하다. custom Action을 만들 수 있고, 또는 공식적인 Action을 사용할 수 있다.\n그래서 코드를 내려받는 Action 중에 actions/checkout이 존재한다. Github 팀에 의해서 만들어지고 유지 관리되고 있는 repository다.\n위 action외에도 github action market에 들어가면 여러 action을 확인할 수 있다.\n2.5 Practice 2 그러면 다음 실습으로 보다 실제 프로젝트에 가깝게 하기 위해서 local에서 workflow를 작성하여 진행해볼려고 한다.\n실습 1에서 만든 repository와는 상관 없이 진행한다. 두 번째로 진행할 실습은 참고 강의에서는 reactJS로 진행했다. reactJS를, js를 만질 줄 몰라도 상관없다. 이 글은 frontend를 학습하기 위한 글이 아닌, github action을 학습하기 위한 글이기 때문이다. 소제목이 무엇을 의미하는지, 또는 소제목 대로 진행하기 위해서는 어떻게 yml을 작성하면 되는지 를 이해하면 된다. 단지 실습을 통해서 여러 내용을 학습하기 위한 것일 뿐이다.\n이번 실습을 하기 전에 workflow를 진행시키는 event 들에 대해 알아보자.\n1 2 3 4 5 6 7 name: Test Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code run과 uses의 차이 그러면 다시 yml 작성으로 돌아가보자.\nname을 작성했으니 그 다음으로 runs를 작성하면 될까?\n그렇지 않다.\nruns은 Action이 아닌 command를 실행할 때 사용하는 내장된 키워드다.\nAction을 실행하기 위해서는 uses를 사용해야 한다. 그 다음으로 해당 Action의 식별자를 입력한다.\n1 2 3 4 5 6 7 8 name: Test Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 actions/checkout은 github action market에 들어가서 checkout을 검색하여 들어가면 다음 이미지와 같이 Usage에서 - uses: actions/checkout@v3를 확인할 수 있다. Actions를 입력할 때 버전도 함께 입력하자. 업데이트 되면서 현재 사용하고 있는 Action이 조금 달라질 수도 있기 때문이다.\nwith 몇 몇 Action의 경우에는 추가적인 세팅을 요구하기도 한다. 그럴 때는 with keyword를 하단에 입력하여 사용한다. uses keyword를 사용한 후 입력한다.\n1 2 3 4 5 6 7 8 9 10 name: Test Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 with: ... 그렇다면 추가로 입력해야하는 설정들의 key 값은 무엇이 있는지 어떻게 알 수 있을까?\n바로 위에 첨부한 이미지를 보면 uses keyword 밑에 with keyword가 있는 걸 알 수 있다. 이 설정들은 그대로 사용한다면 수정하지 않아도 되지만, custom 하여 사용한다면 수정해야할 수도 있다.\nactions/checkout@v3에는 특별하게 요구되는 옵션이 없으므로 with는 사용하지 않는다.\n이미 설치된 소프트웨어 확인 python 기반 프레임워크를 사용한다면 python을, js라면 Node.js 가 설치해야 한다. runs-on에 있는 작성한 소프트웨어에 미리 설치된 소프트웨어로 뭐가 있는지 확인해서 없으면 python 또는 node.js를 설치해야 한다. 이를 확인하기 위해서 pre-installed software에 있는 os 목록들 중 해당되는 os를 클릭하여 확인한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 name: Test Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 - name: Install NodeJS uses: actions/setup-node # or - name: Install Python uses: actions/setup-python 직접 programming language 설치하기 하지만 만약 직접 설치를 해야한다면 다음과 같이 설치 step을 추가한다.\nstep을 추가할 때는 actions/setup-node 를 검색하여 나온 actions/setup-node 또는 actions/setup-python 을 검색하여 나온 actions/setup-python 에 들어가면 작성 안내를 확인할 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 name: Test Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 # Python - name: Install Python uses: actions/setup-python@v4 with: python-version: '3.10' # or NodeJS - name: Install NodeJS uses: actions/setup-node@v3 with: node-version: 18 Dependency 설치하기 그 다음으로 dependency를 설치해보자.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 name: Test Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 # Python - name: Install Python uses: actions/setup-python@v4 with: python-version: '3.10' # dependency - name: Install dependencies run: pip install -r requirements.txt # poetry도 사용 가능하다. # or NodeJS - name: Install NodeJS uses: actions/setup-node@v3 with: node-version: 18 # dependency - name: Install dependencies run: npm ci test 실행하기 다음으로 test를 실행하는 step을 작성해보자.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 name: Test Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 # Python - name: Install Python uses: actions/setup-python@v4 with: python-version: '3.10' - name: Install dependencies run: pip install -r requirements.txt # tests - name: Run tests run: pytest # 해당 글 작성자는 pytest를 통해 test를 하기 때문에 pytest를 작성했다. # or NodeJS - name: Install NodeJS uses: actions/setup-node@v3 with: node-version: 18 - name: Install dependencies run: npm ci # tests - name: Run tests run: npm test 여기까지 작성했으면 remote repository에 push를 하자.\n❗️ udemy 강좌에서는 원격을 등록할 때 Personal access tokens 을 사용하는 방식으로 했으나 나는 그 방식을 사용하지 않았다. 만약 그 방식으로 remote origin을 등록했다면 github의 settings에 들어가서 New personal access token 항목에 들어가 Select scopes에서 workflow를 클릭한 후 토큰을 생성해야 local에서 작성한 workflow를 원격에 push할 수 있다.\nworkflow 확인하기 push가 완료된 후, github repository의 Actions tab에 들어가서 확인하면 생성했던 workflow가 이미 실행 중인 걸 확인할 수 있다. 왜냐하면 새로 생성된 workflow의 on keyword에 대한 value가 push 이기 때문이다.\n강의의 소스 코드 예제가 js이기 때문에 Node.js 중심으로 작성된 workflow다. 실행 결과는 다음과 같다.\n그러면 테스트 코드 일부를 수정한 후, 다시 원격에 push 해서 fail를 발생시켜보자. 실행 결과는 다음과 같다.\n실패한 step을 클릭하면 어느 부분으로 실패했는지까지 알 수 있다.\n여러 개의 job 추가하기: 병렬적으로 실행하기 이번에는 test 란 job에 추가로 deploy 라는 job을 추가해보자. job을 추가하는 것이기 때문에, test와 동일한 level로 띄어쓰기를 해야 한다.\n예제에서는 실제 hosting provider를 가지고 있지 않기 때문에 단지 echo 하는 걸로 대신하겠다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 name: Deploy Project # Test Project에서 다음과 같이 수정 on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 # Python - name: Install Python uses: actions/setup-python@v4 with: python-version: '3.10' - name: Install dependencies run: pip install -r requirements.txt - name: Run tests run: pytest deploy: # 또 다른 job 추가하기 runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 - name: Install Python uses: actions/setup-python@v4 with: python-version: '3.10' - name: Install dependencies run: pip install -r requirements.txt - name: Deploy run: echo \"Deploying...\" # or NodeJS - name: Install NodeJS uses: actions/setup-node@v3 with: node-version: 18 - name: Install dependencies run: npm ci - name: Run tests run: npm test deploy: # 또 다른 job 추가하기 runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 - name: Install NodeJS uses: actions/setup-node@v3 with: node-version: 18 - name: Install dependencies run: npm ci - name: Build project run: npm run build - name: Deploy run: echo \"Deploying...\" 동일한 level로 아래와 같이 작성한 두 job들은 순차적으로 실행되는 게 아닌 아래 이미지처럼 병렬적으로 실행된다.\n완료되면 아래 이미지와 같이 Total duration으로 전체 걸린 시간을 알 수 있다.\n🔆 github action에 뜨는 workflow 소제목 직접 실행하는 workflow_dispatch로 실행할 경우, workflow의 name이 위 이미지처럼 title로 뜬다. 하지만 push 같은 자동적으로 실행되도록 하는 event의 경우 commit message가 title로 뜬다.\nadd new job이 commit message로 작성한 것 병렬이 아닌 순차적으로 workflow 실행하기 job 식별자를 입력한 후에 needs라는 내장 키워드를 입력하여, 선 작업을 지정한다. 선 작업으로 진행된 job이 끝나야 needs가 작성된 job이 실행될 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 name: Deploy Project on: push jobs: test: runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 ... deploy: needs: test # 선작업 지정하여 순차적으로 실행 runs-on: ubuntu-latest steps: - name: Get code uses: actions/checkout@v3 ... 아래 이미지에서 확인할 수 있듯이 Actions tap을 들어가보면 jobs의 위치가 바뀐 걸 알 수 있다.\n하지만 만약 test job이 fail되면 아래 이미지처럼 deploy는 실행되지 않는다.\n하나의 event가 아닌 여러 events를 trigger로 사용하기: 대괄호로 사용하기 이전 코드에서 작성된 event는 다음과 같이 하나다.\n1 2 3 4 5 6 7 name: Deploy Project on: push # 하나의 event jobs: test: ... deploy: ... 그러면 여러 event를 정의해보자. 여러 events를 정의하기 위해서는 대괄호를 사용해야 한다.\n1 2 3 4 5 6 7 name: Deploy Project on: [push, workflow_dispatch] jobs: test: ... deploy: ... 아래 이미지는 Multiple events로 수정하여 push하고, 수동적으로 workflow를 main branch에서 실행한 것이다.\nevent에 workflow_dispatch가 있기 때문에 동시에 workflow를 실행할 수 있다.\nExpressions and Github context 위 yml처럼 command를 실행할 수도 있지만 환경변수를 필요로 하는 command를 실행할 필요가 있을 수 있다.\n3번째 workflow output.yml 를 생성해보자.\n1 2 3 4 5 6 7 8 name: Output information on: workflow_dispatch jobs: info: runs-on: ubuntu-latest steps: - name: Output github context run: echo \"${{ toJSON(github) }}\" 위 workflow를 보면 ${{ }} 을 확인할 수 있다. 이 문법으로 작성된 text는 github에 신호를 보낸다.\nGithub에 의해서 이용가능하도록 만들어진 metadata에 접근할 것이다.\ngithub는 내장된 key 값이다. 그리고 Github의 내장된 함수인 toJson으로 이 값을 감쌀 것이다.\n내장된 context key값은 Github Actions context 를 확인하면 알 수 있다. 그리고 github actions의 내장된 function expression은 Github Actions expressions를 보면 알 수 있다.\ngithub key는 위 문서에 따르면 진행 중인 workflow에 대한 정보를 의미한다고 한다. toJSON은 위 문서에 따르면 JSON 형태로 바꿔준다.\n새로 생성한 workflow를 수동적으로 실행한 후, 출력물을 확인하면 github context object로부터 가져온 데이터를 확인할 수 있다. 아래 이미지를 확인하므로써 Practice 2를 마친다.\n3. Summary 그러면 Github actions의 core component인 workflow, job, step을 다시 짚어보자.\nCore components workflow 안에는 한 개 이상의 Job들이 존재하고, Job 안에는 한 개 이상의 step이 존재한다.\nworkflows: define Events + Jobs event란 workflow를 실행시키는 trigger다. 하나 이상의 event와 Job을 정의하는 component Jobs: define Runner + Steps runner와 step을 정의하는 component job들은 병렬로 또는 순차적으로 실행 가능하다. Steps: Do the actual works 실제 작업을 수행하는 component 여기서 work는 Github action에서 내장되어 정의된 작업 또는 직접 정의한 work가 해당된다. 실제로 실행되는 actions Events / Triggers Events의 종류에는 매우 다양한데, 크게 분류하자면 repository와의 관련 유무로 나눌 수 있다.\nworkflow 정의하기 .github/workflows/.yml 인 경로로, 파일 형식으로 작성하여 정의한다.\n이 때 작성 장소는 local과 github 모두에서 작성 가능하다.\n그리고 Github Actions syntax를 반드시 따라야 한다.\nRunners runner는 job 들을 실행하는 서버들을 의미한다. 이 runners는 OS에 따라서 다르게 사전에 정의된 runner들이 존재한다. 하지만 custom runner도 정의내릴 수 있다. Reference [udemy lecture] Github Actions - The Complete Guide github actions billing policy github settings for repository github actions - runners github actions - runners: pre-installed software github actions - events that trigger workflows github actions market actions/setup-python actions/setup-node Github Actions context Github Actions expressions ","wordCount":"2645","inLanguage":"en","datePublished":"2023-08-03T21:18:52+09:00","dateModified":"2023-08-03T21:18:52+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://jeha00.github.io/post/ci_cd/github_action/lecture_01/"},"publisher":{"@type":"Organization","name":"Jeha DevLog","logo":{"@type":"ImageObject","url":"http://jeha00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://jeha00.github.io/ accesskey=h title="@Jeha00 (Alt + H)">@Jeha00</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://jeha00.github.io/me/ title=About><span>About</span></a></li><li><a href=http://jeha00.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=http://jeha00.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://jeha00.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://jeha00.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://jeha00.github.io/post/>Posts</a></div><h1 class=post-title>CI/CD를 위한 github action study basic</h1><div class=post-meta>CI/CD&nbsp;·&nbsp;<span title='2023-08-03 21:18:52 +0900 KST'>August 3, 2023</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#0-introduction aria-label="0. Introduction">0. Introduction</a></li><li><a href=#1-what-is-git-github-and-github-action aria-label="1. What is Git, Github and Github Action?">1. What is Git, Github and Github Action?</a><ul><li><a href=#11-what-is-git aria-label="1.1 What is Git?">1.1 What is Git?</a></li><li><a href=#12-what-is-github aria-label="1.2 What is Github?">1.2 What is Github?</a></li><li><a href=#13-what-is-github-actions aria-label="1.3 What is Github Actions?">1.3 What is Github Actions?</a></li></ul></li><li><a href=#2github-actions---basic-building-blocks--components aria-label="2.Github Actions - Basic Building Blocks &amp;amp; Components">2.Github Actions - Basic Building Blocks & Components</a><ul><li><a href=#21-key-elements-workflows-jobs-steps aria-label="2.1 key elements: Workflows, Jobs, Steps">2.1 key elements: Workflows, Jobs, Steps</a></li><li><a href=#22-practice-1 aria-label="2.2 Practice 1">2.2 Practice 1</a></li><li><a href=#23-workflow%eb%a5%bc-%ec%8b%a4%ed%96%89%ec%8b%9c%ed%82%a4%eb%8a%94-event%ec%9d%98-%ec%a2%85%eb%a5%98%eb%93%a4 aria-label="2.3 workflow를 실행시키는 event의 종류들">2.3 workflow를 실행시키는 event의 종류들</a><ul><li><a href=#repository%ec%99%80-%ea%b4%80%eb%a0%a8%eb%90%9c-events aria-label="repository와 관련된 events">repository와 관련된 events</a></li><li><a href=#repository%ec%99%80-%ea%b4%80%eb%a0%a8-%ec%97%86%eb%8a%94-events aria-label="repository와 관련 없는 events">repository와 관련 없는 events</a></li></ul></li><li><a href=#24-what-are-actions aria-label="2.4 What are Actions?">2.4 What are Actions?</a></li><li><a href=#25-practice-2 aria-label="2.5 Practice 2">2.5 Practice 2</a><ul><li><a href=#run%ea%b3%bc-uses%ec%9d%98-%ec%b0%a8%ec%9d%b4 aria-label="run과 uses의 차이">run과 uses의 차이</a></li><li><a href=#with aria-label=with>with</a></li><li><a href=#%ec%9d%b4%eb%af%b8-%ec%84%a4%ec%b9%98%eb%90%9c-%ec%86%8c%ed%94%84%ed%8a%b8%ec%9b%a8%ec%96%b4-%ed%99%95%ec%9d%b8 aria-label="이미 설치된 소프트웨어 확인">이미 설치된 소프트웨어 확인</a></li><li><a href=#%ec%a7%81%ec%a0%91-programming-language-%ec%84%a4%ec%b9%98%ed%95%98%ea%b8%b0 aria-label="직접 programming language 설치하기">직접 programming language 설치하기</a></li><li><a href=#dependency-%ec%84%a4%ec%b9%98%ed%95%98%ea%b8%b0 aria-label="Dependency 설치하기">Dependency 설치하기</a></li><li><a href=#test-%ec%8b%a4%ed%96%89%ed%95%98%ea%b8%b0 aria-label="test 실행하기">test 실행하기</a></li><li><a href=#workflow-%ed%99%95%ec%9d%b8%ed%95%98%ea%b8%b0 aria-label="workflow 확인하기">workflow 확인하기</a></li><li><a href=#%ec%97%ac%eb%9f%ac-%ea%b0%9c%ec%9d%98-job-%ec%b6%94%ea%b0%80%ed%95%98%ea%b8%b0-%eb%b3%91%eb%a0%ac%ec%a0%81%ec%9c%bc%eb%a1%9c-%ec%8b%a4%ed%96%89%ed%95%98%ea%b8%b0 aria-label="여러 개의 job 추가하기: 병렬적으로 실행하기">여러 개의 job 추가하기: 병렬적으로 실행하기</a></li><li><a href=#-github-action%ec%97%90-%eb%9c%a8%eb%8a%94-workflow-%ec%86%8c%ec%a0%9c%eb%aa%a9 aria-label="🔆 github action에 뜨는 workflow 소제목">🔆 github action에 뜨는 workflow 소제목</a></li><li><a href=#%eb%b3%91%eb%a0%ac%ec%9d%b4-%ec%95%84%eb%8b%8c-%ec%88%9c%ec%b0%a8%ec%a0%81%ec%9c%bc%eb%a1%9c-workflow-%ec%8b%a4%ed%96%89%ed%95%98%ea%b8%b0 aria-label="병렬이 아닌 순차적으로 workflow 실행하기">병렬이 아닌 순차적으로 workflow 실행하기</a></li><li><a href=#%ed%95%98%eb%82%98%ec%9d%98-event%ea%b0%80-%ec%95%84%eb%8b%8c-%ec%97%ac%eb%9f%ac-events%eb%a5%bc-trigger%eb%a1%9c-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0-%eb%8c%80%ea%b4%84%ed%98%b8%eb%a1%9c-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0 aria-label="하나의 event가 아닌 여러 events를 trigger로 사용하기: 대괄호로 사용하기">하나의 event가 아닌 여러 events를 trigger로 사용하기: 대괄호로 사용하기</a></li><li><a href=#expressions-and-github-context aria-label="Expressions and Github context">Expressions and Github context</a></li></ul></li></ul></li><li><a href=#3-summary aria-label="3. Summary">3. Summary</a><ul><ul><li><a href=#core-components aria-label="Core components">Core components</a></li><li><a href=#events--triggers aria-label="Events / Triggers">Events / Triggers</a></li><li><a href=#workflow-%ec%a0%95%ec%9d%98%ed%95%98%ea%b8%b0 aria-label="workflow 정의하기">workflow 정의하기</a></li><li><a href=#runners aria-label=Runners>Runners</a></li></ul></ul></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h1 id=0-introduction>0. Introduction<a hidden class=anchor aria-hidden=true href=#0-introduction>#</a></h1><p>프로젝트를 진행하면서 새로 작성된 또는 수정된 코드를 repository에 push하면 자동적으로 테스트를 실행하고, 통과되면 합쳐지고 아니면 에러를 발생시키는 workflow를 적용하고 싶어서 예전부터 공부하고 싶었던 github action에 대해 study를 시작한다.</p><p>국내에서는 github action에 대한 강의나 서적을 찾지 못하여 멘토링을 찾았지만 시간 대비 너무 비싸서 포기했다. 그래서 udemy를 찾던 중 저렴한 가격에 좋은 퀄리티 강의를 찾게 되어 이 강의를 중심으로 학습을 진행한다.</p><p>해당 강좌에서 사용되는 소스 코드를 사용하는 부분들은 빼고 블로그에 정리한다.</p><p>해당 소스 코드를 사용하는 부분이 있다면 그 부분이 없어도 해당 블로그만 봐도 익힐 수 있도록 정리해놓는다.</p><p>이미 알고 있는 개념들도 있지만, 놓치고 있는 부분을 확인하고자 정리해본다.</p><p>🔆 첨부된 링크는 구글에 <code>github actions {keyword}</code> 로 입력하면 제일 첫 번째로 나온다.</p><p> </p><hr><h1 id=1-what-is-git-github-and-github-action>1. What is Git, Github and Github Action?<a hidden class=anchor aria-hidden=true href=#1-what-is-git-github-and-github-action>#</a></h1><h2 id=11-what-is-git>1.1 What is Git?<a hidden class=anchor aria-hidden=true href=#11-what-is-git>#</a></h2><blockquote><p><strong><em>무료로 사용할 수 있는 관리 시스템 도구로서, 소스 코드의 변화들을 관리하는 역할을 한다.</em></strong></p></blockquote><p>구체적으로 정리하자면 다음 3가지로 정리할 수 있다.</p><ul><li>Git의 3가지 역할<ul><li>create a snpshot (commit)</li><li>branch를 사용하여 다른 코드와 작업이 가능하고,</li><li>여러 브랜치와 commit들 사이로 이동할 수 있다. (checkout, switch)</li></ul></li></ul><h1 id=heading><a hidden class=anchor aria-hidden=true href=#heading>#</a></h1><h2 id=12-what-is-github>1.2 What is Github?<a hidden class=anchor aria-hidden=true href=#12-what-is-github>#</a></h2><blockquote><p><strong><em>store & manage git repositories</em></strong></p></blockquote><p>git 으로 관리되고 있는 repositories들의 cloud 저장소이자, 저장된 code들에 대해 여러 서비스를 제공하는 회사다.</p><ul><li>Github의 3가지 역할<ul><li>cloud git repository storage(push & pull)</li><li>code 관리 & 개발하는데 협력하는 도구 (Issues, PR 등등)</li><li>github Action을 통한 CI / CD</li></ul></li></ul><h1 id=heading-1><a hidden class=anchor aria-hidden=true href=#heading-1>#</a></h1><h2 id=13-what-is-github-actions>1.3 What is Github Actions?<a hidden class=anchor aria-hidden=true href=#13-what-is-github-actions>#</a></h2><blockquote><p><strong><em>github에 의해서 제공되는 workflow 자동화 서비스로, repository와 관련하여 자동화된 프로세스들과 action들을 의미한다.</em></strong></p></blockquote><p>하지만 이 서비스에서 가장 중요한 부분은 CI / CD 다. 이 용어는 아래 용어의 약어를 의미한다.</p><ul><li>CI: Continuous Integration</li><li>CD: continuous Delivery</li></ul><p>CI는 코드 변화을 기존에 존재한 코드와 합쳐져서 build 되고, 테스트를 거치고, 최종적으로 합쳐지는 단계를 말한다.</p><p>CD는 CI 를 거치고 나서, 새로운 앱과 패키지 버전들이 자동적으로 배포되는 걸 말한다.</p><p>예를 들어 코드를 수정하면 자동적으로 새로운 웹 사이트 버전을 자동적으로 업로드하고 publish 하기를 원할 것이다. 이것이 CI/CD다.</p><p>그러면 가장 중요한 부분이 CI/CD라고 했으니 그 외의 부분들에 대해 언급하자면 workflow나 프로세스의 종류만을 자동화하는 것뿐만 아니라, repository 및 코드 관리도 수행한다.</p><ul><li>code reviews, issue management</li></ul><p> </p><h1 id=2github-actions---basic-building-blocks--components>2.Github Actions - Basic Building Blocks & Components<a hidden class=anchor aria-hidden=true href=#2github-actions---basic-building-blocks--components>#</a></h1><p>그러면 본격적으로 github action에 대해 학습해보자.</p><p>학습 목표는 다음과 같다.</p><ul><li>github action에서 핵심 요소들을 이해하기</li><li>Workflows, Jobs & Steps 로 작업하기</li><li>예시 workflow를 직접 구성해보기</li></ul><h2 id=21-key-elements-workflows-jobs-steps>2.1 key elements: Workflows, Jobs, Steps<a hidden class=anchor aria-hidden=true href=#21-key-elements-workflows-jobs-steps>#</a></h2><hr><p>Github Action에서는 실행</p><p>위 3가지는 Code repository와 관련 있다.</p><ul><li>workflow는 몇 개가 되든 추가할 수 있다.</li><li>하나의 workflow는 한 개 이상의 Job을 포함한다.</li><li>하나의 job은 한 개 이상의 Step을 포함한다.<ul><li>Step은 실질적인 것들을 의미하는데,</li><li>code 를 다운 받거나, dependency를 설치하거나, 테스트를 진행하는 등의 단계들을 의미한다.</li></ul></li></ul><p><strong>Workflows</strong></p><ul><li>Github repository에 부착된다</li><li>한 개 이상의 Job을 가진다</li><li>Events를 기반으로 시작된다.</li><li><code>.github/workflows</code></li></ul><p><strong>Jobs</strong></p><ul><li>하나의 Job마다 하나의 <code>Runner</code>를 정의한다.<ul><li><strong><em><code>Runner</code>는 <code>runs-on</code>으로 지정한다. 그래서 job마다 <code>runs-on</code>을 입력해야 한다. 즉 job마다 자신만의 virtual machine을 가져서 다른 machine과 job으로부터 완전히 격리시켜야 한다는 의미다.</em></strong></li></ul></li><li>1개 이상의 <code>Steps</code>를 포함한다.</li><li>병렬적으로 또는 동기적으로 실행된다.</li><li>실행 조건을 부여할 수 있다.</li></ul><p><strong>Steps</strong></p><ul><li>하나의 <code>Action</code> 또는 하나의 <code>shell script</code>를 실행한다.<ul><li><code>Action</code>은 workflow의 가장 작은 실행 단위</li><li>커스텀 또는 third party action을 사용할 수 있다.</li></ul></li><li>steps는 순서대로 실행된다.</li><li>실행 조건을 부여할 수 있다.</li></ul><p><strong>정책</strong></p><ul><li>public repository에 대해서는 Github Action은 무료다. 하지만 private이면 매달 특정 사용량까지만 무료다.</li><li>보다 구체적인 사용 요금 정책은 <a href=https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions>여기</a>를 확인한다.</li><li>만약 repository tab에서 <code>Actions</code> 를 확인하지 못한다면 <a href=https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository>여기</a>를 클릭하여 설명을 확인하자.</li></ul><h1 id=heading-2><a hidden class=anchor aria-hidden=true href=#heading-2>#</a></h1><h2 id=22-practice-1>2.2 Practice 1<a hidden class=anchor aria-hidden=true href=#22-practice-1>#</a></h2><hr><p>해당 실습은 <code>gh-firsts-action</code>이라는 public repository를 생성하여 이 repository에서 진행했다.</p><p>그러면 첫 <code>workflow</code>를 생성해보자. 첫 예제인 만큼 <code>Actions</code> tab에 들어가서 간단한 worflow인 <code>Simple workflow</code> 를 선택해서 사용해보자. 해당 workflow의 <code>configure</code>를 선택하자.</p><p><code>runners</code>에 대한 상세 설명 <a href=https://docs.github.com/ko/actions/using-github-hosted-runners/about-github-hosted-runners>여기</a>를 확인하자.</p><p>workflow yml 파일을 작성해보자. 위에부터 아래 순으로 하나 하나 설명해보겠다.</p><ul><li>name, on, jobs, runs-on, steps, name, run은 github action에 내장된 keyword다.</li><li><code>name</code>: workflow의 이름을 말한다.<ul><li>아래 예시의 이름은 <code>First workflow</code>다.</li></ul></li><li><code>on</code>: 아래 workflow를 실행시킨 이벤트를 정의한다.<ul><li><code>workflow_dispatch</code>는 Actions tap에서 수동적으로 직접 실행시키는 걸 말한다.</li></ul></li><li><code>jobs</code>: job들을 정의한다.<ul><li>첫 번째 job의 이름은 <code>first-job</code> 으로 명명한다. &lsquo;firstjob&rsquo;으로 해도 되고, job의 이름을 짓는 건 자유롭다.</li><li><code>runs-on</code>: 해당 job이 실행될 환경을 말한다. 구체적인 환경 확인은 위에 언급된 runners에 대한 설명을 본다.<ul><li><strong><em>job마다 자신만의 runner를 가지고 있다. 즉 job마다 <code>runs-on</code>을 입력해야 한다. 이 말은 job마다 자신만의 virtual machine을 가져서 다른 machine과 job으로부터 완전히 격리시켜야 한다는 의미다.</em></strong></li></ul></li><li><code>steps</code>: 이제 여러 step들을 정의한다. 여기부터는 <code>-</code> 를 붙어서 key - value 형식으로 작성한다.</li><li>위에 Workflows, Jobs, Steps의 설명에 언급된 것처럼 step은 하나의 shell script를 실행하는데, 아래 step은 총 2개의 script를 실행하도록 정의했다.</li></ul></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: First workflow 
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: workflow_dispatch  
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>: 
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>first-job</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Print greeting
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: echo &#34;Hello World!&#34;
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Print Goodbye
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: echo &#34;Done - bye!&#34;
</span></span></code></pre></td></tr></table></div></div><ul><li><p>위 스크립트는 여러 step을 통해 shell commands를 실행했다. 하지만 다음과 같이 pipe symbol(|)을 사용하여 하나의 step에서도 실행할 수 있다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#ff79c6>run</span>: |<span style=color:#f1fa8c>
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c>    echo &#34;First output&#34;
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c>    echo &#34;Second output&#34;  </span>    
</span></span></code></pre></td></tr></table></div></div></li></ul><p>그러면 이를 다 작성했으면 오른쪽 상단에 <code>Commit Changes...</code>를 클릭하여 아래 이미지에 보이듯이 팝업창의 <code>Commit changes</code> 를 클릭하여 작성한 workflow를 생성하자.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/df136ac2-6e5e-40be-afbe-0cee661a6649 alt=image></p><p>그러면 Actions tab을 클릭하면 다음 이미지처럼 화면이 보일 것이고, 오른쪽 위에 <code>Run workflow</code>를 클릭하면 실행할 브랜치와 수동으로 실행시킬 수 있다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/a9e5fed0-51cc-4bd7-890b-0e7d95e9a396 alt=image></p><ul><li>직접 실행하는 workflow_dispatch로 실행할 경우, workflow의 name이 위 이미지처럼 title로 뜬다.</li></ul><p> </p><h2 id=23-workflow를-실행시키는-event의-종류들>2.3 workflow를 실행시키는 event의 종류들<a hidden class=anchor aria-hidden=true href=#23-workflow를-실행시키는-event의-종류들>#</a></h2><hr><p>다음 실습을 실행하기에 앞서서 workflow를 실행시키는 여러 events들에 대해 알아보자.</p><p>github action에서 내장된 event 들 중 많은 것들은 repository와 관련있다.</p><h3 id=repository와-관련된-events>repository와 관련된 events<a hidden class=anchor aria-hidden=true href=#repository와-관련된-events>#</a></h3><ul><li>push: pushing a commit</li><li>pull_request: pull request action (opened, closed,..)</li><li>create: branch 나 tag 생성 시</li><li>fork: repository가 fork 될 때</li><li>issues: 하나의 issue가 열리고, 삭제될 때 등등</li><li>issue_comment: Issue나 PR에 comment가 달릴 때</li><li>discussion: Discussion action과 관련하여 생성되고, 삭제되고, 수정되거나 등등</li><li>기타 등등</li></ul><h1 id=heading-3><a hidden class=anchor aria-hidden=true href=#heading-3>#</a></h1><h3 id=repository와-관련-없는-events>repository와 관련 없는 events<a hidden class=anchor aria-hidden=true href=#repository와-관련-없는-events>#</a></h3><ul><li>workflow_dispatch: 수동적으로 workflow를 진행시키는 것</li><li>repository_dispatch: REST API 요청으로 workflow를 진행시키는 것</li><li>schedule: workflow를 특정 시간에 실행시키는 것</li><li>workflow_call: 다른 work flow에 의해서 호출될 경우</li></ul><p>Github workflow의 이용 가능한 모든 event들을 알고 싶다면 <a href=https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows>여기</a> 를 클릭하자.</p><p> </p><h2 id=24-what-are-actions>2.4 What are Actions?<a hidden class=anchor aria-hidden=true href=#24-what-are-actions>#</a></h2><hr><p>command는 작성자에 의해 정의되는 shell command로 대체로 단순한다.</p><p>하지만 Action은 빈번하게 반복되는 일을 수행하는 애플리케이션으로 대체로 복잡하다. custom Action을 만들 수 있고, 또는 공식적인 Action을 사용할 수 있다.</p><p>그래서 코드를 내려받는 Action 중에 <a href=https://github.com/actions/checkout>actions/checkout</a>이 존재한다. Github 팀에 의해서 만들어지고 유지 관리되고 있는 repository다.</p><p>위 action외에도 <a href="https://github.com/marketplace?type=actions">github action market</a>에 들어가면 여러 action을 확인할 수 있다.</p><p> </p><h2 id=25-practice-2>2.5 Practice 2<a hidden class=anchor aria-hidden=true href=#25-practice-2>#</a></h2><hr><p>그러면 다음 실습으로 보다 실제 프로젝트에 가깝게 하기 위해서 local에서 workflow를 작성하여 진행해볼려고 한다.</p><p>실습 1에서 만든 repository와는 상관 없이 진행한다. 두 번째로 진행할 실습은 참고 강의에서는 reactJS로 진행했다. reactJS를, js를 만질 줄 몰라도 상관없다. 이 글은 frontend를 학습하기 위한 글이 아닌, github action을 학습하기 위한 글이기 때문이다.
<strong><em>소제목이 무엇을 의미하는지, 또는 소제목 대로 진행하기 위해서는 어떻게 yml을 작성하면 되는지</em></strong> 를 이해하면 된다. 단지 실습을 통해서 여러 내용을 학습하기 위한 것일 뿐이다.</p><p>이번 실습을 하기 전에 workflow를 진행시키는 event 들에 대해 알아보자.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Test Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span></code></pre></td></tr></table></div></div><h1 id=heading-4><a hidden class=anchor aria-hidden=true href=#heading-4>#</a></h1><h3 id=run과-uses의-차이>run과 uses의 차이<a hidden class=anchor aria-hidden=true href=#run과-uses의-차이>#</a></h3><p>그러면 다시 yml 작성으로 돌아가보자.</p><p>name을 작성했으니 그 다음으로 runs를 작성하면 될까?</p><p>그렇지 않다.</p><p><code>runs</code>은 Action이 아닌 command를 실행할 때 사용하는 내장된 키워드다.</p><p>Action을 실행하기 위해서는 <code>uses</code>를 사용해야 한다. 그 다음으로 해당 Action의 식별자를 입력한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Test Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span></code></pre></td></tr></table></div></div><p><code>actions/checkout</code>은 <a href="https://github.com/marketplace?type=actions">github action market</a>에 들어가서 <code>checkout</code>을 검색하여 들어가면 다음 이미지와 같이 Usage에서 <code>- uses: actions/checkout@v3</code>를 확인할 수 있다. Actions를 입력할 때 버전도 함께 입력하자. 업데이트 되면서 현재 사용하고 있는 Action이 조금 달라질 수도 있기 때문이다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/3fe4e5fd-68bc-4811-829e-7c192c61bc64 alt=image></p><h1 id=heading-5><a hidden class=anchor aria-hidden=true href=#heading-5>#</a></h1><h3 id=with>with<a hidden class=anchor aria-hidden=true href=#with>#</a></h3><p>몇 몇 Action의 경우에는 추가적인 세팅을 요구하기도 한다. 그럴 때는 <code>with</code> keyword를 하단에 입력하여 사용한다. <code>uses</code> keyword를 사용한 후 입력한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Test Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>: 
</span></span><span style=display:flex><span>          ...
</span></span></code></pre></td></tr></table></div></div><p>그렇다면 추가로 입력해야하는 설정들의 key 값은 무엇이 있는지 어떻게 알 수 있을까?</p><p>바로 위에 첨부한 이미지를 보면 <code>uses</code> keyword 밑에 <code>with</code> keyword가 있는 걸 알 수 있다. 이 설정들은 그대로 사용한다면 수정하지 않아도 되지만, custom 하여 사용한다면 수정해야할 수도 있다.</p><p><code>actions/checkout@v3</code>에는 특별하게 요구되는 옵션이 없으므로 <code>with</code>는 사용하지 않는다.</p><h1 id=heading-6><a hidden class=anchor aria-hidden=true href=#heading-6>#</a></h1><h3 id=이미-설치된-소프트웨어-확인>이미 설치된 소프트웨어 확인<a hidden class=anchor aria-hidden=true href=#이미-설치된-소프트웨어-확인>#</a></h3><p>python 기반 프레임워크를 사용한다면 python을, js라면 Node.js 가 설치해야 한다. <code>runs-on</code>에 있는 작성한 소프트웨어에 미리 설치된 소프트웨어로 뭐가 있는지 확인해서 없으면 python 또는 node.js를 설치해야 한다. 이를 확인하기 위해서 <a href=https://docs.github.com/ko/actions/using-github-hosted-runners/about-github-hosted-runners#supported-software>pre-installed software</a>에 있는 os 목록들 중 해당되는 os를 클릭하여 확인한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Test Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install NodeJS
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-node
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#6272a4># or </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install Python
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-python
</span></span></code></pre></td></tr></table></div></div><h1 id=heading-7><a hidden class=anchor aria-hidden=true href=#heading-7>#</a></h1><h3 id=직접-programming-language-설치하기>직접 programming language 설치하기<a hidden class=anchor aria-hidden=true href=#직접-programming-language-설치하기>#</a></h3><p>하지만 만약 직접 설치를 해야한다면 다음과 같이 설치 step을 추가한다.<br>step을 추가할 때는 <code>actions/setup-node</code> 를 검색하여 나온 <a href=https://github.com/actions/setup-node>actions/setup-node</a> 또는 <code>actions/setup-python</code> 을 검색하여 나온 <a href=https://github.com/actions/setup-python>actions/setup-python</a> 에 들어가면 작성 안내를 확인할 수 있다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Test Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>  <span style=color:#6272a4># Python</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install Python
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-python@v4
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>python-version</span>: <span style=color:#f1fa8c>&#39;3.10&#39;</span>  
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>   <span style=color:#6272a4># or NodeJS</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install NodeJS
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-node@v3
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>node-version</span>: <span style=color:#bd93f9>18</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=heading-8><a hidden class=anchor aria-hidden=true href=#heading-8>#</a></h1><h3 id=dependency-설치하기>Dependency 설치하기<a hidden class=anchor aria-hidden=true href=#dependency-설치하기>#</a></h3><p>그 다음으로 dependency를 설치해보자.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Test Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>  <span style=color:#6272a4># Python</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install Python
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-python@v4
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>python-version</span>: <span style=color:#f1fa8c>&#39;3.10&#39;</span>  
</span></span><span style=display:flex><span>      <span style=color:#6272a4># dependency</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: pip install -r requirements.txt  <span style=color:#6272a4># poetry도 사용 가능하다.  </span>
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>   <span style=color:#6272a4># or NodeJS</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install NodeJS
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-node@v3
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>node-version</span>: <span style=color:#bd93f9>18</span>
</span></span><span style=display:flex><span>      <span style=color:#6272a4># dependency</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: npm ci 
</span></span></code></pre></td></tr></table></div></div><h1 id=heading-9><a hidden class=anchor aria-hidden=true href=#heading-9>#</a></h1><h3 id=test-실행하기>test 실행하기<a hidden class=anchor aria-hidden=true href=#test-실행하기>#</a></h3><p>다음으로 test를 실행하는 step을 작성해보자.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Test Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>  <span style=color:#6272a4># Python</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install Python
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-python@v4
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>python-version</span>: <span style=color:#f1fa8c>&#39;3.10&#39;</span>  
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: pip install -r requirements.txt 
</span></span><span style=display:flex><span>      <span style=color:#6272a4># tests</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Run tests
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: pytest  <span style=color:#6272a4># 해당 글 작성자는 pytest를 통해 test를 하기 때문에 pytest를 작성했다.  </span>
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>   <span style=color:#6272a4># or NodeJS</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install NodeJS
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-node@v3
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>node-version</span>: <span style=color:#bd93f9>18</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: npm ci 
</span></span><span style=display:flex><span>      <span style=color:#6272a4># tests</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Run tests
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: npm test
</span></span></code></pre></td></tr></table></div></div><p>여기까지 작성했으면 remote repository에 push를 하자.</p><p>❗️ udemy 강좌에서는 원격을 등록할 때 Personal access tokens 을 사용하는 방식으로 했으나 나는 그 방식을 사용하지 않았다. 만약 그 방식으로 remote origin을 등록했다면 github의 <code>settings</code>에 들어가서 <code>New personal access token</code> 항목에 들어가 <code>Select scopes</code>에서 <code>workflow</code>를 클릭한 후 토큰을 생성해야 local에서 작성한 workflow를 원격에 push할 수 있다.</p><h3 id=workflow-확인하기>workflow 확인하기<a hidden class=anchor aria-hidden=true href=#workflow-확인하기>#</a></h3><p>push가 완료된 후, github repository의 Actions tab에 들어가서 확인하면 생성했던 workflow가 이미 실행 중인 걸 확인할 수 있다. 왜냐하면 새로 생성된 workflow의 <code>on</code> keyword에 대한 value가 <code>push</code> 이기 때문이다.</p><p>강의의 소스 코드 예제가 js이기 때문에 Node.js 중심으로 작성된 workflow다. 실행 결과는 다음과 같다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/6ce19e8a-2717-4e96-92b9-837d7e41a830 alt=image></p><p>그러면 테스트 코드 일부를 수정한 후, 다시 원격에 push 해서 fail를 발생시켜보자. 실행 결과는 다음과 같다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/7f89f052-564f-4bd1-b066-1faf988b2199 alt=image></p><p>실패한 step을 클릭하면 어느 부분으로 실패했는지까지 알 수 있다.</p><h1 id=heading-10><a hidden class=anchor aria-hidden=true href=#heading-10>#</a></h1><h3 id=여러-개의-job-추가하기-병렬적으로-실행하기>여러 개의 job 추가하기: 병렬적으로 실행하기<a hidden class=anchor aria-hidden=true href=#여러-개의-job-추가하기-병렬적으로-실행하기>#</a></h3><p>이번에는 <code>test</code> 란 job에 추가로 <code>deploy</code> 라는 job을 추가해보자. job을 추가하는 것이기 때문에, <code>test</code>와 동일한 level로 띄어쓰기를 해야 한다.</p><p>예제에서는 실제 hosting provider를 가지고 있지 않기 때문에 단지 <code>echo</code> 하는 걸로 대신하겠다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Deploy Project <span style=color:#6272a4># Test Project에서 다음과 같이 수정  </span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>  <span style=color:#6272a4># Python</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install Python
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-python@v4
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>python-version</span>: <span style=color:#f1fa8c>&#39;3.10&#39;</span>  
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: pip install -r requirements.txt 
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Run tests
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: pytest
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>deploy</span>:   <span style=color:#6272a4># 또 다른 job 추가하기</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:  
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install Python
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-python@v4
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>python-version</span>: <span style=color:#f1fa8c>&#39;3.10&#39;</span>  
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: pip install -r requirements.txt 
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Deploy
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: echo &#34;Deploying...&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#6272a4># or NodeJS</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install NodeJS
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-node@v3
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>node-version</span>: <span style=color:#bd93f9>18</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: npm ci 
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Run tests
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: npm test
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>deploy</span>: <span style=color:#6272a4># 또 다른 job 추가하기  </span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:  
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install NodeJS
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/setup-node@v3
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>with</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>node-version</span>: <span style=color:#bd93f9>18</span>
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Install dependencies 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: npm ci 
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Build project
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: npm run build
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Deploy
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: echo &#34;Deploying...&#34;
</span></span></code></pre></td></tr></table></div></div><p>동일한 level로 아래와 같이 작성한 두 job들은 순차적으로 실행되는 게 아닌 아래 이미지처럼 <strong><em>병렬적으로</em></strong> 실행된다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/e42ffbb7-925c-4de7-af94-643f5bd20c8a alt=image></p><p>완료되면 아래 이미지와 같이 Total duration으로 전체 걸린 시간을 알 수 있다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/808c3a9c-e2a9-47d6-8b7c-f837ea80032e alt=image></p><h1 id=heading-11><a hidden class=anchor aria-hidden=true href=#heading-11>#</a></h1><h3 id=-github-action에-뜨는-workflow-소제목>🔆 github action에 뜨는 workflow 소제목<a hidden class=anchor aria-hidden=true href=#-github-action에-뜨는-workflow-소제목>#</a></h3><p>직접 실행하는 workflow_dispatch로 실행할 경우, workflow의 name이 위 이미지처럼 title로 뜬다. 하지만 push 같은 자동적으로 실행되도록 하는 event의 경우 commit message가 title로 뜬다.</p><ul><li>add new job이 commit message로 작성한 것</li></ul><h1 id=heading-12><a hidden class=anchor aria-hidden=true href=#heading-12>#</a></h1><h3 id=병렬이-아닌-순차적으로-workflow-실행하기>병렬이 아닌 순차적으로 workflow 실행하기<a hidden class=anchor aria-hidden=true href=#병렬이-아닌-순차적으로-workflow-실행하기>#</a></h3><p>job 식별자를 입력한 후에 <code>needs</code>라는 내장 키워드를 입력하여, 선 작업을 지정한다. 선 작업으로 진행된 job이 끝나야 <code>needs</code>가 작성된 job이 실행될 수 있다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Deploy Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>        ... 
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>deploy</span>: 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>needs</span>: test  <span style=color:#6272a4># 선작업 지정하여 순차적으로 실행 </span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:  
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Get code
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>uses</span>: actions/checkout@v3
</span></span><span style=display:flex><span>        ...
</span></span></code></pre></td></tr></table></div></div><p>아래 이미지에서 확인할 수 있듯이 Actions tap을 들어가보면 jobs의 위치가 바뀐 걸 알 수 있다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/e2f3a63b-748e-47fd-bc14-9ef05536ef01 alt=image></p><p>하지만 만약 test job이 fail되면 아래 이미지처럼 deploy는 실행되지 않는다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/9fa956f8-ab7e-4ff4-bcfc-643c84b083fe alt=image></p><h1 id=heading-13><a hidden class=anchor aria-hidden=true href=#heading-13>#</a></h1><h3 id=하나의-event가-아닌-여러-events를-trigger로-사용하기-대괄호로-사용하기>하나의 event가 아닌 여러 events를 trigger로 사용하기: 대괄호로 사용하기<a hidden class=anchor aria-hidden=true href=#하나의-event가-아닌-여러-events를-trigger로-사용하기-대괄호로-사용하기>#</a></h3><p>이전 코드에서 작성된 event는 다음과 같이 하나다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Deploy Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: push <span style=color:#6272a4># 하나의 event</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>:
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>deploy</span>:
</span></span><span style=display:flex><span>    ...
</span></span></code></pre></td></tr></table></div></div><p>그러면 여러 event를 정의해보자. 여러 events를 정의하기 위해서는 대괄호를 사용해야 한다.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Deploy Project
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: [push, workflow_dispatch] 
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>test</span>:
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>deploy</span>:
</span></span><span style=display:flex><span>    ...
</span></span></code></pre></td></tr></table></div></div><p>아래 이미지는 Multiple events로 수정하여 push하고, 수동적으로 workflow를 main branch에서 실행한 것이다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/01858c10-1d42-4071-8efe-4c3e837185c3 alt=image></p><p>event에 workflow_dispatch가 있기 때문에 동시에 workflow를 실행할 수 있다.</p><h3 id=expressions-and-github-context>Expressions and Github context<a hidden class=anchor aria-hidden=true href=#expressions-and-github-context>#</a></h3><p>위 yml처럼 command를 실행할 수도 있지만 환경변수를 필요로 하는 command를 실행할 필요가 있을 수 있다.</p><p>3번째 workflow <code>output.yml</code> 를 생성해보자.</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ff79c6>name</span>: Output information
</span></span><span style=display:flex><span><span style=color:#ff79c6>on</span>: workflow_dispatch
</span></span><span style=display:flex><span><span style=color:#ff79c6>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>info</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>runs-on</span>: ubuntu-latest 
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ff79c6>name</span>: Output github context 
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>run</span>: echo &#34;${{ toJSON(github) }}&#34;
</span></span></code></pre></td></tr></table></div></div><p>위 workflow를 보면 <code>${{ }}</code> 을 확인할 수 있다. 이 문법으로 작성된 text는 github에 신호를 보낸다.<br>Github에 의해서 이용가능하도록 만들어진 metadata에 접근할 것이다.<br><code>github</code>는 내장된 key 값이다. 그리고 Github의 내장된 함수인 <code>toJson</code>으로 이 값을 감쌀 것이다.</p><p>내장된 context key값은 <a href=https://docs.github.com/en/actions/learn-github-actions/contexts>Github Actions context</a> 를 확인하면 알 수 있다. 그리고 github actions의 내장된 function expression은
<a href=https://docs.github.com/en/actions/learn-github-actions/expressions>Github Actions expressions</a>를 보면 알 수 있다.</p><p><code>github</code> key는 위 문서에 따르면 진행 중인 workflow에 대한 정보를 의미한다고 한다. <code>toJSON</code>은 위 문서에 따르면 JSON 형태로 바꿔준다.</p><p>새로 생성한 workflow를 수동적으로 실행한 후, 출력물을 확인하면 github context object로부터 가져온 데이터를 확인할 수 있다. 아래 이미지를 확인하므로써 Practice 2를 마친다.</p><p><img loading=lazy src=https://github.com/JeHa00/image/assets/78094972/a850fc13-fc82-4f6c-ba6a-5323300121fc alt=image></p><p> </p><h1 id=3-summary>3. Summary<a hidden class=anchor aria-hidden=true href=#3-summary>#</a></h1><hr><p>그러면 Github actions의 core component인 workflow, job, step을 다시 짚어보자.</p><h3 id=core-components>Core components<a hidden class=anchor aria-hidden=true href=#core-components>#</a></h3><blockquote><p><strong><em>workflow 안에는 한 개 이상의 Job들이 존재하고, Job 안에는 한 개 이상의 step이 존재한다.</em></strong></p></blockquote><ul><li>workflows: define Events + Jobs<ul><li>event란 workflow를 실행시키는 trigger다.</li><li>하나 이상의 event와 Job을 정의하는 component</li></ul></li><li>Jobs: define Runner + Steps<ul><li>runner와 step을 정의하는 component</li><li>job들은 병렬로 또는 순차적으로 실행 가능하다.</li></ul></li><li>Steps: Do the actual works<ul><li>실제 작업을 수행하는 component</li><li>여기서 work는 Github action에서 내장되어 정의된 작업 또는 직접 정의한 work가 해당된다.</li><li>실제로 실행되는 actions</li></ul></li></ul><h1 id=heading-14><a hidden class=anchor aria-hidden=true href=#heading-14>#</a></h1><h3 id=events--triggers>Events / Triggers<a hidden class=anchor aria-hidden=true href=#events--triggers>#</a></h3><p>Events의 종류에는 매우 다양한데, 크게 분류하자면 repository와의 관련 유무로 나눌 수 있다.</p><h1 id=heading-15><a hidden class=anchor aria-hidden=true href=#heading-15>#</a></h1><h3 id=workflow-정의하기>workflow 정의하기<a hidden class=anchor aria-hidden=true href=#workflow-정의하기>#</a></h3><ul><li><p><code>.github/workflows/&lt;file>.yml</code> 인 경로로, 파일 형식으로 작성하여 정의한다.</p></li><li><p>이 때 작성 장소는 local과 github 모두에서 작성 가능하다.</p></li><li><p>그리고 Github Actions syntax를 반드시 따라야 한다.</p></li></ul><h1 id=heading-16><a hidden class=anchor aria-hidden=true href=#heading-16>#</a></h1><h3 id=runners>Runners<a hidden class=anchor aria-hidden=true href=#runners>#</a></h3><ul><li>runner는 job 들을 실행하는 서버들을 의미한다.</li><li>이 runners는 OS에 따라서 다르게 사전에 정의된 runner들이 존재한다.</li><li>하지만 custom runner도 정의내릴 수 있다.</li></ul><p> </p><hr><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><a href=https://www.udemy.com/course/github-actions-the-complete-guide/>[udemy lecture] Github Actions - The Complete Guide</a></li><li><a href=https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions>github actions billing policy</a></li><li><a href=https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository>github settings for repository</a></li><li><a href=https://docs.github.com/ko/actions/using-github-hosted-runners/about-github-hosted-runners>github actions - runners</a></li><li><a href=https://docs.github.com/ko/actions/using-github-hosted-runners/about-github-hosted-runners#supported-software>github actions - runners: pre-installed software</a></li><li><a href=https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows>github actions - events that trigger workflows</a></li><li><a href="https://github.com/marketplace?type=actions">github actions market</a></li><li><a href=https://github.com/actions/setup-python>actions/setup-python</a></li><li><a href=https://github.com/actions/setup-node>actions/setup-node</a></li><li><a href=https://docs.github.com/en/actions/learn-github-actions/contexts>Github Actions context</a></li><li><a href=https://docs.github.com/en/actions/learn-github-actions/expressions>Github Actions expressions</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://jeha00.github.io/tags/ci/cd/>ci/cd</a></li></ul><nav class=paginav><a class=prev href=http://jeha00.github.io/post/ci_cd/github_action/lecture_02/><span class=title>« Prev Page</span><br><span>CI/CD를 위한 github action study: Activity type, filters, caching, environment variables and secrets</span></a>
<a class=next href=http://jeha00.github.io/post/network/osi_7_layer/3_layer/><span class=title>Next Page »</span><br><span>[TIL]OSI 7 layer: 3계층 네트워크 계층</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share CI/CD를 위한 github action study basic on twitter" href="https://twitter.com/intent/tweet/?text=CI%2fCD%eb%a5%bc%20%ec%9c%84%ed%95%9c%20github%20action%20study%20basic&url=http%3a%2f%2fjeha00.github.io%2fpost%2fci_cd%2fgithub_action%2flecture_01%2f&hashtags=ci%2fcd"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CI/CD를 위한 github action study basic on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fjeha00.github.io%2fpost%2fci_cd%2fgithub_action%2flecture_01%2f&title=CI%2fCD%eb%a5%bc%20%ec%9c%84%ed%95%9c%20github%20action%20study%20basic&summary=CI%2fCD%eb%a5%bc%20%ec%9c%84%ed%95%9c%20github%20action%20study%20basic&source=http%3a%2f%2fjeha00.github.io%2fpost%2fci_cd%2fgithub_action%2flecture_01%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CI/CD를 위한 github action study basic on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fjeha00.github.io%2fpost%2fci_cd%2fgithub_action%2flecture_01%2f&title=CI%2fCD%eb%a5%bc%20%ec%9c%84%ed%95%9c%20github%20action%20study%20basic"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CI/CD를 위한 github action study basic on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fjeha00.github.io%2fpost%2fci_cd%2fgithub_action%2flecture_01%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CI/CD를 위한 github action study basic on whatsapp" href="https://api.whatsapp.com/send?text=CI%2fCD%eb%a5%bc%20%ec%9c%84%ed%95%9c%20github%20action%20study%20basic%20-%20http%3a%2f%2fjeha00.github.io%2fpost%2fci_cd%2fgithub_action%2flecture_01%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share CI/CD를 위한 github action study basic on telegram" href="https://telegram.me/share/url?text=CI%2fCD%eb%a5%bc%20%ec%9c%84%ed%95%9c%20github%20action%20study%20basic&url=http%3a%2f%2fjeha00.github.io%2fpost%2fci_cd%2fgithub_action%2flecture_01%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=http://jeha00.github.io/>Jeha DevLog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>