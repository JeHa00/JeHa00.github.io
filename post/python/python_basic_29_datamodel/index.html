<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[TIL] Python basic 29: Data Model | Jeha DevLog</title><meta name=keywords content="TIL,python"><meta name=description content="Python data model을 상세히 분류하여 mutable과 immutable의 차이가 무엇인지,  list comprehension이 무엇인지, unpacking을 tuple에 어떻게 구현하는지, immutable dictionary와 set에 대해 조금 더 깊이 알아보자."><meta name=author content><link rel=canonical href=http://jeha00.github.io/post/python/python_basic_29_datamodel/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.268b216eea772711d318d156ce02a8190962367a0bf469fa9a959114ea6b9ca3.css integrity="sha256-Joshbup3JxHTGNFWzgKoGQliNnoL9Gn6mpWRFOprnKM=" rel="preload stylesheet" as=style><link rel=icon href=http://jeha00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://jeha00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://jeha00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://jeha00.github.io/apple-touch-icon.png><link rel=mask-icon href=http://jeha00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="[TIL] Python basic 29: Data Model"><meta property="og:description" content="Python data model을 상세히 분류하여 mutable과 immutable의 차이가 무엇인지,  list comprehension이 무엇인지, unpacking을 tuple에 어떻게 구현하는지, immutable dictionary와 set에 대해 조금 더 깊이 알아보자."><meta property="og:type" content="article"><meta property="og:url" content="http://jeha00.github.io/post/python/python_basic_29_datamodel/"><meta property="og:image" content="http://jeha00.github.io/47"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-23T23:24:24+09:00"><meta property="article:modified_time" content="2022-03-23T23:24:24+09:00"><meta property="og:site_name" content="JeHa00 DevLog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://jeha00.github.io/47"><meta name=twitter:title content="[TIL] Python basic 29: Data Model"><meta name=twitter:description content="Python data model을 상세히 분류하여 mutable과 immutable의 차이가 무엇인지,  list comprehension이 무엇인지, unpacking을 tuple에 어떻게 구현하는지, immutable dictionary와 set에 대해 조금 더 깊이 알아보자."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://jeha00.github.io/post/"},{"@type":"ListItem","position":2,"name":"[TIL] Python basic 29: Data Model","item":"http://jeha00.github.io/post/python/python_basic_29_datamodel/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[TIL] Python basic 29: Data Model","name":"[TIL] Python basic 29: Data Model","description":"Python data model을 상세히 분류하여 mutable과 immutable의 차이가 무엇인지,  list comprehension이 무엇인지, unpacking을 tuple에 어떻게 구현하는지, immutable dictionary와 set에 대해 조금 더 깊이 알아보자.","keywords":["TIL","python"],"articleBody":"0. Introduction 파이썬에 존재하는 모든 sequence type 및 data structure에 대해 조금 더 깊이 알아보자. data structure: 논리적인 관계로 이루어진 데이터 구성 이러한 Data type 들이 있고, 각각의 특징을 이해하여 코드에 녹여내자. 각 data type에 대해서 여기에 언급된 내용이 전부가 아니니 더 공부하자. 1. Python data type 상세 분류 Python의 data type은 여러 기준으로 분류될 수 있다.\n1.1 무슨 형태의 자료형을 담을 수 있는가??? Container 형: 서로 다른 자료형을 담을 수 있다.\nex) list, tuple, collections.deque..\nflat 형: 한 가지 자료형만 담을 수 있다.\nex) string, bytes, byte array, array, memoryview…\n1 2 3 4 5 # Container의 예: 정수, 실수, 문자열 같이 서로 다른 자료형을 담을 수 있다. \u003e a = [3, 3.0, 'a'] # flat 형 \u003e chars = '+_)(*' 1.2 element가 수정될 수 있는가?? 없는가?? Mutable: 변경할 수 있는 date type\nex) list, dictionary, set, bytearray, array, memoryview, deque..\nImmutable: 변경할 수 없는 data type\nex) tuple, str, bytes, int, float…\n수정될 수 있으면 element를 교체, 삭제, 추가가 가능하다.\nex) del, append 등등 가능\n1.3 순서가 있는가 없는가??? Sequence: 순서가 존재한다.\nex) list, tuple, string ..\nCollections: 순서가 존재하지 않는다.\nex) set, dictionary ..\n순서가 존재하면 slicing, indexing 이 가능하다.\n2. Mutable 과 Immutable mutable: value를 수정할 수 있기 때문에, ‘id’ 값을 바꾸지 않는다.\nimmutable: value가 변경되지 못하기 때문에, ‘id’ 값을 바꾼다.\nid() 을 사용하여 mutable과 immutable에 대해 자세히 알아보자.\nmutable:\n함수 안에서 매개변수의 값을 변경하면 객체 자체를 업데이트 한다. 따라서, 매개변수의 값을 변경하면 호출하는 쪽의 실제 인수는 변경 된다. 그 대신 id 값은 변경되지 않는다. immutable:\n함수 안에서 매개변수 값을 변경하면 다른 객체를 생성 하고, 그 객체에 대한 참조로 업데이트된다. 따라서 매개변수의 값을 변경해도 호출하는 쪽의 실제 인수에는 영향을 주지 않는다. 그 대신 id 값은 변경된다. Data type Mutable Immutable 매개변수 값 변경 시도 객체 자체를 업데이트 다른 객체를 생성 실제 인수 영향 변경 O 변경 X id 값 변경 X 변경 O call by reference value mutable과 immutable에 call by 방식 차이 출처: Python study - call by reference value 2.1 Immutable 문자열과 누적변수 예시를 통해 알아보자. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u003e chars = '+_)(*' # immutable data type인 string을 수정하려 하면 다음과 같은 error 가 뜬다. \u003e chars[2] = 'h' TypeError: 'str' object does not support item assignment \u003e n = 5 \u003e whlie n \u003e 0: \u003e print(n, id(n)) \u003e n -= 1 5 1670466136496 4 1670466136464 3 1670466136432 2 1670466136400 1 1670466136368 int형은 분명 immutable인데 어떻게 수정이 가능할까???\n이는 int형 객체 12의 값 자체를 변경한 것이 아니라, 다른 정수형 객체 13을 참조하도록 업데이트됐다. immutable은 값 자체를 변경할 수 없기 때문에, 다른 객체를 참조하여 id 값이 바뀐다.\n그래서 누적 변수를 출력하면 id가 달라지는 걸 알 수 있다.\n누적 변수: 변수값에 특정값을 더한 결과값을 다시 대입하여 업데이트한 변수 2.2 Mutable 이번에 mutable 예시를 들어보자. 1 2 3 4 5 6 7 8 9 \u003e k = [1, 2, 3] \u003e print(id(k)) 2249826233536 \u003e k[0] = 0 \u003e print(k, id(k)) [0, 2, 3] 2249826233536 list는 mutable로 성분값을 수정할 수 있어서, id 값이 수정 전과 동일하다. 3. List comprehension 3.1 List comprehension의 의미와 구조 List comprehension이란 list를 만드는 간결한 문법을 말한다.\nList comprehensions provide a concise way to create lists.\nfrom: list comprehension\nlist comprehension에 대해 찾아보니 번역이 다양하고, 딱 들어맞는게 없어서 고유 명사의 의미로 그대로 사용하겠다.\n그러면 일반적으로 list를 만드는 방법과 비교해보자.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # 일반적으로 list를 만드는 방법 \u003e code_list1 = [] \u003e chars = '+_)(*\u0026^' # ord: Return the Unicode code point for a one-character string. # ord: 유니 코드로 전환하는 함수 \u003e for s in chars: \u003e code_list1.append(ord(s)) [43, 95, 41, 40, 42, 38, 94] ## list comprehension을 이용한 방법 \u003e code_list2 = [ord(s) for s in chars] [43, 95, 41, 40, 42, 38, 94] # for문과 if문을 사용한 list comprehension \u003e code_list3 = [ord(s) for s in chars if ord(s) \u003e 40] [43, 95, 41, 40, 42, 38, 94] \u003e vec = [-4, -2, 0, 2, 4] \u003e [x for x in vec if x \u003e= 0] [0, 2, 4] 그러면 위 예시를 통해 list comprehension의 문법에 대해 정리해보자.\n[‘변수(B)를 사용하여 list의 성분이 될 값(A)’ for ‘사용할 변수 이름(B)’ in ‘iterator’]\nlist comprehension에서 if 조건문은 for문 표현식 뒤에 설정할 수 있다.\n지난 번에 알아본 namedtuple을 사용해서 예시를 만들어보자.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # list comprehension을 통해 3개의 반을 만들고, 각 반마다 6명의 학생이 있는 list를 만들자. # 예제 2-1 \u003e numbers = [str(n) for n in range(1,6)] \u003e ranks = 'A B C'.split( ) \u003e print(numbers) \u003e print(ranks) ['1', '2', '3', '4', '5'] ['A', 'B', 'C'] # namedtuple 만들기 \u003e Classes = namedtuple('Classes', ['rank', 'number']) # 2개의 for 반복문을 사용하여 list의 성분값으로 만들어질 인수들에 각각 mapping 했다. \u003e students = [Classes(rank, number) for rank in ranks for number in numbers] \u003e print(students) [Classes(rank='A', number='1'), Classes(rank='A', number='2'), Classes(rank='A', number='3'), Classes(rank='A', number='4'), Classes(rank='A', number='5'), Classes(rank='B', number='1'), Classes(rank='B', number='2'), Classes(rank='B', number='3'), Classes(rank='B', number='4'), Classes(rank='B', number='5'), Classes(rank='C', number='1'), Classes(rank='C', number='2'), Classes(rank='C', number='3'), Classes(rank='C', number='4'), Classes(rank='C', number='5'), Classes(rank='D', number='1'), Classes(rank='D', number='2'), Classes(rank='D', number='3'), Classes(rank='D', number='4'), Classes(rank='D', number='5')] # 예제 2-2 \u003e student = [Classes(rank, number) \u003e for rank in 'A B C'.split( ) \u003e for number in [str(n) for n in range(1,6)]] 예제 2-2의 경우, 여러 for문을 사용했다. 한 줄로 표현할 수 있지만, 가독성이 떨어진다. 코드 몇 줄을 줄이기 위해서 가독성이 많이 떨어진다면 재고할 방법이다. 3.2 list comprehension의 주의사항 깊은 복사와 얕은 복사를 주의하라. 깊은 복사와 얕은 복사에 대한 자세한 내용은 [TIL] Python basic 41: Shallow copy \u0026 Deep copy을 참고한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 # 반복은 하지만 사용하지 않는 변수라면 '_' 로 표현한다. \u003e marks1 = [['~'] * 3 for _ in range(4)] # 하나의 값이 4개로 복사된 것 \u003e marks2 = [['~'] * 3] * 4 # 동일한 출력물을 갖는다. \u003e print(marks1) \u003e print(marks2) [['~', '~', '~'], ['~', '~', '~'], ['~', '~', '~'], ['~', '~', '~']] # 수정하기 \u003e marks1[0][1] = 'x' \u003e marks2[0][1] = 'x' \u003e print(marks1) [['~', 'x', '~'], ['~', '~', '~'], ['~', '~', '~'], ['~', '~', '~']] \u003e print(marks2) [['~', 'x', '~'], ['~', 'x', '~'], ['~', 'x', '~'], ['~', 'x', '~']] ‘marks2’\n하나의 값이 4개로 복사되었다는 건 하나의 id값이 복사된 걸 의미한다. 한 객체를 참조하는 게 4개다. 그래서 하나의 객체만 수정해도 이 객체를 참조하는 값들까지 다 수정된다. 이를 얕은 복사(copy)라고 한다. ‘marks1’\n‘marks2’ 와 달리 for문을 통해 다 새로 만들어졌다. 그래서 각각 다른 객체를 참조 한다. 이를 깊은 복사(deepcopy)라 한다. 이를 id값으로 확인해보자.\n1 2 3 4 5 6 7 # marks1은 다 다른 id 값을 가진다. \u003e print([id(i) for i in marks1]) [2922096396544, 2922096396480, 2922096396352, 2922096396288] # marks2는 다 동일한 id 값을 가진다. \u003e print([id(i) for i in marks2]) [2922096395200, 2922096395200, 2922096395200, 2922096395200] 그래서 copy 형식을 사용할 때는 조심히 다뤄야 한다. id값을 확인해보고, 꼼꼼히 개발하자. 4. Advanced tuple with unpacking 1. 인자를 입력할 때 upacking을 사용할 수 있다.\n2. 반환값을 unpacking하여 출력할 수 있다.\n3. unpacking으로 여러 값을 담을 수 있다.\ntuple에 unpacking을 사용하여 더 깊이 들어가자.\ntuple은 immutable이지만, unpacking으로 풀을 수 있다.\n오픈 소스들을 보면 아래 방식으로 코딩한 경우가 많으므로, 아래 3가지 경우를 눈에 익혀두자.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 # divmod: Return the tuple (x//y, x%y). # divmode: tuple data type으로 (몫, 나머지)를 반환하는 함수 # 정상적인 입력 \u003e print(divmod(100, 9)) (11, 1) # divmod는 인자를 2개 받아야하는데, 다음과 같이 입력하면 1개만 받은 걸로 인식한다. \u003e print(divmod((100, 9))) TypeError: divmod expected 2 arguments, got 1 ## 1. 인자를 입력할 때, unpacking을 사용할 수 있다. # 인자를 1개만 입력하고 싶다면 unpacking을 사용하자. \u003e print(divmond(*(100, 9))) (11, 1) ## 2. 반환값을 unpacking하여 출력할 수 있다. # divmond가 반환하는 걸 unpacking할 수도 있다. \u003e print(*(divmond(100, 9))) 11 1 range: Return an object that produces a sequence of integers from start (inclusive) to stop (exclusive) by step 1 2 3 4 5 6 7 8 9 10 11 12 \u003e x, y, rest = range(10) ValueError: too many values to unpack (expected 3) ## 3. unpacking하여 여러 값을 담을 수 있다. # 그러면 unpacking을 이용해보자. \u003e x, y, *rest = range(10) \u003e print(x, y, rest) 0 1 [2, 3, 4, 5, 6, 7, 8, 9] \u003e x, y, *rest = range(2) \u003e print(x, y, rest) 0 1 [] 5. Advanced dictionary 5.1 hash table이란?? key를 사용하여 적은 리소스로 많은 데이터를 효율적으로 관리하는 데이터 구조 타입으로 그 예가 dictionary다. key : value 로 된 자료형을 의미한다. from reference\ndictionary에 대해 간단히 정리하면\nkey : value로 구성된 data type을 말한다.\ndictionary의 key는 중복을 허용하지 않는다.\nex) 각 사람이 가지고 있는 주민등록번호 python의 dictionary는 key 를 hash 함수를 통해서 hash 주소로 변환하는 원리이기 때문에, key 를 통해서 value 에 접근할 수 있다.\n참고: 파이썬 언어 자체가 강력한 hash table 엔진으로 만들어졌기 때문에, 파이썬에서는 hash table을 별도로 구현할 필요가 없다.\n그러면 직접 이에 대해서 알아보자. 1 2 3 4 5 6 7 8 9 10 \u003e t1 = (10, 20, (30, 40, 50)) \u003e t2 = (10, 20, [30, 40, 50]) # hash: Return the hash value for the given object. # 출력되는 hash index \u003e print(hash(t1)) 465510690262297113 \u003e print(hash(t2)) TypeError: unhashable type: 'list' hash 값을 확인할 수 있다는 건 고유하다는 의미로, 수정 불가능하다는 걸 말한다. 그래서 list type의 hash number를 확인할려고 했으나, TypeError가 뜬 것이다. list는 mutable이기 때문이다. 5.2 key가 중복되는 dictionary 만들기 ’ setdefault ‘를 사용하여 만든다. 이 방법은 tuple로 dictionary를 만들 때, 권고되는 방법이다.\n이런 방식으로 자주 구현하므로 눈에 익혀두자. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 # 이중 tuple \u003e source = (('k1', 'val1'), \u003e ('k1', 'val2'), \u003e ('k2', 'val3'), \u003e ('k2', 'val4'), \u003e ('k2', 'val5')) \u003e new_dict1 = {} \u003e new_dict2 = {} ## No use setdefault # k에는 k1, k2가, v에는 val가 할당된다. \u003e for k, v in source: # new_dict1 에 k1 이나 k2가 있다면, 이에 대한 value 값으로 v를 끝에 추가한다. \u003e if k in new_dict1: \u003e print(k, v) \u003e new_dict1[k].append(v) # new_dict1 에 k1 이나 k2가 없다면 k를 추가하고, 이 k에 대한 value로 v를 추가한다. \u003e else: \u003e new_dict1[k] = [v] \u003e print(new_dict1) k1 val1 {'k1': ['val1']} k1 val2 {'k1': ['val1', 'val2']} k2 val3 {'k1': ['val1', 'val2'], 'k2': ['val3']} k2 val4 {'k1': ['val1', 'val2'], 'k2': ['val3', 'val4']} k2 val5 {'k1': ['val1', 'val2'], 'k2': ['val3', 'val4', 'val5']} \u003e print(new_dict1) {'k1': ['val1', 'val2'], 'k2': ['val3', 'val4', 'val5']} ## use setdefault \u003e for k, v in source: # k는 default로 들어가고, 나머지는 list type에 담는다는 의미다. \u003e new_dict2.setdefault(k, []).append(v) \u003e print(new_dict2) {'k1': ['val1', 'val2'], 'k2': ['val3', 'val4', 'val5']} setdefault를 사용하여 훨씬 짧은 코드로 key가 중복된 tuple을 dictionary로 구현했다. setdefault를 사용하여 [] 가 아닌 ()로 했다면 tuple이므로 만들 수 없다. 만약, dictionary를 만들 때 키가 중복되면 나중 값으로 overwritten된다. 1 2 3 \u003e new_dict3 = {k : v for k , v in source} \u003e print(new_dict3) {'k1': 'val2', 'k2': 'val5'} 5.3 Immutable Dictionary 생성하기 immutable dictionary 즉, ‘읽기 전용’ dictionary를 만들어보자.\n왜 읽기 전용을 만들까???\n‘읽기 전용’을 만들지 않고, 파일을 그냥 두어도 된다. 하지만, communication의 문제로 팀원이 이 데이터를 수정할수도 있다. 그래서 수정하면 안되는 file은 ‘읽기 전용’으로 만든다. ‘읽기 전용’으로 만들기 위해서\nMappingProxyType 를 사용할 것이다. data 이름에는 _frozen을 작성한다. (외국에서는 이렇게 한다.) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u003e from types import MappingProxyType \u003e d = {'key1': 'value1'} \u003e d_frozen = MappingProxyType(d) \u003e print(d, id(d)) {'key1': 'value1'} 2586113038272 \u003e print(d_frozen, id(d_frozen)) {'key1': 'value1'} 2586113478608 \u003e print(type(d), type(d_frozen)) ","wordCount":"2489","inLanguage":"en","datePublished":"2022-03-23T23:24:24+09:00","dateModified":"2022-03-23T23:24:24+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://jeha00.github.io/post/python/python_basic_29_datamodel/"},"publisher":{"@type":"Organization","name":"Jeha DevLog","logo":{"@type":"ImageObject","url":"http://jeha00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://jeha00.github.io/ accesskey=h title="@Jeha00 (Alt + H)">@Jeha00</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://jeha00.github.io/me/ title=About><span>About</span></a></li><li><a href=http://jeha00.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=http://jeha00.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://jeha00.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://jeha00.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://jeha00.github.io/post/>Posts</a></div><h1 class=post-title>[TIL] Python basic 29: Data Model</h1><div class=post-meta>[Python]&nbsp;·&nbsp;<span title='2022-03-23 23:24:24 +0900 KST'>March 23, 2022</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#0-introduction aria-label="0. Introduction">0. Introduction</a></li><li><a href=#1-python-data-type-%ec%83%81%ec%84%b8-%eb%b6%84%eb%a5%98 aria-label="1. Python data type 상세 분류">1. Python data type 상세 분류</a><ul><ul><li><a href=#11-%eb%ac%b4%ec%8a%a8-%ed%98%95%ed%83%9c%ec%9d%98-%ec%9e%90%eb%a3%8c%ed%98%95%ec%9d%84-%eb%8b%b4%ec%9d%84-%ec%88%98-%ec%9e%88%eb%8a%94%ea%b0%80 aria-label="1.1 무슨 형태의 자료형을 담을 수 있는가???">1.1 무슨 형태의 자료형을 담을 수 있는가???</a></li><li><a href=#12-element%ea%b0%80-%ec%88%98%ec%a0%95%eb%90%a0-%ec%88%98-%ec%9e%88%eb%8a%94%ea%b0%80-%ec%97%86%eb%8a%94%ea%b0%80 aria-label="1.2 element가 수정될 수 있는가?? 없는가??">1.2 element가 수정될 수 있는가?? 없는가??</a></li><li><a href=#13-%ec%88%9c%ec%84%9c%ea%b0%80-%ec%9e%88%eb%8a%94%ea%b0%80-%ec%97%86%eb%8a%94%ea%b0%80 aria-label="1.3 순서가 있는가 없는가???">1.3 순서가 있는가 없는가???</a></li></ul></ul></li><li><a href=#2-mutable-%ea%b3%bc-immutable aria-label="2. Mutable 과 Immutable">2. Mutable 과 Immutable</a><ul><li><a href=#21-immutable aria-label="2.1 Immutable">2.1 Immutable</a></li><li><a href=#22-mutable aria-label="2.2 Mutable">2.2 Mutable</a></li></ul></li><li><a href=#3-list-comprehension aria-label="3. List comprehension">3. List comprehension</a><ul><li><a href=#31-list-comprehension%ec%9d%98-%ec%9d%98%eb%af%b8%ec%99%80-%ea%b5%ac%ec%a1%b0 aria-label="3.1 List comprehension의 의미와 구조">3.1 List comprehension의 의미와 구조</a></li><li><a href=#32-list-comprehension%ec%9d%98-%ec%a3%bc%ec%9d%98%ec%82%ac%ed%95%ad aria-label="3.2 list comprehension의 주의사항">3.2 list comprehension의 주의사항</a></li></ul></li><li><a href=#4-advanced-tuple-with-unpacking aria-label="4. Advanced tuple with unpacking">4. Advanced tuple with unpacking</a></li><li><a href=#5-advanced-dictionary aria-label="5. Advanced dictionary">5. Advanced dictionary</a><ul><li><a href=#51-hash-table%ec%9d%b4%eb%9e%80 aria-label="5.1 hash table이란??">5.1 hash table이란??</a></li><li><a href=#52-key%ea%b0%80-%ec%a4%91%eb%b3%b5%eb%90%98%eb%8a%94-dictionary-%eb%a7%8c%eb%93%a4%ea%b8%b0 aria-label="5.2 key가 중복되는 dictionary 만들기">5.2 key가 중복되는 dictionary 만들기</a></li><li><a href=#53-immutable-dictionary-%ec%83%9d%ec%84%b1%ed%95%98%ea%b8%b0 aria-label="5.3 Immutable Dictionary 생성하기">5.3 Immutable Dictionary 생성하기</a></li></ul></li><li><a href=#6-advanced-set aria-label="6. Advanced set">6. Advanced set</a><ul><li><a href=#61-immutable-set aria-label="6.1 Immutable set">6.1 Immutable set</a></li><li><a href=#62-%ec%84%a0%ec%96%b8-%ec%b5%9c%ec%a0%81%ed%99%94 aria-label="6.2 선언 최적화">6.2 선언 최적화</a></li><li><a href=#63-set-comprehension aria-label="6.3 Set comprehension">6.3 Set comprehension</a></li></ul></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h1 id=0-introduction>0. Introduction<a hidden class=anchor aria-hidden=true href=#0-introduction>#</a></h1><ul><li>파이썬에 존재하는 모든 sequence type 및 data structure에 대해 조금 더 깊이 알아보자.<ul><li><code>data structure</code>: 논리적인 관계로 이루어진 데이터 구성</li></ul></li><li>이러한 Data type 들이 있고, 각각의 특징을 이해하여 코드에 녹여내자.</li><li>각 data type에 대해서 여기에 언급된 내용이 전부가 아니니 더 공부하자.</li></ul><p> </p><hr><h1 id=1-python-data-type-상세-분류>1. Python data type 상세 분류<a hidden class=anchor aria-hidden=true href=#1-python-data-type-상세-분류>#</a></h1><p>Python의 data type은 <strong>여러 기준</strong>으로 분류될 수 있다.</p><h3 id=11-무슨-형태의-자료형을-담을-수-있는가>1.1 무슨 형태의 자료형을 담을 수 있는가???<a hidden class=anchor aria-hidden=true href=#11-무슨-형태의-자료형을-담을-수-있는가>#</a></h3><ul><li><p><strong>Container 형</strong>: 서로 다른 자료형을 담을 수 있다.<br>ex) list, tuple, collections.deque..</p></li><li><p><strong>flat 형</strong>: 한 가지 자료형만 담을 수 있다.<br>ex) string, bytes, byte array, array, memoryview&mldr;</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># Container의 예: 정수, 실수, 문자열 같이 서로 다른 자료형을 담을 수 있다.</span>
</span></span><span style=display:flex><span>&gt; a = [3, 3.0, &#39;a&#39;]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># flat 형</span>
</span></span><span style=display:flex><span>&gt; chars = &#39;+_)(*&#39;
</span></span></code></pre></td></tr></table></div></div><p> </p><h3 id=12-element가-수정될-수-있는가-없는가>1.2 element가 수정될 수 있는가?? 없는가??<a hidden class=anchor aria-hidden=true href=#12-element가-수정될-수-있는가-없는가>#</a></h3><ul><li><p><strong>Mutable</strong>: 변경할 수 있는 date type<br>ex) list, dictionary, set, bytearray, array, memoryview, deque..</p></li><li><p><strong>Immutable</strong>: 변경할 수 없는 data type<br>ex) tuple, str, bytes, int, float&mldr;</p></li><li><p>수정될 수 있으면 element를 교체, 삭제, 추가가 가능하다.<br>ex) del, append 등등 가능</p></li></ul><p> </p><h3 id=13-순서가-있는가-없는가>1.3 순서가 있는가 없는가???<a hidden class=anchor aria-hidden=true href=#13-순서가-있는가-없는가>#</a></h3><ul><li><p><strong>Sequence</strong>: 순서가 존재한다.<br>ex) list, tuple, string ..</p></li><li><p><strong>Collections</strong>: 순서가 존재하지 않는다.<br>ex) set, dictionary ..</p></li><li><p>순서가 존재하면 slicing, indexing 이 가능하다.</p></li></ul><p> </p><hr><h1 id=2-mutable-과-immutable>2. Mutable 과 Immutable<a hidden class=anchor aria-hidden=true href=#2-mutable-과-immutable>#</a></h1><blockquote><p><strong><em>mutable: value를 수정할 수 있기 때문에, &lsquo;id&rsquo; 값을 바꾸지 않는다.</em></strong><br><strong><em>immutable: value가 변경되지 못하기 때문에, &lsquo;id&rsquo; 값을 바꾼다.</em></strong></p></blockquote><p><code>id()</code> 을 사용하여 mutable과 immutable에 대해 자세히 알아보자.</p><ul><li><p>mutable:</p><ul><li>함수 안에서 매개변수의 값을 변경하면 <strong><em>객체 자체를 업데이트</em></strong> 한다.</li><li>따라서, 매개변수의 값을 변경하면 호출하는 쪽의 <strong><em>실제 인수는 변경</em></strong> 된다.</li><li>그 대신 id 값은 변경되지 않는다.</li></ul></li><li><p>immutable:</p><ul><li>함수 안에서 매개변수 값을 변경하면 <strong><em>다른 객체를 생성</em></strong> 하고, 그 객체에 대한 참조로 업데이트된다.</li><li>따라서 매개변수의 값을 변경해도 호출하는 쪽의 <strong><em>실제 인수에는 영향을 주지 않는다.</em></strong></li><li>그 대신 id 값은 변경된다.</li></ul></li></ul><table><thead><tr><th>Data type</th><th>Mutable</th><th>Immutable</th></tr></thead><tbody><tr><td>매개변수 값 변경 시도</td><td>객체 자체를 업데이트</td><td>다른 객체를 생성</td></tr><tr><td>실제 인수 영향</td><td>변경 O</td><td>변경 X</td></tr><tr><td>id 값</td><td>변경 X</td><td>변경 O</td></tr><tr><td>call by</td><td>reference</td><td>value</td></tr></tbody></table><ul><li>mutable과 immutable에 call by 방식 차이 출처: <a href=https://jeha00.github.io/post/python/python_basic_40_callbyobjectreference/>Python study - call by reference value</a></li></ul><p> </p><h2 id=21-immutable>2.1 Immutable<a hidden class=anchor aria-hidden=true href=#21-immutable>#</a></h2><ul><li>문자열과 누적변수 예시를 통해 알아보자.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; chars = &#39;+_)(*&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># immutable data type인 string을 수정하려 하면 다음과 같은 error 가 뜬다.</span>
</span></span><span style=display:flex><span>&gt; chars[2] = &#39;h&#39;
</span></span><span style=display:flex><span><span style=color:#ff79c6>TypeError</span>: <span style=color:#f1fa8c>&#39;str&#39;</span> object does not support item assignment
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; n = 5
</span></span><span style=display:flex><span><span style=color:#ff79c6>&gt; whlie n &gt; 0</span>:
</span></span><span style=display:flex><span>&gt;   print(n, id(n))
</span></span><span style=display:flex><span>&gt;   n -= 1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#bd93f9>5</span> <span style=color:#bd93f9>1670466136496</span>
</span></span><span style=display:flex><span><span style=color:#bd93f9>4</span> <span style=color:#bd93f9>1670466136464</span>
</span></span><span style=display:flex><span><span style=color:#bd93f9>3</span> <span style=color:#bd93f9>1670466136432</span>
</span></span><span style=display:flex><span><span style=color:#bd93f9>2</span> <span style=color:#bd93f9>1670466136400</span>
</span></span><span style=display:flex><span><span style=color:#bd93f9>1</span> <span style=color:#bd93f9>1670466136368</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>int형은 분명 immutable인데 어떻게 수정이 가능할까???</p><ul><li>이는 int형 객체 12의 값 자체를 변경한 것이 아니라, 다른 정수형 객체 13을 참조하도록 업데이트됐다.</li></ul></li><li><p><code>immutable</code>은 값 자체를 변경할 수 없기 때문에, 다른 객체를 참조하여 <code>id</code> 값이 바뀐다.</p></li><li><p>그래서 <code>누적 변수</code>를 출력하면 <code>id</code>가 달라지는 걸 알 수 있다.</p><ul><li><code>누적 변수</code>: 변수값에 특정값을 더한 결과값을 다시 대입하여 업데이트한 변수</li></ul></li></ul><p> </p><h2 id=22-mutable>2.2 Mutable<a hidden class=anchor aria-hidden=true href=#22-mutable>#</a></h2><ul><li>이번에 mutable 예시를 들어보자.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; k = [1, 2, 3]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(id(k))
</span></span><span style=display:flex><span><span style=color:#bd93f9>2249826233536</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; k[0] = 0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(k, id(k))
</span></span><span style=display:flex><span>[<span style=color:#bd93f9>0</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>] <span style=color:#bd93f9>2249826233536</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>list는 <code>mutable</code>로 성분값을 수정할 수 있어서, <code>id</code> 값이 수정 전과 동일하다.</li></ul><p> </p><hr><h1 id=3-list-comprehension>3. List comprehension<a hidden class=anchor aria-hidden=true href=#3-list-comprehension>#</a></h1><h2 id=31-list-comprehension의-의미와-구조>3.1 List comprehension의 의미와 구조<a hidden class=anchor aria-hidden=true href=#31-list-comprehension의-의미와-구조>#</a></h2><blockquote><p><strong><em>List comprehension이란 list를 만드는 간결한 문법을 말한다.</em></strong><br><strong><em>List comprehensions provide a concise way to create lists.</em></strong><br><strong><em>from: <a href=https://shoark7.github.io/programming/python/about-list-comprehension-python>list comprehension</a></em></strong></p></blockquote><ul><li><p>list comprehension에 대해 찾아보니 번역이 다양하고, 딱 들어맞는게 없어서 고유 명사의 의미로 그대로 사용하겠다.</p></li><li><p>그러면 일반적으로 list를 만드는 방법과 비교해보자.</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># 일반적으로 list를 만드는 방법</span>
</span></span><span style=display:flex><span>&gt; code_list1 = []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; chars = &#39;+_)(*&amp;^&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># ord: Return the Unicode code point for a one-character string.</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># ord: 유니 코드로 전환하는 함수</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&gt; for s in chars</span>:
</span></span><span style=display:flex><span>&gt;   code_list1.append(ord(s))
</span></span><span style=display:flex><span>[<span style=color:#bd93f9>43</span>, <span style=color:#bd93f9>95</span>, <span style=color:#bd93f9>41</span>, <span style=color:#bd93f9>40</span>, <span style=color:#bd93f9>42</span>, <span style=color:#bd93f9>38</span>, <span style=color:#bd93f9>94</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## list comprehension을 이용한 방법</span>
</span></span><span style=display:flex><span>&gt; code_list2 = [ord(s) for s in chars]
</span></span><span style=display:flex><span>[<span style=color:#bd93f9>43</span>, <span style=color:#bd93f9>95</span>, <span style=color:#bd93f9>41</span>, <span style=color:#bd93f9>40</span>, <span style=color:#bd93f9>42</span>, <span style=color:#bd93f9>38</span>, <span style=color:#bd93f9>94</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># for문과 if문을 사용한 list comprehension</span>
</span></span><span style=display:flex><span>&gt; code_list3 = [ord(s) for s in chars if ord(s) &gt; 40]
</span></span><span style=display:flex><span>[<span style=color:#bd93f9>43</span>, <span style=color:#bd93f9>95</span>, <span style=color:#bd93f9>41</span>, <span style=color:#bd93f9>40</span>, <span style=color:#bd93f9>42</span>, <span style=color:#bd93f9>38</span>, <span style=color:#bd93f9>94</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; vec = [-4, -2, 0, 2, 4]
</span></span><span style=display:flex><span>&gt; [x for x in vec if x &gt;= 0]
</span></span><span style=display:flex><span>[<span style=color:#bd93f9>0</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>4</span>]
</span></span></code></pre></td></tr></table></div></div><ul><li><p>그러면 위 예시를 통해 <code>list comprehension</code>의 문법에 대해 정리해보자.</p><ul><li><p><strong>[&lsquo;변수(B)를 사용하여 list의 성분이 될 값(A)&rsquo; for &lsquo;사용할 변수 이름(B)&rsquo; in &lsquo;iterator&rsquo;]</strong></p></li><li><p><code>list comprehension</code>에서 <code>if 조건문</code>은 <code>for문</code> 표현식 뒤에 설정할 수 있다.</p></li></ul></li><li><p>지난 번에 알아본 <code>namedtuple</code>을 사용해서 예시를 만들어보자.</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># list comprehension을 통해 3개의 반을 만들고, 각 반마다 6명의 학생이 있는 list를 만들자.</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 예제 2-1</span>
</span></span><span style=display:flex><span>&gt; numbers = [str(n) for n in range(1,6)]
</span></span><span style=display:flex><span>&gt; ranks = &#39;A B C&#39;.split( )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(numbers)
</span></span><span style=display:flex><span>&gt; print(ranks)
</span></span><span style=display:flex><span>[<span style=color:#f1fa8c>&#39;1&#39;</span>, <span style=color:#f1fa8c>&#39;2&#39;</span>, <span style=color:#f1fa8c>&#39;3&#39;</span>, <span style=color:#f1fa8c>&#39;4&#39;</span>, <span style=color:#f1fa8c>&#39;5&#39;</span>]
</span></span><span style=display:flex><span>[<span style=color:#f1fa8c>&#39;A&#39;</span>, <span style=color:#f1fa8c>&#39;B&#39;</span>, <span style=color:#f1fa8c>&#39;C&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># namedtuple 만들기</span>
</span></span><span style=display:flex><span>&gt; Classes = namedtuple(&#39;Classes&#39;, [&#39;rank&#39;, &#39;number&#39;])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 2개의 for 반복문을 사용하여 list의 성분값으로 만들어질 인수들에 각각 mapping 했다.</span>
</span></span><span style=display:flex><span>&gt; students = [Classes(rank, number) for rank in ranks for number in numbers]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(students)
</span></span><span style=display:flex><span>[Classes(rank=&#39;A&#39;, number=&#39;1&#39;), Classes(rank=&#39;A&#39;, number=&#39;2&#39;), Classes(rank=&#39;A&#39;, number=&#39;3&#39;), Classes(rank=&#39;A&#39;, number=&#39;4&#39;), Classes(rank=&#39;A&#39;, number=&#39;5&#39;),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Classes(rank=&#39;B&#39;, number=&#39;1&#39;), Classes(rank=&#39;B&#39;, number=&#39;2&#39;), Classes(rank=&#39;B&#39;, number=&#39;3&#39;), Classes(rank=&#39;B&#39;, number=&#39;4&#39;), Classes(rank=&#39;B&#39;, number=&#39;5&#39;),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Classes(rank=&#39;C&#39;, number=&#39;1&#39;), Classes(rank=&#39;C&#39;, number=&#39;2&#39;), Classes(rank=&#39;C&#39;, number=&#39;3&#39;), Classes(rank=&#39;C&#39;, number=&#39;4&#39;), Classes(rank=&#39;C&#39;, number=&#39;5&#39;),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Classes(rank=&#39;D&#39;, number=&#39;1&#39;), Classes(rank=&#39;D&#39;, number=&#39;2&#39;), Classes(rank=&#39;D&#39;, number=&#39;3&#39;), Classes(rank=&#39;D&#39;, number=&#39;4&#39;), Classes(rank=&#39;D&#39;, number=&#39;5&#39;)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 예제 2-2</span>
</span></span><span style=display:flex><span>&gt; student = [Classes(rank, number)
</span></span><span style=display:flex><span>&gt;                   for rank in &#39;A B C&#39;.split( )
</span></span><span style=display:flex><span>&gt;                     for number in [str(n) for n in range(1,6)]]
</span></span></code></pre></td></tr></table></div></div><ul><li>예제 2-2의 경우, 여러 for문을 사용했다.</li><li>한 줄로 표현할 수 있지만, 가독성이 떨어진다.</li><li>코드 몇 줄을 줄이기 위해서 가독성이 많이 떨어진다면 재고할 방법이다.</li></ul><p> </p><h2 id=32-list-comprehension의-주의사항>3.2 list comprehension의 주의사항<a hidden class=anchor aria-hidden=true href=#32-list-comprehension의-주의사항>#</a></h2><blockquote><p><strong><em>깊은 복사와 얕은 복사를 주의하라. 깊은 복사와 얕은 복사에 대한 자세한 내용은 <a href=https://jeha00.github.io/post/python/python_basic_41_shallowdeepcopy/>[TIL] Python basic 41: Shallow copy & Deep copy</a>을 참고한다.</em></strong></p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># 반복은 하지만 사용하지 않는 변수라면 &#39;_&#39; 로 표현한다.</span>
</span></span><span style=display:flex><span>&gt; marks1 = [[&#39;~&#39;] * 3 for _ in range(4)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 하나의 값이 4개로 복사된 것</span>
</span></span><span style=display:flex><span>&gt; marks2 = [[&#39;~&#39;] * 3] * 4
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 동일한 출력물을 갖는다.</span>
</span></span><span style=display:flex><span>&gt; print(marks1)
</span></span><span style=display:flex><span>&gt; print(marks2)
</span></span><span style=display:flex><span>[[<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 수정하기</span>
</span></span><span style=display:flex><span>&gt; marks1[0][1] = &#39;x&#39;
</span></span><span style=display:flex><span>&gt; marks2[0][1] = &#39;x&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(marks1)
</span></span><span style=display:flex><span>[[<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;x&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(marks2)
</span></span><span style=display:flex><span>[[<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;x&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;x&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;x&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>], [<span style=color:#f1fa8c>&#39;~&#39;</span>, <span style=color:#f1fa8c>&#39;x&#39;</span>, <span style=color:#f1fa8c>&#39;~&#39;</span>]]
</span></span></code></pre></td></tr></table></div></div><ul><li><p>&lsquo;marks2&rsquo;</p><ul><li>하나의 값이 4개로 복사되었다는 건 하나의 id값이 복사된 걸 의미한다.</li><li>한 객체를 참조하는 게 4개다.</li><li>그래서 하나의 객체만 수정해도 이 객체를 참조하는 값들까지 다 수정된다.</li><li>이를 <code>얕은 복사(copy)</code>라고 한다.</li></ul></li><li><p>&lsquo;marks1&rsquo;</p><ul><li>&lsquo;marks2&rsquo; 와 달리 for문을 통해 <strong><em>다 새로 만들어졌다.</em></strong></li><li>그래서 <strong><em>각각 다른 객체를 참조</em></strong> 한다.</li><li>이를 <code>깊은 복사(deepcopy)</code>라 한다.</li></ul></li><li><p>이를 <code>id</code>값으로 확인해보자.</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># marks1은 다 다른 id 값을 가진다.</span>
</span></span><span style=display:flex><span>&gt; print([id(i) for i in marks1])
</span></span><span style=display:flex><span>[<span style=color:#bd93f9>2922096396544</span>, <span style=color:#bd93f9>2922096396480</span>, <span style=color:#bd93f9>2922096396352</span>, <span style=color:#bd93f9>2922096396288</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># marks2는 다 동일한 id 값을 가진다.</span>
</span></span><span style=display:flex><span>&gt; print([id(i) for i in marks2])
</span></span><span style=display:flex><span>[<span style=color:#bd93f9>2922096395200</span>, <span style=color:#bd93f9>2922096395200</span>, <span style=color:#bd93f9>2922096395200</span>, <span style=color:#bd93f9>2922096395200</span>]
</span></span></code></pre></td></tr></table></div></div><ul><li>그래서 copy 형식을 사용할 때는 조심히 다뤄야 한다.</li><li><code>id</code>값을 확인해보고, 꼼꼼히 개발하자.</li></ul><p> </p><hr><h1 id=4-advanced-tuple-with-unpacking>4. Advanced tuple with unpacking<a hidden class=anchor aria-hidden=true href=#4-advanced-tuple-with-unpacking>#</a></h1><blockquote><p><strong><em>1. 인자를 입력할 때 upacking을 사용할 수 있다.</em></strong><br><strong><em>2. 반환값을 unpacking하여 출력할 수 있다.</em></strong><br><strong><em>3. unpacking으로 여러 값을 담을 수 있다.</em></strong></p></blockquote><ul><li><p>tuple에 <code>unpacking</code>을 사용하여 더 깊이 들어가자.</p></li><li><p>tuple은 <code>immutable</code>이지만, <code>unpacking</code>으로 풀을 수 있다.</p></li><li><p>오픈 소스들을 보면 아래 방식으로 코딩한 경우가 많으므로, 아래 3가지 경우를 눈에 익혀두자.</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># divmod: Return the tuple (x//y, x%y).</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># divmode: tuple data type으로 (몫, 나머지)를 반환하는 함수</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 정상적인 입력</span>
</span></span><span style=display:flex><span>&gt; print(divmod(100, 9))
</span></span><span style=display:flex><span>(11, 1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># divmod는 인자를 2개 받아야하는데, 다음과 같이 입력하면 1개만 받은 걸로 인식한다.</span>
</span></span><span style=display:flex><span>&gt; print(divmod((100, 9)))
</span></span><span style=display:flex><span><span style=color:#ff79c6>TypeError</span>: divmod expected 2 arguments, got 1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## 1. 인자를 입력할 때, unpacking을 사용할 수 있다.</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 인자를 1개만 입력하고 싶다면 unpacking을 사용하자.</span>
</span></span><span style=display:flex><span>&gt; print(divmond(*(100, 9)))
</span></span><span style=display:flex><span>(11, 1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## 2. 반환값을 unpacking하여 출력할 수 있다.</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># divmond가 반환하는 걸 unpacking할 수도 있다.</span>
</span></span><span style=display:flex><span>&gt; print(*(divmond(100, 9)))
</span></span><span style=display:flex><span><span style=color:#bd93f9>11</span> <span style=color:#bd93f9>1</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>range:<ul><li>Return an object that produces a sequence of integers from start (inclusive) to stop (exclusive) by step</li></ul></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; x, y, rest = range(10)
</span></span><span style=display:flex><span> <span style=color:#ff79c6>ValueError</span>: too many values to unpack (expected 3)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## 3. unpacking하여 여러 값을 담을 수 있다.</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 그러면 unpacking을 이용해보자.</span>
</span></span><span style=display:flex><span>&gt; x, y, *rest = range(10)
</span></span><span style=display:flex><span>&gt; print(x, y, rest)
</span></span><span style=display:flex><span><span style=color:#bd93f9>0</span> <span style=color:#bd93f9>1</span> [<span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>, <span style=color:#bd93f9>4</span>, <span style=color:#bd93f9>5</span>, <span style=color:#bd93f9>6</span>, <span style=color:#bd93f9>7</span>, <span style=color:#bd93f9>8</span>, <span style=color:#bd93f9>9</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; x, y, *rest = range(2)
</span></span><span style=display:flex><span>&gt; print(x, y, rest)
</span></span><span style=display:flex><span><span style=color:#bd93f9>0</span> <span style=color:#bd93f9>1</span> []
</span></span></code></pre></td></tr></table></div></div><p> </p><hr><h1 id=5-advanced-dictionary>5. Advanced dictionary<a hidden class=anchor aria-hidden=true href=#5-advanced-dictionary>#</a></h1><h2 id=51-hash-table이란>5.1 hash table이란??<a hidden class=anchor aria-hidden=true href=#51-hash-table이란>#</a></h2><blockquote><p><strong><em>key를 사용하여 적은 리소스로 많은 데이터를 효율적으로 관리하는 데이터 구조 타입으로 그 예가 dictionary다. key : value 로 된 자료형을 의미한다. from reference</em></strong></p></blockquote><ul><li><p>dictionary에 대해 간단히 정리하면</p><ul><li><p><code>key</code> : <code>value</code>로 구성된 data type을 말한다.</p></li><li><p>dictionary의 <code>key</code>는 중복을 허용하지 않는다.</p><ul><li>ex) 각 사람이 가지고 있는 주민등록번호</li></ul></li></ul></li><li><p>python의 dictionary는 <strong><em>key</em></strong> 를 hash 함수를 통해서 hash 주소로 변환하는 원리이기 때문에, <strong><em>key</em></strong> 를 통해서 <strong><em>value</em></strong> 에 접근할 수 있다.</p></li></ul><blockquote><p>참고: 파이썬 언어 자체가 강력한 hash table 엔진으로 만들어졌기 때문에, 파이썬에서는 hash table을 별도로 구현할 필요가 없다.</p></blockquote><ul><li>그러면 직접 이에 대해서 알아보자.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; t1 = (10, 20, (30, 40, 50))
</span></span><span style=display:flex><span>&gt; t2 = (10, 20, [30, 40, 50])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># hash: Return the hash value for the given object.</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># 출력되는 hash index</span>
</span></span><span style=display:flex><span>&gt; print(hash(t1))
</span></span><span style=display:flex><span><span style=color:#bd93f9>465510690262297113</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(hash(t2))
</span></span><span style=display:flex><span><span style=color:#ff79c6>TypeError: unhashable type</span>: <span style=color:#f1fa8c>&#39;list&#39;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>hash 값을 확인할 수 있다는 건 <code>고유하다</code>는 의미로, <code>수정 불가능</code>하다는 걸 말한다.</li><li>그래서 list type의 hash number를 확인할려고 했으나, TypeError가 뜬 것이다.</li><li>list는 <code>mutable</code>이기 때문이다.</li></ul><p> </p><h2 id=52-key가-중복되는-dictionary-만들기>5.2 key가 중복되는 dictionary 만들기<a hidden class=anchor aria-hidden=true href=#52-key가-중복되는-dictionary-만들기>#</a></h2><blockquote><p><strong><em>&rsquo; setdefault &lsquo;를 사용하여 만든다. 이 방법은 tuple로 dictionary를 만들 때, 권고되는 방법이다.</em></strong></p></blockquote><ul><li>이런 방식으로 자주 구현하므로 눈에 익혀두자.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># 이중 tuple</span>
</span></span><span style=display:flex><span>&gt; source = ((&#39;k1&#39;, &#39;val1&#39;),
</span></span><span style=display:flex><span>&gt;             (&#39;k1&#39;, &#39;val2&#39;),
</span></span><span style=display:flex><span>&gt;             (&#39;k2&#39;, &#39;val3&#39;),
</span></span><span style=display:flex><span>&gt;             (&#39;k2&#39;, &#39;val4&#39;),
</span></span><span style=display:flex><span>&gt;             (&#39;k2&#39;, &#39;val5&#39;))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; new_dict1 = {}
</span></span><span style=display:flex><span>&gt; new_dict2 = {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## No use setdefault</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#6272a4># k에는 k1, k2가, v에는 val가 할당된다.</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&gt; for k, v in source</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6272a4># new_dict1 에 k1 이나 k2가 있다면, 이에 대한 value 값으로 v를 끝에 추가한다.</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&gt;   if k in new_dict1</span>:
</span></span><span style=display:flex><span>&gt;       print(k, v)
</span></span><span style=display:flex><span>&gt;       new_dict1[k].append(v)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6272a4># new_dict1 에 k1 이나 k2가 없다면 k를 추가하고, 이 k에 대한 value로 v를 추가한다.</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&gt;   else</span>:
</span></span><span style=display:flex><span>&gt;       new_dict1[k] = [v]
</span></span><span style=display:flex><span>&gt;       print(new_dict1)
</span></span><span style=display:flex><span>k1 val1
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;</span>: [<span style=color:#f1fa8c>&#39;val1&#39;</span>]}
</span></span><span style=display:flex><span>k1 val2
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;</span>: [<span style=color:#f1fa8c>&#39;val1&#39;</span>, <span style=color:#f1fa8c>&#39;val2&#39;</span>]}
</span></span><span style=display:flex><span>k2 val3
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;: [&#39;val1&#39;, &#39;val2&#39;], &#39;k2&#39;</span>: [<span style=color:#f1fa8c>&#39;val3&#39;</span>]}
</span></span><span style=display:flex><span>k2 val4
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;: [&#39;val1&#39;, &#39;val2&#39;], &#39;k2&#39;</span>: [<span style=color:#f1fa8c>&#39;val3&#39;</span>, <span style=color:#f1fa8c>&#39;val4&#39;</span>]}
</span></span><span style=display:flex><span>k2 val5
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;: [&#39;val1&#39;, &#39;val2&#39;], &#39;k2&#39;</span>: [<span style=color:#f1fa8c>&#39;val3&#39;</span>, <span style=color:#f1fa8c>&#39;val4&#39;</span>, <span style=color:#f1fa8c>&#39;val5&#39;</span>]}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(new_dict1)
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;: [&#39;val1&#39;, &#39;val2&#39;], &#39;k2&#39;</span>: [<span style=color:#f1fa8c>&#39;val3&#39;</span>, <span style=color:#f1fa8c>&#39;val4&#39;</span>, <span style=color:#f1fa8c>&#39;val5&#39;</span>]}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## use setdefault</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&gt; for k, v in source</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># k는 default로 들어가고, 나머지는 list type에 담는다는 의미다.</span>
</span></span><span style=display:flex><span>&gt;      new_dict2.setdefault(k, []).append(v)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(new_dict2)
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;: [&#39;val1&#39;, &#39;val2&#39;], &#39;k2&#39;</span>: [<span style=color:#f1fa8c>&#39;val3&#39;</span>, <span style=color:#f1fa8c>&#39;val4&#39;</span>, <span style=color:#f1fa8c>&#39;val5&#39;</span>]}
</span></span></code></pre></td></tr></table></div></div><ul><li><code>setdefault</code>를 사용하여 훨씬 짧은 코드로 key가 중복된 tuple을 dictionary로 구현했다.</li><li><code>setdefault</code>를 사용하여 <code>[]</code> 가 아닌 <code>()</code>로 했다면 tuple이므로 만들 수 없다.</li></ul><p> </p><ul><li>만약, dictionary를 만들 때 키가 중복되면 나중 값으로 overwritten된다.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; new_dict3 = {k : v for k , v in source}
</span></span><span style=display:flex><span>&gt; print(new_dict3)
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;k1&#39;: &#39;val2&#39;, &#39;k2&#39;</span>: <span style=color:#f1fa8c>&#39;val5&#39;</span>}
</span></span></code></pre></td></tr></table></div></div><p> </p><h2 id=53-immutable-dictionary-생성하기>5.3 Immutable Dictionary 생성하기<a hidden class=anchor aria-hidden=true href=#53-immutable-dictionary-생성하기>#</a></h2><blockquote><p><strong><em>immutable dictionary 즉, &lsquo;읽기 전용&rsquo; dictionary를 만들어보자.</em></strong></p></blockquote><ul><li><p><strong>왜 읽기 전용을 만들까???</strong></p><ul><li>&lsquo;읽기 전용&rsquo;을 만들지 않고, 파일을 그냥 두어도 된다.</li><li>하지만, communication의 문제로 팀원이 이 데이터를 수정할수도 있다.</li><li>그래서 수정하면 안되는 file은 &lsquo;읽기 전용&rsquo;으로 만든다.</li></ul></li><li><p><strong>&lsquo;읽기 전용&rsquo;으로 만들기 위해서</strong></p><ul><li><code>MappingProxyType</code> 를 사용할 것이다.</li><li>data 이름에는 <code>_frozen</code>을 작성한다. (외국에서는 이렇게 한다.)</li></ul></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; from types import MappingProxyType
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; d = {&#39;key1&#39;: &#39;value1&#39;}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; d_frozen = MappingProxyType(d)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(d, id(d))
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;key1&#39;</span>: <span style=color:#f1fa8c>&#39;value1&#39;</span>} <span style=color:#bd93f9>2586113038272</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(d_frozen, id(d_frozen))
</span></span><span style=display:flex><span>{<span style=color:#ff79c6>&#39;key1&#39;</span>: <span style=color:#f1fa8c>&#39;value1&#39;</span>} <span style=color:#bd93f9>2586113478608</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(type(d), type(d_frozen))
</span></span><span style=display:flex><span>&lt;class &#39;dict&#39;&gt; &lt;class &#39;mappingproxy&#39;&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(d is d_frozen, d == d_frozen)
</span></span><span style=display:flex><span><span style=color:#ff79c6>False</span> <span style=color:#ff79c6>True</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>d</code>와 <code>d_frozen</code>이 <code>==</code>을 통해서 value가 같다는 건 확인했다.</li><li>하지만, 서로 다른 객체라는 걸 <code>id</code>를 통해 확인했다.</li><li>다른 객체를 참조했기 때문에 <code>is</code>로 확인했을 때, false가 뜬 것이다.</li></ul><hr><h1 id=6-advanced-set>6. Advanced set<a hidden class=anchor aria-hidden=true href=#6-advanced-set>#</a></h1><h2 id=61-immutable-set>6.1 Immutable set<a hidden class=anchor aria-hidden=true href=#61-immutable-set>#</a></h2><blockquote><p><strong><em>&rsquo; frozenset &lsquo;을 사용하여 &lsquo;mutable&rsquo; 인 set을 &rsquo; immutable&rsquo; 로 바꾸기</em></strong></p></blockquote><ul><li>set data type을 선언하는 방법은 다음과 같다.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4># {}만 사용</span>
</span></span><span style=display:flex><span>&gt; s1 = {&#39;Apple&#39;, &#39;Orange&#39;, &#39;Apple&#39;, &#39;Orange&#39;, &#39;Kiwi&#39;}
</span></span><span style=display:flex><span>&gt; s3 = {3}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># set([]) 사용</span>
</span></span><span style=display:flex><span>&gt; s2 = set([&#39;Apple&#39;, &#39;Orange&#39;, &#39;Apple&#39;, &#39;Orange&#39;, &#39;Kiwi&#39;])
</span></span><span style=display:flex><span>&gt; s4 = set() <span style=color:#6272a4># Not {}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>그러면 <code>frozenset</code> 을 사용하여 선언해보자.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; s5 = frozenset({&#39;Apple&#39;, &#39;Orange&#39;, &#39;Apple&#39;, &#39;Orange&#39;, &#39;Kiwi&#39;})
</span></span></code></pre></td></tr></table></div></div><ul><li>그러면 s1과 s5에 각각 원소를 추가한 후, 출력한다.</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; s1.add(&#39;Melon&#39;)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># s5인 경우, immutable로 바꼈기 때문에, 수정할 수 없다는 걸 확인했다.</span>
</span></span><span style=display:flex><span>&gt; s5.add(&#39;Melon&#39;)
</span></span><span style=display:flex><span><span style=color:#ff79c6>AttributeError</span>: <span style=color:#f1fa8c>&#39;frozenset&#39;</span> object has no attribute &#39;add&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## s1 ~ s5까지 출력해보자.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(s1, type(s1))
</span></span><span style=display:flex><span>{<span style=color:#f1fa8c>&#39;Kiwi&#39;</span>, <span style=color:#f1fa8c>&#39;Orange&#39;</span>, <span style=color:#f1fa8c>&#39;Melon&#39;</span>, <span style=color:#f1fa8c>&#39;Apple&#39;</span>} &lt;class &#39;set&#39;&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(s2, type(s2))
</span></span><span style=display:flex><span>{<span style=color:#f1fa8c>&#39;Kiwi&#39;</span>, <span style=color:#f1fa8c>&#39;Apple&#39;</span>, <span style=color:#f1fa8c>&#39;Orange&#39;</span>} &lt;class &#39;set&#39;&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(s3, type(s3))
</span></span><span style=display:flex><span>{<span style=color:#bd93f9>3</span>} &lt;class &#39;set&#39;&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(s4, type(s4))
</span></span><span style=display:flex><span>set() &lt;class &#39;set&#39;&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(s5, type(s5))
</span></span><span style=display:flex><span>frozenset({&#39;Kiwi&#39;, &#39;Orange&#39;, &#39;Apple&#39;}) &lt;class &#39;frozenset&#39;&gt;
</span></span></code></pre></td></tr></table></div></div><ul><li><code>frozenset</code>을 통해서 immutable set인 frozenset으로 type이 바뀐 걸 알 수 있다.</li></ul><p> </p><h2 id=62-선언-최적화>6.2 선언 최적화<a hidden class=anchor aria-hidden=true href=#62-선언-최적화>#</a></h2><blockquote><p><strong><em>from dis import dis 사용하여, 더 빠른 선언법을 확인하기</em></strong></p></blockquote><ul><li><p>요즘은 하드웨어의 성능이 매우 좋기 때문에, 소량의 데이터에서는 큰 영향이 없다.</p></li><li><p>하지만, 데이터량이 늘어남에 따라 작은 최적화가 쌓여 큰 성능 개선을 이룰 수 있으므로, 확인해보자.</p></li><li><p>위의 여러 set 선언 방법들 중 어느 것이 제일 빠를까???</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>&gt; from dis import dis
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(dis(&#39;{10}&#39;))
</span></span><span style=display:flex><span>  <span style=color:#bd93f9>1</span>           <span style=color:#bd93f9>0</span> LOAD_CONST               0 (10)
</span></span><span style=display:flex><span>              <span style=color:#bd93f9>2</span> BUILD_SET                1
</span></span><span style=display:flex><span>              <span style=color:#bd93f9>4</span> RETURN_VALUE
</span></span><span style=display:flex><span>None
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(dis(&#39;set([10])&#39;))
</span></span><span style=display:flex><span> <span style=color:#bd93f9>1</span>           <span style=color:#bd93f9>0</span> LOAD_NAME                0 (set)
</span></span><span style=display:flex><span>              <span style=color:#bd93f9>2</span> LOAD_CONST               0 (10)
</span></span><span style=display:flex><span>              <span style=color:#bd93f9>4</span> BUILD_LIST               1
</span></span><span style=display:flex><span>              <span style=color:#bd93f9>6</span> CALL_FUNCTION            1
</span></span><span style=display:flex><span>              <span style=color:#bd93f9>8</span> RETURN_VALUE
</span></span><span style=display:flex><span>None
</span></span></code></pre></td></tr></table></div></div><ul><li>set([10]) 은 5단계, {10}은 3단계로 s1처럼 선언하는 방식이 더 빠르다는 걸 알 수 있다.</li></ul><p> </p><h2 id=63-set-comprehension>6.3 Set comprehension<a hidden class=anchor aria-hidden=true href=#63-set-comprehension>#</a></h2><ul><li><p><a href=#3-list-comprehension>list comprehension</a>에서 알아봤기 때문에, comprehension의 의미는 생략한다.</p></li><li><p>바로 실습해보자.</p></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#6272a4>## 예제 1</span>
</span></span><span style=display:flex><span>&gt; l = {(m, n) for n in range(2) for m in range(3, 5)}
</span></span><span style=display:flex><span>&gt; l = set([(3, 0), (3, 1), (4, 0), (4, 1)])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(l)
</span></span><span style=display:flex><span>{(3, 1), (4, 0), (4, 1), (3, 0)}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## 예제 2</span>
</span></span><span style=display:flex><span>&gt; sentence = &#34;The cat in the hat had two sidekicks, thing one and thing two.&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; words = sentence.lower().replace(&#39;.&#39;, &#39;&#39;).replace(&#39;,&#39;, &#39;&#39;).split()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; unique_word = {word for word in words}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(unique_word)
</span></span><span style=display:flex><span>{<span style=color:#f1fa8c>&#39;in&#39;</span>, <span style=color:#f1fa8c>&#39;and&#39;</span>, <span style=color:#f1fa8c>&#39;the&#39;</span>, <span style=color:#f1fa8c>&#39;had&#39;</span>, <span style=color:#f1fa8c>&#39;cat&#39;</span>, <span style=color:#f1fa8c>&#39;two&#39;</span>, <span style=color:#f1fa8c>&#39;thing&#39;</span>, <span style=color:#f1fa8c>&#39;one&#39;</span>, <span style=color:#f1fa8c>&#39;sidekicks&#39;</span>, <span style=color:#f1fa8c>&#39;hat&#39;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>## 예제 3</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># if 조건문을 함께 사용해보자.</span>
</span></span><span style=display:flex><span>&gt; unique_words = {word for word in words if len(word) &lt;= 3}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; print(unique_word)
</span></span><span style=display:flex><span>{<span style=color:#f1fa8c>&#39;and&#39;</span>, <span style=color:#f1fa8c>&#39;cat&#39;</span>, <span style=color:#f1fa8c>&#39;had&#39;</span>, <span style=color:#f1fa8c>&#39;hat&#39;</span>, <span style=color:#f1fa8c>&#39;in&#39;</span>, <span style=color:#f1fa8c>&#39;one&#39;</span>, <span style=color:#f1fa8c>&#39;the&#39;</span>, <span style=color:#f1fa8c>&#39;two&#39;</span>}
</span></span></code></pre></td></tr></table></div></div><ul><li>set 또한 list처럼 comprehension의 방법으로 선언할 수 있다는 걸 확인했다.</li><li>간결한 선언법이 장점이지만, 과하면 가독성이 좋지 않다는 걸 기억하자.</li></ul><p> </p><hr><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><a href=https://docs.python.org/3/reference/datamodel.html#special-method-names>Data Model</a></li><li><a href=https://www.inflearn.com/course/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EC%A4%91%EA%B8%89-%EC%9D%B8%ED%94%84%EB%9F%B0-%EC%98%A4%EB%A6%AC%EC%A7%80%EB%84%90>인프런 파이썬 중급</a></li><li><a href="https://docs.python.org/3/tutorial/datastructures.html?highlight=list%20comprehension#list-comprehensions">python 공식문서: list comprehension</a></li><li><a href=https://shoark7.github.io/programming/python/about-list-comprehension-python>[Python] list comprehension에 대한 즐거운 이해</a></li><li><a href="https://book.naver.com/bookdb/book_detail.nhn?bid=16419115">자료구조와 함께 배우는 알고리즘 입문 - 파이썬편</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://jeha00.github.io/tags/til/>TIL</a></li><li><a href=http://jeha00.github.io/tags/python/>python</a></li></ul><nav class=paginav><a class=prev href=http://jeha00.github.io/post/python/python_basic_30_sortvssorted_array/><span class=title>« Prev Page</span><br><span>[TIL] Python basic 30: Sort VS Sorted</span></a>
<a class=next href=http://jeha00.github.io/post/python/python_basic_28_namedtuple/><span class=title>Next Page »</span><br><span>[TIL] Python basic 28: Namedtuple</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 29: Data Model on twitter" href="https://twitter.com/intent/tweet/?text=%5bTIL%5d%20Python%20basic%2029%3a%20Data%20Model&url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython%2fpython_basic_29_datamodel%2f&hashtags=TIL%2cpython"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 29: Data Model on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython%2fpython_basic_29_datamodel%2f&title=%5bTIL%5d%20Python%20basic%2029%3a%20Data%20Model&summary=%5bTIL%5d%20Python%20basic%2029%3a%20Data%20Model&source=http%3a%2f%2fjeha00.github.io%2fpost%2fpython%2fpython_basic_29_datamodel%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 29: Data Model on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython%2fpython_basic_29_datamodel%2f&title=%5bTIL%5d%20Python%20basic%2029%3a%20Data%20Model"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 29: Data Model on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fjeha00.github.io%2fpost%2fpython%2fpython_basic_29_datamodel%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 29: Data Model on whatsapp" href="https://api.whatsapp.com/send?text=%5bTIL%5d%20Python%20basic%2029%3a%20Data%20Model%20-%20http%3a%2f%2fjeha00.github.io%2fpost%2fpython%2fpython_basic_29_datamodel%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share [TIL] Python basic 29: Data Model on telegram" href="https://telegram.me/share/url?text=%5bTIL%5d%20Python%20basic%2029%3a%20Data%20Model&url=http%3a%2f%2fjeha00.github.io%2fpost%2fpython%2fpython_basic_29_datamodel%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=http://jeha00.github.io/>Jeha DevLog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>